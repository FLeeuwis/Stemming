var _E=Object.defineProperty;var wE=(t,e,n)=>e in t?_E(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var se=(t,e,n)=>(wE(t,typeof e!="symbol"?e+"":e,n),n);function E0(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function S0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var T0={exports:{}},Sc={},b0={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ja=Symbol.for("react.element"),xE=Symbol.for("react.portal"),EE=Symbol.for("react.fragment"),SE=Symbol.for("react.strict_mode"),TE=Symbol.for("react.profiler"),bE=Symbol.for("react.provider"),kE=Symbol.for("react.context"),PE=Symbol.for("react.forward_ref"),IE=Symbol.for("react.suspense"),CE=Symbol.for("react.memo"),AE=Symbol.for("react.lazy"),$g=Symbol.iterator;function RE(t){return t===null||typeof t!="object"?null:(t=$g&&t[$g]||t["@@iterator"],typeof t=="function"?t:null)}var k0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P0=Object.assign,I0={};function so(t,e,n){this.props=t,this.context=e,this.refs=I0,this.updater=n||k0}so.prototype.isReactComponent={};so.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};so.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function C0(){}C0.prototype=so.prototype;function Ad(t,e,n){this.props=t,this.context=e,this.refs=I0,this.updater=n||k0}var Rd=Ad.prototype=new C0;Rd.constructor=Ad;P0(Rd,so.prototype);Rd.isPureReactComponent=!0;var Wg=Array.isArray,A0=Object.prototype.hasOwnProperty,Dd={current:null},R0={key:!0,ref:!0,__self:!0,__source:!0};function D0(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)A0.call(e,i)&&!R0.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Ja,type:t,key:s,ref:o,props:r,_owner:Dd.current}}function DE(t,e){return{$$typeof:Ja,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Md(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ja}function ME(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Kg=/\/+/g;function gh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ME(""+t.key):e.toString(36)}function lu(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ja:case xE:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+gh(o,0):i,Wg(r)?(n="",t!=null&&(n=t.replace(Kg,"$&/")+"/"),lu(r,e,n,"",function(c){return c})):r!=null&&(Md(r)&&(r=DE(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Kg,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",Wg(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+gh(s,a);o+=lu(s,e,n,l,r)}else if(l=RE(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+gh(s,a++),o+=lu(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bl(t,e,n){if(t==null)return t;var i=[],r=0;return lu(t,i,"","",function(s){return e.call(n,s,r++)}),i}function OE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $t={current:null},uu={transition:null},LE={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:uu,ReactCurrentOwner:Dd};function M0(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:bl,forEach:function(t,e,n){bl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bl(t,function(){e++}),e},toArray:function(t){return bl(t,function(e){return e})||[]},only:function(t){if(!Md(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=so;fe.Fragment=EE;fe.Profiler=TE;fe.PureComponent=Ad;fe.StrictMode=SE;fe.Suspense=IE;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LE;fe.act=M0;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=P0({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Dd.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)A0.call(e,l)&&!R0.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Ja,type:t.type,key:r,ref:s,props:i,_owner:o}};fe.createContext=function(t){return t={$$typeof:kE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bE,_context:t},t.Consumer=t};fe.createElement=D0;fe.createFactory=function(t){var e=D0.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:PE,render:t}};fe.isValidElement=Md;fe.lazy=function(t){return{$$typeof:AE,_payload:{_status:-1,_result:t},_init:OE}};fe.memo=function(t,e){return{$$typeof:CE,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=uu.transition;uu.transition={};try{t()}finally{uu.transition=e}};fe.unstable_act=M0;fe.useCallback=function(t,e){return $t.current.useCallback(t,e)};fe.useContext=function(t){return $t.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return $t.current.useDeferredValue(t)};fe.useEffect=function(t,e){return $t.current.useEffect(t,e)};fe.useId=function(){return $t.current.useId()};fe.useImperativeHandle=function(t,e,n){return $t.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return $t.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return $t.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return $t.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return $t.current.useReducer(t,e,n)};fe.useRef=function(t){return $t.current.useRef(t)};fe.useState=function(t){return $t.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return $t.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return $t.current.useTransition()};fe.version="18.3.1";b0.exports=fe;var z=b0.exports;const Tc=S0(z),NE=E0({__proto__:null,default:Tc},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE=z,VE=Symbol.for("react.element"),zE=Symbol.for("react.fragment"),jE=Object.prototype.hasOwnProperty,BE=FE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UE={key:!0,ref:!0,__self:!0,__source:!0};function O0(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)jE.call(e,i)&&!UE.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:VE,type:t,key:s,ref:o,props:r,_owner:BE.current}}Sc.Fragment=zE;Sc.jsx=O0;Sc.jsxs=O0;T0.exports=Sc;var K=T0.exports,af={},L0={exports:{}},hn={},N0={exports:{}},F0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,X){var ee=j.length;j.push(X);e:for(;0<ee;){var pe=ee-1>>>1,oe=j[pe];if(0<r(oe,X))j[pe]=X,j[ee]=oe,ee=pe;else break e}}function n(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var X=j[0],ee=j.pop();if(ee!==X){j[0]=ee;e:for(var pe=0,oe=j.length,me=oe>>>1;pe<me;){var Ue=2*(pe+1)-1,Re=j[Ue],De=Ue+1,vt=j[De];if(0>r(Re,ee))De<oe&&0>r(vt,Re)?(j[pe]=vt,j[De]=ee,pe=De):(j[pe]=Re,j[Ue]=ee,pe=Ue);else if(De<oe&&0>r(vt,ee))j[pe]=vt,j[De]=ee,pe=De;else break e}}return X}function r(j,X){var ee=j.sortIndex-X.sortIndex;return ee!==0?ee:j.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,p=3,y=!1,_=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(j){for(var X=n(c);X!==null;){if(X.callback===null)i(c);else if(X.startTime<=j)i(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(c)}}function R(j){if(w=!1,P(j),!_)if(n(l)!==null)_=!0,Te(M);else{var X=n(c);X!==null&&be(R,X.startTime-j)}}function M(j,X){_=!1,w&&(w=!1,x(v),v=-1),y=!0;var ee=p;try{for(P(X),f=n(l);f!==null&&(!(f.expirationTime>X)||j&&!C());){var pe=f.callback;if(typeof pe=="function"){f.callback=null,p=f.priorityLevel;var oe=pe(f.expirationTime<=X);X=t.unstable_now(),typeof oe=="function"?f.callback=oe:f===n(l)&&i(l),P(X)}else i(l);f=n(l)}if(f!==null)var me=!0;else{var Ue=n(c);Ue!==null&&be(R,Ue.startTime-X),me=!1}return me}finally{f=null,p=ee,y=!1}}var N=!1,m=null,v=-1,T=5,k=-1;function C(){return!(t.unstable_now()-k<T)}function A(){if(m!==null){var j=t.unstable_now();k=j;var X=!0;try{X=m(!0,j)}finally{X?I():(N=!1,m=null)}}else N=!1}var I;if(typeof E=="function")I=function(){E(A)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,le=ue.port2;ue.port1.onmessage=A,I=function(){le.postMessage(null)}}else I=function(){b(A,0)};function Te(j){m=j,N||(N=!0,I())}function be(j,X){v=b(function(){j(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,Te(M))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var ee=p;p=X;try{return j()}finally{p=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,X){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ee=p;p=j;try{return X()}finally{p=ee}},t.unstable_scheduleCallback=function(j,X,ee){var pe=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?pe+ee:pe):ee=pe,j){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ee+oe,j={id:h++,callback:X,priorityLevel:j,startTime:ee,expirationTime:oe,sortIndex:-1},ee>pe?(j.sortIndex=ee,e(c,j),n(l)===null&&j===n(c)&&(w?(x(v),v=-1):w=!0,be(R,ee-pe))):(j.sortIndex=oe,e(l,j),_||y||(_=!0,Te(M))),j},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(j){var X=p;return function(){var ee=p;p=X;try{return j.apply(this,arguments)}finally{p=ee}}}})(F0);N0.exports=F0;var HE=N0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E=z,cn=HE;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V0=new Set,_a={};function Jr(t,e){Hs(t,e),Hs(t+"Capture",e)}function Hs(t,e){for(_a[t]=e,t=0;t<e.length;t++)V0.add(e[t])}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lf=Object.prototype.hasOwnProperty,WE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qg={},Gg={};function KE(t){return lf.call(Gg,t)?!0:lf.call(Qg,t)?!1:WE.test(t)?Gg[t]=!0:(Qg[t]=!0,!1)}function QE(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GE(t,e,n,i){if(e===null||typeof e>"u"||QE(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wt(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new Wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new Wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new Wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new Wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new Wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new Wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new Wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new Wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new Wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Od=/[\-:]([a-z])/g;function Ld(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Od,Ld);It[e]=new Wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Od,Ld);It[e]=new Wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Od,Ld);It[e]=new Wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new Wt(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new Wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nd(t,e,n,i){var r=It.hasOwnProperty(e)?It[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GE(e,n,r,i)&&(n=null),i||r===null?KE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var xi=$E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kl=Symbol.for("react.element"),_s=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),Fd=Symbol.for("react.strict_mode"),uf=Symbol.for("react.profiler"),z0=Symbol.for("react.provider"),j0=Symbol.for("react.context"),Vd=Symbol.for("react.forward_ref"),cf=Symbol.for("react.suspense"),hf=Symbol.for("react.suspense_list"),zd=Symbol.for("react.memo"),Mi=Symbol.for("react.lazy"),B0=Symbol.for("react.offscreen"),qg=Symbol.iterator;function Io(t){return t===null||typeof t!="object"?null:(t=qg&&t[qg]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,mh;function Ko(t){if(mh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mh=e&&e[1]||""}return`
`+mh+t}var yh=!1;function vh(t,e){if(!t||yh)return"";yh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{yh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ko(t):""}function qE(t){switch(t.tag){case 5:return Ko(t.type);case 16:return Ko("Lazy");case 13:return Ko("Suspense");case 19:return Ko("SuspenseList");case 0:case 2:case 15:return t=vh(t.type,!1),t;case 11:return t=vh(t.type.render,!1),t;case 1:return t=vh(t.type,!0),t;default:return""}}function ff(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ws:return"Fragment";case _s:return"Portal";case uf:return"Profiler";case Fd:return"StrictMode";case cf:return"Suspense";case hf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j0:return(t.displayName||"Context")+".Consumer";case z0:return(t._context.displayName||"Context")+".Provider";case Vd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zd:return e=t.displayName||null,e!==null?e:ff(t.type)||"Memo";case Mi:e=t._payload,t=t._init;try{return ff(t(e))}catch{}}return null}function YE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ff(e);case 8:return e===Fd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function tr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function U0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XE(t){var e=U0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pl(t){t._valueTracker||(t._valueTracker=XE(t))}function H0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=U0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Pu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function df(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yg(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=tr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $0(t,e){e=e.checked,e!=null&&Nd(t,"checked",e,!1)}function pf(t,e){$0(t,e);var n=tr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gf(t,e.type,n):e.hasOwnProperty("defaultValue")&&gf(t,e.type,tr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gf(t,e,n){(e!=="number"||Pu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qo=Array.isArray;function Ms(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+tr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function mf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Qo(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:tr(n)}}function W0(t,e){var n=tr(e.value),i=tr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Zg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function K0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?K0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Il,Q0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Il=Il||document.createElement("div"),Il.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Il.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ea={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JE=["Webkit","ms","Moz","O"];Object.keys(ea).forEach(function(t){JE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ea[e]=ea[t]})});function G0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ea.hasOwnProperty(t)&&ea[t]?(""+e).trim():e+"px"}function q0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=G0(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var ZE=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vf(t,e){if(e){if(ZE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function _f(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wf=null;function jd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xf=null,Os=null,Ls=null;function em(t){if(t=tl(t)){if(typeof xf!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Cc(e),xf(t.stateNode,t.type,e))}}function Y0(t){Os?Ls?Ls.push(t):Ls=[t]:Os=t}function X0(){if(Os){var t=Os,e=Ls;if(Ls=Os=null,em(t),e)for(t=0;t<e.length;t++)em(e[t])}}function J0(t,e){return t(e)}function Z0(){}var _h=!1;function e_(t,e,n){if(_h)return t(e,n);_h=!0;try{return J0(t,e,n)}finally{_h=!1,(Os!==null||Ls!==null)&&(Z0(),X0())}}function xa(t,e){var n=t.stateNode;if(n===null)return null;var i=Cc(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Ef=!1;if(gi)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){Ef=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{Ef=!1}function eS(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var ta=!1,Iu=null,Cu=!1,Sf=null,tS={onError:function(t){ta=!0,Iu=t}};function nS(t,e,n,i,r,s,o,a,l){ta=!1,Iu=null,eS.apply(tS,arguments)}function iS(t,e,n,i,r,s,o,a,l){if(nS.apply(this,arguments),ta){if(ta){var c=Iu;ta=!1,Iu=null}else throw Error(U(198));Cu||(Cu=!0,Sf=c)}}function Zr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function t_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tm(t){if(Zr(t)!==t)throw Error(U(188))}function rS(t){var e=t.alternate;if(!e){if(e=Zr(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return tm(r),t;if(s===i)return tm(r),e;s=s.sibling}throw Error(U(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function n_(t){return t=rS(t),t!==null?i_(t):null}function i_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=i_(t);if(e!==null)return e;t=t.sibling}return null}var r_=cn.unstable_scheduleCallback,nm=cn.unstable_cancelCallback,sS=cn.unstable_shouldYield,oS=cn.unstable_requestPaint,nt=cn.unstable_now,aS=cn.unstable_getCurrentPriorityLevel,Bd=cn.unstable_ImmediatePriority,s_=cn.unstable_UserBlockingPriority,Au=cn.unstable_NormalPriority,lS=cn.unstable_LowPriority,o_=cn.unstable_IdlePriority,bc=null,Wn=null;function uS(t){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(bc,t,void 0,(t.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:fS,cS=Math.log,hS=Math.LN2;function fS(t){return t>>>=0,t===0?32:31-(cS(t)/hS|0)|0}var Cl=64,Al=4194304;function Go(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ru(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Go(a):(s&=o,s!==0&&(i=Go(s)))}else o=n&~r,o!==0?i=Go(o):s!==0&&(i=Go(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Ln(e),r=1<<n,i|=t[n],e&=~r;return i}function dS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pS(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ln(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=dS(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Tf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function a_(){var t=Cl;return Cl<<=1,!(Cl&4194240)&&(Cl=64),t}function wh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Za(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ln(e),t[e]=n}function gS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Ln(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function Ud(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Ln(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Se=0;function l_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var u_,Hd,c_,h_,f_,bf=!1,Rl=[],Hi=null,$i=null,Wi=null,Ea=new Map,Sa=new Map,Li=[],mS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function im(t,e){switch(t){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Ea.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sa.delete(e.pointerId)}}function Ao(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=tl(e),e!==null&&Hd(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function yS(t,e,n,i,r){switch(e){case"focusin":return Hi=Ao(Hi,t,e,n,i,r),!0;case"dragenter":return $i=Ao($i,t,e,n,i,r),!0;case"mouseover":return Wi=Ao(Wi,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Ea.set(s,Ao(Ea.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Sa.set(s,Ao(Sa.get(s)||null,t,e,n,i,r)),!0}return!1}function d_(t){var e=Ir(t.target);if(e!==null){var n=Zr(e);if(n!==null){if(e=n.tag,e===13){if(e=t_(n),e!==null){t.blockedOn=e,f_(t.priority,function(){c_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);wf=i,n.target.dispatchEvent(i),wf=null}else return e=tl(n),e!==null&&Hd(e),t.blockedOn=n,!1;e.shift()}return!0}function rm(t,e,n){cu(t)&&n.delete(e)}function vS(){bf=!1,Hi!==null&&cu(Hi)&&(Hi=null),$i!==null&&cu($i)&&($i=null),Wi!==null&&cu(Wi)&&(Wi=null),Ea.forEach(rm),Sa.forEach(rm)}function Ro(t,e){t.blockedOn===e&&(t.blockedOn=null,bf||(bf=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,vS)))}function Ta(t){function e(r){return Ro(r,t)}if(0<Rl.length){Ro(Rl[0],t);for(var n=1;n<Rl.length;n++){var i=Rl[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Hi!==null&&Ro(Hi,t),$i!==null&&Ro($i,t),Wi!==null&&Ro(Wi,t),Ea.forEach(e),Sa.forEach(e),n=0;n<Li.length;n++)i=Li[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Li.length&&(n=Li[0],n.blockedOn===null);)d_(n),n.blockedOn===null&&Li.shift()}var Ns=xi.ReactCurrentBatchConfig,Du=!0;function _S(t,e,n,i){var r=Se,s=Ns.transition;Ns.transition=null;try{Se=1,$d(t,e,n,i)}finally{Se=r,Ns.transition=s}}function wS(t,e,n,i){var r=Se,s=Ns.transition;Ns.transition=null;try{Se=4,$d(t,e,n,i)}finally{Se=r,Ns.transition=s}}function $d(t,e,n,i){if(Du){var r=kf(t,e,n,i);if(r===null)Ah(t,e,i,Mu,n),im(t,i);else if(yS(r,t,e,n,i))i.stopPropagation();else if(im(t,i),e&4&&-1<mS.indexOf(t)){for(;r!==null;){var s=tl(r);if(s!==null&&u_(s),s=kf(t,e,n,i),s===null&&Ah(t,e,i,Mu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Ah(t,e,i,null,n)}}var Mu=null;function kf(t,e,n,i){if(Mu=null,t=jd(i),t=Ir(t),t!==null)if(e=Zr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=t_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mu=t,null}function p_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aS()){case Bd:return 1;case s_:return 4;case Au:case lS:return 16;case o_:return 536870912;default:return 16}default:return 16}}var Fi=null,Wd=null,hu=null;function g_(){if(hu)return hu;var t,e=Wd,n=e.length,i,r="value"in Fi?Fi.value:Fi.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return hu=r.slice(t,1<i?1-i:void 0)}function fu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dl(){return!0}function sm(){return!1}function fn(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dl:sm,this.isPropagationStopped=sm,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),e}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kd=fn(oo),el=qe({},oo,{view:0,detail:0}),xS=fn(el),xh,Eh,Do,kc=qe({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Do&&(Do&&t.type==="mousemove"?(xh=t.screenX-Do.screenX,Eh=t.screenY-Do.screenY):Eh=xh=0,Do=t),xh)},movementY:function(t){return"movementY"in t?t.movementY:Eh}}),om=fn(kc),ES=qe({},kc,{dataTransfer:0}),SS=fn(ES),TS=qe({},el,{relatedTarget:0}),Sh=fn(TS),bS=qe({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),kS=fn(bS),PS=qe({},oo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IS=fn(PS),CS=qe({},oo,{data:0}),am=fn(CS),AS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DS[t])?!!e[t]:!1}function Qd(){return MS}var OS=qe({},el,{key:function(t){if(t.key){var e=AS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qd,charCode:function(t){return t.type==="keypress"?fu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LS=fn(OS),NS=qe({},kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lm=fn(NS),FS=qe({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qd}),VS=fn(FS),zS=qe({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),jS=fn(zS),BS=qe({},kc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),US=fn(BS),HS=[9,13,27,32],Gd=gi&&"CompositionEvent"in window,na=null;gi&&"documentMode"in document&&(na=document.documentMode);var $S=gi&&"TextEvent"in window&&!na,m_=gi&&(!Gd||na&&8<na&&11>=na),um=" ",cm=!1;function y_(t,e){switch(t){case"keyup":return HS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xs=!1;function WS(t,e){switch(t){case"compositionend":return v_(e);case"keypress":return e.which!==32?null:(cm=!0,um);case"textInput":return t=e.data,t===um&&cm?null:t;default:return null}}function KS(t,e){if(xs)return t==="compositionend"||!Gd&&y_(t,e)?(t=g_(),hu=Wd=Fi=null,xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return m_&&e.locale!=="ko"?null:e.data;default:return null}}var QS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QS[t.type]:e==="textarea"}function __(t,e,n,i){Y0(i),e=Ou(e,"onChange"),0<e.length&&(n=new Kd("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var ia=null,ba=null;function GS(t){A_(t,0)}function Pc(t){var e=Ts(t);if(H0(e))return t}function qS(t,e){if(t==="change")return e}var w_=!1;if(gi){var Th;if(gi){var bh="oninput"in document;if(!bh){var fm=document.createElement("div");fm.setAttribute("oninput","return;"),bh=typeof fm.oninput=="function"}Th=bh}else Th=!1;w_=Th&&(!document.documentMode||9<document.documentMode)}function dm(){ia&&(ia.detachEvent("onpropertychange",x_),ba=ia=null)}function x_(t){if(t.propertyName==="value"&&Pc(ba)){var e=[];__(e,ba,t,jd(t)),e_(GS,e)}}function YS(t,e,n){t==="focusin"?(dm(),ia=e,ba=n,ia.attachEvent("onpropertychange",x_)):t==="focusout"&&dm()}function XS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pc(ba)}function JS(t,e){if(t==="click")return Pc(e)}function ZS(t,e){if(t==="input"||t==="change")return Pc(e)}function eT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fn=typeof Object.is=="function"?Object.is:eT;function ka(t,e){if(Fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!lf.call(e,r)||!Fn(t[r],e[r]))return!1}return!0}function pm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gm(t,e){var n=pm(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pm(n)}}function E_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?E_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function S_(){for(var t=window,e=Pu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pu(t.document)}return e}function qd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tT(t){var e=S_(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&E_(n.ownerDocument.documentElement,n)){if(i!==null&&qd(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=gm(n,s);var o=gm(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nT=gi&&"documentMode"in document&&11>=document.documentMode,Es=null,Pf=null,ra=null,If=!1;function mm(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;If||Es==null||Es!==Pu(i)||(i=Es,"selectionStart"in i&&qd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ra&&ka(ra,i)||(ra=i,i=Ou(Pf,"onSelect"),0<i.length&&(e=new Kd("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Es)))}function Ml(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ss={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionend:Ml("Transition","TransitionEnd")},kh={},T_={};gi&&(T_=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function Ic(t){if(kh[t])return kh[t];if(!Ss[t])return t;var e=Ss[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in T_)return kh[t]=e[n];return t}var b_=Ic("animationend"),k_=Ic("animationiteration"),P_=Ic("animationstart"),I_=Ic("transitionend"),C_=new Map,ym="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(t,e){C_.set(t,e),Jr(e,[t])}for(var Ph=0;Ph<ym.length;Ph++){var Ih=ym[Ph],iT=Ih.toLowerCase(),rT=Ih[0].toUpperCase()+Ih.slice(1);ar(iT,"on"+rT)}ar(b_,"onAnimationEnd");ar(k_,"onAnimationIteration");ar(P_,"onAnimationStart");ar("dblclick","onDoubleClick");ar("focusin","onFocus");ar("focusout","onBlur");ar(I_,"onTransitionEnd");Hs("onMouseEnter",["mouseout","mouseover"]);Hs("onMouseLeave",["mouseout","mouseover"]);Hs("onPointerEnter",["pointerout","pointerover"]);Hs("onPointerLeave",["pointerout","pointerover"]);Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sT=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function vm(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,iS(i,e,void 0,t),t.currentTarget=null}function A_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;vm(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;vm(r,a,c),s=l}}}if(Cu)throw t=Sf,Cu=!1,Sf=null,t}function Le(t,e){var n=e[Mf];n===void 0&&(n=e[Mf]=new Set);var i=t+"__bubble";n.has(i)||(R_(e,t,2,!1),n.add(i))}function Ch(t,e,n){var i=0;e&&(i|=4),R_(n,t,i,e)}var Ol="_reactListening"+Math.random().toString(36).slice(2);function Pa(t){if(!t[Ol]){t[Ol]=!0,V0.forEach(function(n){n!=="selectionchange"&&(sT.has(n)||Ch(n,!1,t),Ch(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ol]||(e[Ol]=!0,Ch("selectionchange",!1,e))}}function R_(t,e,n,i){switch(p_(e)){case 1:var r=_S;break;case 4:r=wS;break;default:r=$d}n=r.bind(null,e,n,t),r=void 0,!Ef||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Ah(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ir(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}e_(function(){var c=s,h=jd(n),f=[];e:{var p=C_.get(t);if(p!==void 0){var y=Kd,_=t;switch(t){case"keypress":if(fu(n)===0)break e;case"keydown":case"keyup":y=LS;break;case"focusin":_="focus",y=Sh;break;case"focusout":_="blur",y=Sh;break;case"beforeblur":case"afterblur":y=Sh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=om;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=SS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=VS;break;case b_:case k_:case P_:y=kS;break;case I_:y=jS;break;case"scroll":y=xS;break;case"wheel":y=US;break;case"copy":case"cut":case"paste":y=IS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=lm}var w=(e&4)!==0,b=!w&&t==="scroll",x=w?p!==null?p+"Capture":null:p;w=[];for(var E=c,P;E!==null;){P=E;var R=P.stateNode;if(P.tag===5&&R!==null&&(P=R,x!==null&&(R=xa(E,x),R!=null&&w.push(Ia(E,R,P)))),b)break;E=E.return}0<w.length&&(p=new y(p,_,null,n,h),f.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==wf&&(_=n.relatedTarget||n.fromElement)&&(Ir(_)||_[mi]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=c,_=_?Ir(_):null,_!==null&&(b=Zr(_),_!==b||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=c),y!==_)){if(w=om,R="onMouseLeave",x="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(w=lm,R="onPointerLeave",x="onPointerEnter",E="pointer"),b=y==null?p:Ts(y),P=_==null?p:Ts(_),p=new w(R,E+"leave",y,n,h),p.target=b,p.relatedTarget=P,R=null,Ir(h)===c&&(w=new w(x,E+"enter",_,n,h),w.target=P,w.relatedTarget=b,R=w),b=R,y&&_)t:{for(w=y,x=_,E=0,P=w;P;P=gs(P))E++;for(P=0,R=x;R;R=gs(R))P++;for(;0<E-P;)w=gs(w),E--;for(;0<P-E;)x=gs(x),P--;for(;E--;){if(w===x||x!==null&&w===x.alternate)break t;w=gs(w),x=gs(x)}w=null}else w=null;y!==null&&_m(f,p,y,w,!1),_!==null&&b!==null&&_m(f,b,_,w,!0)}}e:{if(p=c?Ts(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var M=qS;else if(hm(p))if(w_)M=ZS;else{M=XS;var N=YS}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=JS);if(M&&(M=M(t,c))){__(f,M,n,h);break e}N&&N(t,p,c),t==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&gf(p,"number",p.value)}switch(N=c?Ts(c):window,t){case"focusin":(hm(N)||N.contentEditable==="true")&&(Es=N,Pf=c,ra=null);break;case"focusout":ra=Pf=Es=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,mm(f,n,h);break;case"selectionchange":if(nT)break;case"keydown":case"keyup":mm(f,n,h)}var m;if(Gd)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else xs?y_(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(m_&&n.locale!=="ko"&&(xs||v!=="onCompositionStart"?v==="onCompositionEnd"&&xs&&(m=g_()):(Fi=h,Wd="value"in Fi?Fi.value:Fi.textContent,xs=!0)),N=Ou(c,v),0<N.length&&(v=new am(v,t,null,n,h),f.push({event:v,listeners:N}),m?v.data=m:(m=v_(n),m!==null&&(v.data=m)))),(m=$S?WS(t,n):KS(t,n))&&(c=Ou(c,"onBeforeInput"),0<c.length&&(h=new am("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=m))}A_(f,e)})}function Ia(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ou(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=xa(t,n),s!=null&&i.unshift(Ia(t,s,r)),s=xa(t,e),s!=null&&i.push(Ia(t,s,r))),t=t.return}return i}function gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _m(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=xa(n,s),l!=null&&o.unshift(Ia(n,l,a))):r||(l=xa(n,s),l!=null&&o.push(Ia(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var oT=/\r\n?/g,aT=/\u0000|\uFFFD/g;function wm(t){return(typeof t=="string"?t:""+t).replace(oT,`
`).replace(aT,"")}function Ll(t,e,n){if(e=wm(e),wm(t)!==e&&n)throw Error(U(425))}function Lu(){}var Cf=null,Af=null;function Rf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Df=typeof setTimeout=="function"?setTimeout:void 0,lT=typeof clearTimeout=="function"?clearTimeout:void 0,xm=typeof Promise=="function"?Promise:void 0,uT=typeof queueMicrotask=="function"?queueMicrotask:typeof xm<"u"?function(t){return xm.resolve(null).then(t).catch(cT)}:Df;function cT(t){setTimeout(function(){throw t})}function Rh(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Ta(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Ta(e)}function Ki(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Em(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ao=Math.random().toString(36).slice(2),$n="__reactFiber$"+ao,Ca="__reactProps$"+ao,mi="__reactContainer$"+ao,Mf="__reactEvents$"+ao,hT="__reactListeners$"+ao,fT="__reactHandles$"+ao;function Ir(t){var e=t[$n];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mi]||n[$n]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Em(t);t!==null;){if(n=t[$n])return n;t=Em(t)}return e}t=n,n=t.parentNode}return null}function tl(t){return t=t[$n]||t[mi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ts(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Cc(t){return t[Ca]||null}var Of=[],bs=-1;function lr(t){return{current:t}}function Fe(t){0>bs||(t.current=Of[bs],Of[bs]=null,bs--)}function Ae(t,e){bs++,Of[bs]=t.current,t.current=e}var nr={},zt=lr(nr),Yt=lr(!1),jr=nr;function $s(t,e){var n=t.type.contextTypes;if(!n)return nr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Xt(t){return t=t.childContextTypes,t!=null}function Nu(){Fe(Yt),Fe(zt)}function Sm(t,e,n){if(zt.current!==nr)throw Error(U(168));Ae(zt,e),Ae(Yt,n)}function D_(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(U(108,YE(t)||"Unknown",r));return qe({},n,i)}function Fu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||nr,jr=zt.current,Ae(zt,t),Ae(Yt,Yt.current),!0}function Tm(t,e,n){var i=t.stateNode;if(!i)throw Error(U(169));n?(t=D_(t,e,jr),i.__reactInternalMemoizedMergedChildContext=t,Fe(Yt),Fe(zt),Ae(zt,t)):Fe(Yt),Ae(Yt,n)}var oi=null,Ac=!1,Dh=!1;function M_(t){oi===null?oi=[t]:oi.push(t)}function dT(t){Ac=!0,M_(t)}function ur(){if(!Dh&&oi!==null){Dh=!0;var t=0,e=Se;try{var n=oi;for(Se=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}oi=null,Ac=!1}catch(r){throw oi!==null&&(oi=oi.slice(t+1)),r_(Bd,ur),r}finally{Se=e,Dh=!1}}return null}var ks=[],Ps=0,Vu=null,zu=0,mn=[],yn=0,Br=null,li=1,ui="";function Sr(t,e){ks[Ps++]=zu,ks[Ps++]=Vu,Vu=t,zu=e}function O_(t,e,n){mn[yn++]=li,mn[yn++]=ui,mn[yn++]=Br,Br=t;var i=li;t=ui;var r=32-Ln(i)-1;i&=~(1<<r),n+=1;var s=32-Ln(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,li=1<<32-Ln(e)+r|n<<r|i,ui=s+t}else li=1<<s|n<<r|i,ui=t}function Yd(t){t.return!==null&&(Sr(t,1),O_(t,1,0))}function Xd(t){for(;t===Vu;)Vu=ks[--Ps],ks[Ps]=null,zu=ks[--Ps],ks[Ps]=null;for(;t===Br;)Br=mn[--yn],mn[yn]=null,ui=mn[--yn],mn[yn]=null,li=mn[--yn],mn[yn]=null}var ln=null,on=null,Be=!1,Rn=null;function L_(t,e){var n=_n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ln=t,on=Ki(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ln=t,on=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Br!==null?{id:li,overflow:ui}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ln=t,on=null,!0):!1;default:return!1}}function Lf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nf(t){if(Be){var e=on;if(e){var n=e;if(!bm(t,e)){if(Lf(t))throw Error(U(418));e=Ki(n.nextSibling);var i=ln;e&&bm(t,e)?L_(i,n):(t.flags=t.flags&-4097|2,Be=!1,ln=t)}}else{if(Lf(t))throw Error(U(418));t.flags=t.flags&-4097|2,Be=!1,ln=t}}}function km(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function Nl(t){if(t!==ln)return!1;if(!Be)return km(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rf(t.type,t.memoizedProps)),e&&(e=on)){if(Lf(t))throw N_(),Error(U(418));for(;e;)L_(t,e),e=Ki(e.nextSibling)}if(km(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){on=Ki(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}on=null}}else on=ln?Ki(t.stateNode.nextSibling):null;return!0}function N_(){for(var t=on;t;)t=Ki(t.nextSibling)}function Ws(){on=ln=null,Be=!1}function Jd(t){Rn===null?Rn=[t]:Rn.push(t)}var pT=xi.ReactCurrentBatchConfig;function Mo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var i=n.stateNode}if(!i)throw Error(U(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Fl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Pm(t){var e=t._init;return e(t._payload)}function F_(t){function e(x,E){if(t){var P=x.deletions;P===null?(x.deletions=[E],x.flags|=16):P.push(E)}}function n(x,E){if(!t)return null;for(;E!==null;)e(x,E),E=E.sibling;return null}function i(x,E){for(x=new Map;E!==null;)E.key!==null?x.set(E.key,E):x.set(E.index,E),E=E.sibling;return x}function r(x,E){return x=Yi(x,E),x.index=0,x.sibling=null,x}function s(x,E,P){return x.index=P,t?(P=x.alternate,P!==null?(P=P.index,P<E?(x.flags|=2,E):P):(x.flags|=2,E)):(x.flags|=1048576,E)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,E,P,R){return E===null||E.tag!==6?(E=zh(P,x.mode,R),E.return=x,E):(E=r(E,P),E.return=x,E)}function l(x,E,P,R){var M=P.type;return M===ws?h(x,E,P.props.children,R,P.key):E!==null&&(E.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Mi&&Pm(M)===E.type)?(R=r(E,P.props),R.ref=Mo(x,E,P),R.return=x,R):(R=_u(P.type,P.key,P.props,null,x.mode,R),R.ref=Mo(x,E,P),R.return=x,R)}function c(x,E,P,R){return E===null||E.tag!==4||E.stateNode.containerInfo!==P.containerInfo||E.stateNode.implementation!==P.implementation?(E=jh(P,x.mode,R),E.return=x,E):(E=r(E,P.children||[]),E.return=x,E)}function h(x,E,P,R,M){return E===null||E.tag!==7?(E=Nr(P,x.mode,R,M),E.return=x,E):(E=r(E,P),E.return=x,E)}function f(x,E,P){if(typeof E=="string"&&E!==""||typeof E=="number")return E=zh(""+E,x.mode,P),E.return=x,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case kl:return P=_u(E.type,E.key,E.props,null,x.mode,P),P.ref=Mo(x,null,E),P.return=x,P;case _s:return E=jh(E,x.mode,P),E.return=x,E;case Mi:var R=E._init;return f(x,R(E._payload),P)}if(Qo(E)||Io(E))return E=Nr(E,x.mode,P,null),E.return=x,E;Fl(x,E)}return null}function p(x,E,P,R){var M=E!==null?E.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return M!==null?null:a(x,E,""+P,R);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case kl:return P.key===M?l(x,E,P,R):null;case _s:return P.key===M?c(x,E,P,R):null;case Mi:return M=P._init,p(x,E,M(P._payload),R)}if(Qo(P)||Io(P))return M!==null?null:h(x,E,P,R,null);Fl(x,P)}return null}function y(x,E,P,R,M){if(typeof R=="string"&&R!==""||typeof R=="number")return x=x.get(P)||null,a(E,x,""+R,M);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case kl:return x=x.get(R.key===null?P:R.key)||null,l(E,x,R,M);case _s:return x=x.get(R.key===null?P:R.key)||null,c(E,x,R,M);case Mi:var N=R._init;return y(x,E,P,N(R._payload),M)}if(Qo(R)||Io(R))return x=x.get(P)||null,h(E,x,R,M,null);Fl(E,R)}return null}function _(x,E,P,R){for(var M=null,N=null,m=E,v=E=0,T=null;m!==null&&v<P.length;v++){m.index>v?(T=m,m=null):T=m.sibling;var k=p(x,m,P[v],R);if(k===null){m===null&&(m=T);break}t&&m&&k.alternate===null&&e(x,m),E=s(k,E,v),N===null?M=k:N.sibling=k,N=k,m=T}if(v===P.length)return n(x,m),Be&&Sr(x,v),M;if(m===null){for(;v<P.length;v++)m=f(x,P[v],R),m!==null&&(E=s(m,E,v),N===null?M=m:N.sibling=m,N=m);return Be&&Sr(x,v),M}for(m=i(x,m);v<P.length;v++)T=y(m,x,v,P[v],R),T!==null&&(t&&T.alternate!==null&&m.delete(T.key===null?v:T.key),E=s(T,E,v),N===null?M=T:N.sibling=T,N=T);return t&&m.forEach(function(C){return e(x,C)}),Be&&Sr(x,v),M}function w(x,E,P,R){var M=Io(P);if(typeof M!="function")throw Error(U(150));if(P=M.call(P),P==null)throw Error(U(151));for(var N=M=null,m=E,v=E=0,T=null,k=P.next();m!==null&&!k.done;v++,k=P.next()){m.index>v?(T=m,m=null):T=m.sibling;var C=p(x,m,k.value,R);if(C===null){m===null&&(m=T);break}t&&m&&C.alternate===null&&e(x,m),E=s(C,E,v),N===null?M=C:N.sibling=C,N=C,m=T}if(k.done)return n(x,m),Be&&Sr(x,v),M;if(m===null){for(;!k.done;v++,k=P.next())k=f(x,k.value,R),k!==null&&(E=s(k,E,v),N===null?M=k:N.sibling=k,N=k);return Be&&Sr(x,v),M}for(m=i(x,m);!k.done;v++,k=P.next())k=y(m,x,v,k.value,R),k!==null&&(t&&k.alternate!==null&&m.delete(k.key===null?v:k.key),E=s(k,E,v),N===null?M=k:N.sibling=k,N=k);return t&&m.forEach(function(A){return e(x,A)}),Be&&Sr(x,v),M}function b(x,E,P,R){if(typeof P=="object"&&P!==null&&P.type===ws&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case kl:e:{for(var M=P.key,N=E;N!==null;){if(N.key===M){if(M=P.type,M===ws){if(N.tag===7){n(x,N.sibling),E=r(N,P.props.children),E.return=x,x=E;break e}}else if(N.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Mi&&Pm(M)===N.type){n(x,N.sibling),E=r(N,P.props),E.ref=Mo(x,N,P),E.return=x,x=E;break e}n(x,N);break}else e(x,N);N=N.sibling}P.type===ws?(E=Nr(P.props.children,x.mode,R,P.key),E.return=x,x=E):(R=_u(P.type,P.key,P.props,null,x.mode,R),R.ref=Mo(x,E,P),R.return=x,x=R)}return o(x);case _s:e:{for(N=P.key;E!==null;){if(E.key===N)if(E.tag===4&&E.stateNode.containerInfo===P.containerInfo&&E.stateNode.implementation===P.implementation){n(x,E.sibling),E=r(E,P.children||[]),E.return=x,x=E;break e}else{n(x,E);break}else e(x,E);E=E.sibling}E=jh(P,x.mode,R),E.return=x,x=E}return o(x);case Mi:return N=P._init,b(x,E,N(P._payload),R)}if(Qo(P))return _(x,E,P,R);if(Io(P))return w(x,E,P,R);Fl(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,E!==null&&E.tag===6?(n(x,E.sibling),E=r(E,P),E.return=x,x=E):(n(x,E),E=zh(P,x.mode,R),E.return=x,x=E),o(x)):n(x,E)}return b}var Ks=F_(!0),V_=F_(!1),ju=lr(null),Bu=null,Is=null,Zd=null;function ep(){Zd=Is=Bu=null}function tp(t){var e=ju.current;Fe(ju),t._currentValue=e}function Ff(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Fs(t,e){Bu=t,Zd=Is=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qt=!0),t.firstContext=null)}function Sn(t){var e=t._currentValue;if(Zd!==t)if(t={context:t,memoizedValue:e,next:null},Is===null){if(Bu===null)throw Error(U(308));Is=t,Bu.dependencies={lanes:0,firstContext:t}}else Is=Is.next=t;return e}var Cr=null;function np(t){Cr===null?Cr=[t]:Cr.push(t)}function z_(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,np(e)):(n.next=r.next,r.next=n),e.interleaved=n,yi(t,i)}function yi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oi=!1;function ip(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,we&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,yi(t,n)}return r=i.interleaved,r===null?(e.next=e,np(i)):(e.next=r.next,r.next=e),i.interleaved=e,yi(t,n)}function du(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Ud(t,n)}}function Im(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Uu(t,e,n,i){var r=t.updateQueue;Oi=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=r.baseState;o=0,h=c=l=null,a=s;do{var p=a.lane,y=a.eventTime;if((i&p)===p){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,w=a;switch(p=e,y=n,w.tag){case 1:if(_=w.payload,typeof _=="function"){f=_.call(y,f,p);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,p=typeof _=="function"?_.call(y,f,p):_,p==null)break e;f=qe({},f,p);break e;case 2:Oi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=y,l=f):h=h.next=y,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(h===null&&(l=f),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Hr|=o,t.lanes=o,t.memoizedState=f}}function Cm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(U(191,r));r.call(i)}}}var nl={},Kn=lr(nl),Aa=lr(nl),Ra=lr(nl);function Ar(t){if(t===nl)throw Error(U(174));return t}function rp(t,e){switch(Ae(Ra,e),Ae(Aa,t),Ae(Kn,nl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yf(e,t)}Fe(Kn),Ae(Kn,e)}function Qs(){Fe(Kn),Fe(Aa),Fe(Ra)}function B_(t){Ar(Ra.current);var e=Ar(Kn.current),n=yf(e,t.type);e!==n&&(Ae(Aa,t),Ae(Kn,n))}function sp(t){Aa.current===t&&(Fe(Kn),Fe(Aa))}var Ke=lr(0);function Hu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mh=[];function op(){for(var t=0;t<Mh.length;t++)Mh[t]._workInProgressVersionPrimary=null;Mh.length=0}var pu=xi.ReactCurrentDispatcher,Oh=xi.ReactCurrentBatchConfig,Ur=0,Ge=null,ut=null,dt=null,$u=!1,sa=!1,Da=0,gT=0;function Rt(){throw Error(U(321))}function ap(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fn(t[n],e[n]))return!1;return!0}function lp(t,e,n,i,r,s){if(Ur=s,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pu.current=t===null||t.memoizedState===null?_T:wT,t=n(i,r),sa){s=0;do{if(sa=!1,Da=0,25<=s)throw Error(U(301));s+=1,dt=ut=null,e.updateQueue=null,pu.current=xT,t=n(i,r)}while(sa)}if(pu.current=Wu,e=ut!==null&&ut.next!==null,Ur=0,dt=ut=Ge=null,$u=!1,e)throw Error(U(300));return t}function up(){var t=Da!==0;return Da=0,t}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ge.memoizedState=dt=t:dt=dt.next=t,dt}function Tn(){if(ut===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=dt===null?Ge.memoizedState:dt.next;if(e!==null)dt=e,ut=t;else{if(t===null)throw Error(U(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},dt===null?Ge.memoizedState=dt=t:dt=dt.next=t}return dt}function Ma(t,e){return typeof e=="function"?e(t):e}function Lh(t){var e=Tn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=ut,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Ur&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=i):l=l.next=f,Ge.lanes|=h,Hr|=h}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Fn(i,e.memoizedState)||(qt=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Ge.lanes|=s,Hr|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Nh(t){var e=Tn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Fn(s,e.memoizedState)||(qt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function U_(){}function H_(t,e){var n=Ge,i=Tn(),r=e(),s=!Fn(i.memoizedState,r);if(s&&(i.memoizedState=r,qt=!0),i=i.queue,cp(K_.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Oa(9,W_.bind(null,n,i,r,e),void 0,null),gt===null)throw Error(U(349));Ur&30||$_(n,e,r)}return r}function $_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function W_(t,e,n,i){e.value=n,e.getSnapshot=i,Q_(e)&&G_(t)}function K_(t,e,n){return n(function(){Q_(e)&&G_(t)})}function Q_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fn(t,n)}catch{return!0}}function G_(t){var e=yi(t,1);e!==null&&Nn(e,t,1,-1)}function Am(t){var e=Un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:t},e.queue=t,t=t.dispatch=vT.bind(null,Ge,t),[e.memoizedState,t]}function Oa(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function q_(){return Tn().memoizedState}function gu(t,e,n,i){var r=Un();Ge.flags|=t,r.memoizedState=Oa(1|e,n,void 0,i===void 0?null:i)}function Rc(t,e,n,i){var r=Tn();i=i===void 0?null:i;var s=void 0;if(ut!==null){var o=ut.memoizedState;if(s=o.destroy,i!==null&&ap(i,o.deps)){r.memoizedState=Oa(e,n,s,i);return}}Ge.flags|=t,r.memoizedState=Oa(1|e,n,s,i)}function Rm(t,e){return gu(8390656,8,t,e)}function cp(t,e){return Rc(2048,8,t,e)}function Y_(t,e){return Rc(4,2,t,e)}function X_(t,e){return Rc(4,4,t,e)}function J_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Z_(t,e,n){return n=n!=null?n.concat([t]):null,Rc(4,4,J_.bind(null,e,t),n)}function hp(){}function ew(t,e){var n=Tn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&ap(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function tw(t,e){var n=Tn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&ap(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function nw(t,e,n){return Ur&21?(Fn(n,e)||(n=a_(),Ge.lanes|=n,Hr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=n)}function mT(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var i=Oh.transition;Oh.transition={};try{t(!1),e()}finally{Se=n,Oh.transition=i}}function iw(){return Tn().memoizedState}function yT(t,e,n){var i=qi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},rw(t))sw(e,n);else if(n=z_(t,e,n,i),n!==null){var r=Ht();Nn(n,t,i,r),ow(n,e,i)}}function vT(t,e,n){var i=qi(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(rw(t))sw(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,Fn(a,o)){var l=e.interleaved;l===null?(r.next=r,np(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=z_(t,e,r,i),n!==null&&(r=Ht(),Nn(n,t,i,r),ow(n,e,i))}}function rw(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function sw(t,e){sa=$u=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ow(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Ud(t,n)}}var Wu={readContext:Sn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},_T={readContext:Sn,useCallback:function(t,e){return Un().memoizedState=[t,e===void 0?null:e],t},useContext:Sn,useEffect:Rm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gu(4194308,4,J_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gu(4194308,4,t,e)},useInsertionEffect:function(t,e){return gu(4,2,t,e)},useMemo:function(t,e){var n=Un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Un();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=yT.bind(null,Ge,t),[i.memoizedState,t]},useRef:function(t){var e=Un();return t={current:t},e.memoizedState=t},useState:Am,useDebugValue:hp,useDeferredValue:function(t){return Un().memoizedState=t},useTransition:function(){var t=Am(!1),e=t[0];return t=mT.bind(null,t[1]),Un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ge,r=Un();if(Be){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),gt===null)throw Error(U(349));Ur&30||$_(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Rm(K_.bind(null,i,s,t),[t]),i.flags|=2048,Oa(9,W_.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Un(),e=gt.identifierPrefix;if(Be){var n=ui,i=li;n=(i&~(1<<32-Ln(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Da++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wT={readContext:Sn,useCallback:ew,useContext:Sn,useEffect:cp,useImperativeHandle:Z_,useInsertionEffect:Y_,useLayoutEffect:X_,useMemo:tw,useReducer:Lh,useRef:q_,useState:function(){return Lh(Ma)},useDebugValue:hp,useDeferredValue:function(t){var e=Tn();return nw(e,ut.memoizedState,t)},useTransition:function(){var t=Lh(Ma)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:U_,useSyncExternalStore:H_,useId:iw,unstable_isNewReconciler:!1},xT={readContext:Sn,useCallback:ew,useContext:Sn,useEffect:cp,useImperativeHandle:Z_,useInsertionEffect:Y_,useLayoutEffect:X_,useMemo:tw,useReducer:Nh,useRef:q_,useState:function(){return Nh(Ma)},useDebugValue:hp,useDeferredValue:function(t){var e=Tn();return ut===null?e.memoizedState=t:nw(e,ut.memoizedState,t)},useTransition:function(){var t=Nh(Ma)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:U_,useSyncExternalStore:H_,useId:iw,unstable_isNewReconciler:!1};function In(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Dc={isMounted:function(t){return(t=t._reactInternals)?Zr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ht(),r=qi(t),s=hi(i,r);s.payload=e,n!=null&&(s.callback=n),e=Qi(t,s,r),e!==null&&(Nn(e,t,r,i),du(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ht(),r=qi(t),s=hi(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Qi(t,s,r),e!==null&&(Nn(e,t,r,i),du(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ht(),i=qi(t),r=hi(n,i);r.tag=2,e!=null&&(r.callback=e),e=Qi(t,r,i),e!==null&&(Nn(e,t,i,n),du(e,t,i))}};function Dm(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!ka(n,i)||!ka(r,s):!0}function aw(t,e,n){var i=!1,r=nr,s=e.contextType;return typeof s=="object"&&s!==null?s=Sn(s):(r=Xt(e)?jr:zt.current,i=e.contextTypes,s=(i=i!=null)?$s(t,r):nr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dc,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Mm(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Dc.enqueueReplaceState(e,e.state,null)}function zf(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},ip(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Sn(s):(s=Xt(e)?jr:zt.current,r.context=$s(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Vf(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Dc.enqueueReplaceState(r,r.state,null),Uu(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Gs(t,e){try{var n="",i=e;do n+=qE(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function Fh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ET=typeof WeakMap=="function"?WeakMap:Map;function lw(t,e,n){n=hi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Qu||(Qu=!0,Yf=i),jf(t,e)},n}function uw(t,e,n){n=hi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){jf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jf(t,e),typeof i!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Om(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new ET;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=NT.bind(null,t,e,n),e.then(t,t))}function Lm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Nm(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hi(-1,1),e.tag=2,Qi(n,e,1))),n.lanes|=1),t)}var ST=xi.ReactCurrentOwner,qt=!1;function Ut(t,e,n,i){e.child=t===null?V_(e,null,n,i):Ks(e,t.child,n,i)}function Fm(t,e,n,i,r){n=n.render;var s=e.ref;return Fs(e,r),i=lp(t,e,n,i,s,r),n=up(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,vi(t,e,r)):(Be&&n&&Yd(e),e.flags|=1,Ut(t,e,i,r),e.child)}function Vm(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!_p(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,cw(t,e,s,i,r)):(t=_u(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ka,n(o,i)&&t.ref===e.ref)return vi(t,e,r)}return e.flags|=1,t=Yi(s,i),t.ref=e.ref,t.return=e,e.child=t}function cw(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(ka(s,i)&&t.ref===e.ref)if(qt=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(qt=!0);else return e.lanes=t.lanes,vi(t,e,r)}return Bf(t,e,n,i,r)}function hw(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(As,rn),rn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(As,rn),rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Ae(As,rn),rn|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Ae(As,rn),rn|=i;return Ut(t,e,r,n),e.child}function fw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Bf(t,e,n,i,r){var s=Xt(n)?jr:zt.current;return s=$s(e,s),Fs(e,r),n=lp(t,e,n,i,s,r),i=up(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,vi(t,e,r)):(Be&&i&&Yd(e),e.flags|=1,Ut(t,e,n,r),e.child)}function zm(t,e,n,i,r){if(Xt(n)){var s=!0;Fu(e)}else s=!1;if(Fs(e,r),e.stateNode===null)mu(t,e),aw(e,n,i),zf(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Sn(c):(c=Xt(n)?jr:zt.current,c=$s(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Mm(e,o,i,c),Oi=!1;var p=e.memoizedState;o.state=p,Uu(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Yt.current||Oi?(typeof h=="function"&&(Vf(e,n,h,i),l=e.memoizedState),(a=Oi||Dm(e,n,a,i,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,j_(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:In(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Sn(l):(l=Xt(n)?jr:zt.current,l=$s(e,l));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&Mm(e,o,i,l),Oi=!1,p=e.memoizedState,o.state=p,Uu(e,i,o,r);var _=e.memoizedState;a!==f||p!==_||Yt.current||Oi?(typeof y=="function"&&(Vf(e,n,y,i),_=e.memoizedState),(c=Oi||Dm(e,n,c,i,p,_,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=_),o.props=i,o.state=_,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return Uf(t,e,n,i,s,r)}function Uf(t,e,n,i,r,s){fw(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Tm(e,n,!1),vi(t,e,s);i=e.stateNode,ST.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Ks(e,t.child,null,s),e.child=Ks(e,null,a,s)):Ut(t,e,a,s),e.memoizedState=i.state,r&&Tm(e,n,!0),e.child}function dw(t){var e=t.stateNode;e.pendingContext?Sm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sm(t,e.context,!1),rp(t,e.containerInfo)}function jm(t,e,n,i,r){return Ws(),Jd(r),e.flags|=256,Ut(t,e,n,i),e.child}var Hf={dehydrated:null,treeContext:null,retryLane:0};function $f(t){return{baseLanes:t,cachePool:null,transitions:null}}function pw(t,e,n){var i=e.pendingProps,r=Ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Ae(Ke,r&1),t===null)return Nf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Lc(o,i,0,null),t=Nr(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=$f(n),e.memoizedState=Hf,t):fp(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return TT(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Yi(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Yi(a,s):(s=Nr(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?$f(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Hf,i}return s=t.child,t=s.sibling,i=Yi(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function fp(t,e){return e=Lc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vl(t,e,n,i){return i!==null&&Jd(i),Ks(e,t.child,null,n),t=fp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TT(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=Fh(Error(U(422))),Vl(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Lc({mode:"visible",children:i.children},r,0,null),s=Nr(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Ks(e,t.child,null,o),e.child.memoizedState=$f(o),e.memoizedState=Hf,s);if(!(e.mode&1))return Vl(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(U(419)),i=Fh(s,i,void 0),Vl(t,e,o,i)}if(a=(o&t.childLanes)!==0,qt||a){if(i=gt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,yi(t,r),Nn(i,t,r,-1))}return vp(),i=Fh(Error(U(421))),Vl(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=FT.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,on=Ki(r.nextSibling),ln=e,Be=!0,Rn=null,t!==null&&(mn[yn++]=li,mn[yn++]=ui,mn[yn++]=Br,li=t.id,ui=t.overflow,Br=e),e=fp(e,i.children),e.flags|=4096,e)}function Bm(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Ff(t.return,e,n)}function Vh(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function gw(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Ut(t,e,i.children,n),i=Ke.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bm(t,n,e);else if(t.tag===19)Bm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ae(Ke,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Hu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Vh(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Hu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Vh(e,!0,n,null,s);break;case"together":Vh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Yi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bT(t,e,n){switch(e.tag){case 3:dw(e),Ws();break;case 5:B_(e);break;case 1:Xt(e.type)&&Fu(e);break;case 4:rp(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ae(ju,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ae(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?pw(t,e,n):(Ae(Ke,Ke.current&1),t=vi(t,e,n),t!==null?t.sibling:null);Ae(Ke,Ke.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return gw(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ae(Ke,Ke.current),i)break;return null;case 22:case 23:return e.lanes=0,hw(t,e,n)}return vi(t,e,n)}var mw,Wf,yw,vw;mw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wf=function(){};yw=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Ar(Kn.current);var s=null;switch(n){case"input":r=df(t,r),i=df(t,i),s=[];break;case"select":r=qe({},r,{value:void 0}),i=qe({},i,{value:void 0}),s=[];break;case"textarea":r=mf(t,r),i=mf(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Lu)}vf(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_a.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Le("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};vw=function(t,e,n,i){n!==i&&(e.flags|=4)};function Oo(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function kT(t,e,n){var i=e.pendingProps;switch(Xd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return Xt(e.type)&&Nu(),Dt(e),null;case 3:return i=e.stateNode,Qs(),Fe(Yt),Fe(zt),op(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Nl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(Zf(Rn),Rn=null))),Wf(t,e),Dt(e),null;case 5:sp(e);var r=Ar(Ra.current);if(n=e.type,t!==null&&e.stateNode!=null)yw(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(U(166));return Dt(e),null}if(t=Ar(Kn.current),Nl(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[$n]=e,i[Ca]=s,t=(e.mode&1)!==0,n){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(r=0;r<qo.length;r++)Le(qo[r],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Yg(i,s),Le("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Le("invalid",i);break;case"textarea":Jg(i,s),Le("invalid",i)}vf(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ll(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ll(i.textContent,a,t),r=["children",""+a]):_a.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Le("scroll",i)}switch(n){case"input":Pl(i),Xg(i,s,!0);break;case"textarea":Pl(i),Zg(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Lu)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=K0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[$n]=e,t[Ca]=i,mw(t,e,!1,!1),e.stateNode=t;e:{switch(o=_f(n,i),n){case"dialog":Le("cancel",t),Le("close",t),r=i;break;case"iframe":case"object":case"embed":Le("load",t),r=i;break;case"video":case"audio":for(r=0;r<qo.length;r++)Le(qo[r],t);r=i;break;case"source":Le("error",t),r=i;break;case"img":case"image":case"link":Le("error",t),Le("load",t),r=i;break;case"details":Le("toggle",t),r=i;break;case"input":Yg(t,i),r=df(t,i),Le("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=qe({},i,{value:void 0}),Le("invalid",t);break;case"textarea":Jg(t,i),r=mf(t,i),Le("invalid",t);break;default:r=i}vf(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?q0(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Q0(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wa(t,l):typeof l=="number"&&wa(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_a.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Le("scroll",t):l!=null&&Nd(t,s,l,o))}switch(n){case"input":Pl(t),Xg(t,i,!1);break;case"textarea":Pl(t),Zg(t);break;case"option":i.value!=null&&t.setAttribute("value",""+tr(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Ms(t,!!i.multiple,s,!1):i.defaultValue!=null&&Ms(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Lu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)vw(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(U(166));if(n=Ar(Ra.current),Ar(Kn.current),Nl(e)){if(i=e.stateNode,n=e.memoizedProps,i[$n]=e,(s=i.nodeValue!==n)&&(t=ln,t!==null))switch(t.tag){case 3:Ll(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ll(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[$n]=e,e.stateNode=i}return Dt(e),null;case 13:if(Fe(Ke),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&on!==null&&e.mode&1&&!(e.flags&128))N_(),Ws(),e.flags|=98560,s=!1;else if(s=Nl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[$n]=e}else Ws(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),s=!1}else Rn!==null&&(Zf(Rn),Rn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?ct===0&&(ct=3):vp())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return Qs(),Wf(t,e),t===null&&Pa(e.stateNode.containerInfo),Dt(e),null;case 10:return tp(e.type._context),Dt(e),null;case 17:return Xt(e.type)&&Nu(),Dt(e),null;case 19:if(Fe(Ke),s=e.memoizedState,s===null)return Dt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Oo(s,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hu(t),o!==null){for(e.flags|=128,Oo(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ae(Ke,Ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&nt()>qs&&(e.flags|=128,i=!0,Oo(s,!1),e.lanes=4194304)}else{if(!i)if(t=Hu(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Oo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Be)return Dt(e),null}else 2*nt()-s.renderingStartTime>qs&&n!==1073741824&&(e.flags|=128,i=!0,Oo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=nt(),e.sibling=null,n=Ke.current,Ae(Ke,i?n&1|2:n&1),e):(Dt(e),null);case 22:case 23:return yp(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?rn&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function PT(t,e){switch(Xd(e),e.tag){case 1:return Xt(e.type)&&Nu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qs(),Fe(Yt),Fe(zt),op(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sp(e),null;case 13:if(Fe(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Ws()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(Ke),null;case 4:return Qs(),null;case 10:return tp(e.type._context),null;case 22:case 23:return yp(),null;case 24:return null;default:return null}}var zl=!1,Nt=!1,IT=typeof WeakSet=="function"?WeakSet:Set,q=null;function Cs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Xe(t,e,i)}else n.current=null}function Kf(t,e,n){try{n()}catch(i){Xe(t,e,i)}}var Um=!1;function CT(t,e){if(Cf=Du,t=S_(),qd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var y;f!==n||r!==0&&f.nodeType!==3||(a=o+r),f!==s||i!==0&&f.nodeType!==3||(l=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===t)break t;if(p===n&&++c===r&&(a=o),p===s&&++h===i&&(l=o),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Af={focusedElem:t,selectionRange:n},Du=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,b=_.memoizedState,x=e.stateNode,E=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:In(e.type,w),b);x.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(R){Xe(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return _=Um,Um=!1,_}function oa(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Kf(e,n,s)}r=r.next}while(r!==i)}}function Mc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Qf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _w(t){var e=t.alternate;e!==null&&(t.alternate=null,_w(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$n],delete e[Ca],delete e[Mf],delete e[hT],delete e[fT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ww(t){return t.tag===5||t.tag===3||t.tag===4}function Hm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ww(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lu));else if(i!==4&&(t=t.child,t!==null))for(Gf(t,e,n),t=t.sibling;t!==null;)Gf(t,e,n),t=t.sibling}function qf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(qf(t,e,n),t=t.sibling;t!==null;)qf(t,e,n),t=t.sibling}var St=null,Cn=!1;function Ai(t,e,n){for(n=n.child;n!==null;)xw(t,e,n),n=n.sibling}function xw(t,e,n){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(bc,n)}catch{}switch(n.tag){case 5:Nt||Cs(n,e);case 6:var i=St,r=Cn;St=null,Ai(t,e,n),St=i,Cn=r,St!==null&&(Cn?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(Cn?(t=St,n=n.stateNode,t.nodeType===8?Rh(t.parentNode,n):t.nodeType===1&&Rh(t,n),Ta(t)):Rh(St,n.stateNode));break;case 4:i=St,r=Cn,St=n.stateNode.containerInfo,Cn=!0,Ai(t,e,n),St=i,Cn=r;break;case 0:case 11:case 14:case 15:if(!Nt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Kf(n,e,o),r=r.next}while(r!==i)}Ai(t,e,n);break;case 1:if(!Nt&&(Cs(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Xe(n,e,a)}Ai(t,e,n);break;case 21:Ai(t,e,n);break;case 22:n.mode&1?(Nt=(i=Nt)||n.memoizedState!==null,Ai(t,e,n),Nt=i):Ai(t,e,n);break;default:Ai(t,e,n)}}function $m(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new IT),e.forEach(function(i){var r=VT.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Pn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,Cn=!1;break e;case 3:St=a.stateNode.containerInfo,Cn=!0;break e;case 4:St=a.stateNode.containerInfo,Cn=!0;break e}a=a.return}if(St===null)throw Error(U(160));xw(s,o,r),St=null,Cn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Xe(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ew(e,t),e=e.sibling}function Ew(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(e,t),jn(t),i&4){try{oa(3,t,t.return),Mc(3,t)}catch(w){Xe(t,t.return,w)}try{oa(5,t,t.return)}catch(w){Xe(t,t.return,w)}}break;case 1:Pn(e,t),jn(t),i&512&&n!==null&&Cs(n,n.return);break;case 5:if(Pn(e,t),jn(t),i&512&&n!==null&&Cs(n,n.return),t.flags&32){var r=t.stateNode;try{wa(r,"")}catch(w){Xe(t,t.return,w)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$0(r,s),_f(a,o);var c=_f(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?q0(r,f):h==="dangerouslySetInnerHTML"?Q0(r,f):h==="children"?wa(r,f):Nd(r,h,f,c)}switch(a){case"input":pf(r,s);break;case"textarea":W0(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Ms(r,!!s.multiple,y,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ms(r,!!s.multiple,s.defaultValue,!0):Ms(r,!!s.multiple,s.multiple?[]:"",!1))}r[Ca]=s}catch(w){Xe(t,t.return,w)}}break;case 6:if(Pn(e,t),jn(t),i&4){if(t.stateNode===null)throw Error(U(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(w){Xe(t,t.return,w)}}break;case 3:if(Pn(e,t),jn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ta(e.containerInfo)}catch(w){Xe(t,t.return,w)}break;case 4:Pn(e,t),jn(t);break;case 13:Pn(e,t),jn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(gp=nt())),i&4&&$m(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Nt=(c=Nt)||h,Pn(e,t),Nt=c):Pn(e,t),jn(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(q=t,h=t.child;h!==null;){for(f=q=h;q!==null;){switch(p=q,y=p.child,p.tag){case 0:case 11:case 14:case 15:oa(4,p,p.return);break;case 1:Cs(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){i=p,n=p.return;try{e=i,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(w){Xe(i,n,w)}}break;case 5:Cs(p,p.return);break;case 22:if(p.memoizedState!==null){Km(f);continue}}y!==null?(y.return=p,q=y):Km(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{r=f.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=G0("display",o))}catch(w){Xe(t,t.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){Xe(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pn(e,t),jn(t),i&4&&$m(t);break;case 21:break;default:Pn(e,t),jn(t)}}function jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ww(n)){var i=n;break e}n=n.return}throw Error(U(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(wa(r,""),i.flags&=-33);var s=Hm(t);qf(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Hm(t);Gf(t,a,o);break;default:throw Error(U(161))}}catch(l){Xe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AT(t,e,n){q=t,Sw(t)}function Sw(t,e,n){for(var i=(t.mode&1)!==0;q!==null;){var r=q,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||zl;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Nt;a=zl;var c=Nt;if(zl=o,(Nt=l)&&!c)for(q=r;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?Qm(r):l!==null?(l.return=o,q=l):Qm(r);for(;s!==null;)q=s,Sw(s),s=s.sibling;q=r,zl=a,Nt=c}Wm(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,q=s):Wm(t)}}function Wm(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nt||Mc(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Nt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:In(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Cm(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cm(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ta(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Nt||e.flags&512&&Qf(e)}catch(p){Xe(e,e.return,p)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function Km(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function Qm(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mc(4,e)}catch(l){Xe(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Xe(e,r,l)}}var s=e.return;try{Qf(e)}catch(l){Xe(e,s,l)}break;case 5:var o=e.return;try{Qf(e)}catch(l){Xe(e,o,l)}}}catch(l){Xe(e,e.return,l)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var RT=Math.ceil,Ku=xi.ReactCurrentDispatcher,dp=xi.ReactCurrentOwner,En=xi.ReactCurrentBatchConfig,we=0,gt=null,ot=null,Pt=0,rn=0,As=lr(0),ct=0,La=null,Hr=0,Oc=0,pp=0,aa=null,Qt=null,gp=0,qs=1/0,si=null,Qu=!1,Yf=null,Gi=null,jl=!1,Vi=null,Gu=0,la=0,Xf=null,yu=-1,vu=0;function Ht(){return we&6?nt():yu!==-1?yu:yu=nt()}function qi(t){return t.mode&1?we&2&&Pt!==0?Pt&-Pt:pT.transition!==null?(vu===0&&(vu=a_()),vu):(t=Se,t!==0||(t=window.event,t=t===void 0?16:p_(t.type)),t):1}function Nn(t,e,n,i){if(50<la)throw la=0,Xf=null,Error(U(185));Za(t,n,i),(!(we&2)||t!==gt)&&(t===gt&&(!(we&2)&&(Oc|=n),ct===4&&Ni(t,Pt)),Jt(t,i),n===1&&we===0&&!(e.mode&1)&&(qs=nt()+500,Ac&&ur()))}function Jt(t,e){var n=t.callbackNode;pS(t,e);var i=Ru(t,t===gt?Pt:0);if(i===0)n!==null&&nm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&nm(n),e===1)t.tag===0?dT(Gm.bind(null,t)):M_(Gm.bind(null,t)),uT(function(){!(we&6)&&ur()}),n=null;else{switch(l_(i)){case 1:n=Bd;break;case 4:n=s_;break;case 16:n=Au;break;case 536870912:n=o_;break;default:n=Au}n=Rw(n,Tw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Tw(t,e){if(yu=-1,vu=0,we&6)throw Error(U(327));var n=t.callbackNode;if(Vs()&&t.callbackNode!==n)return null;var i=Ru(t,t===gt?Pt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=qu(t,i);else{e=i;var r=we;we|=2;var s=kw();(gt!==t||Pt!==e)&&(si=null,qs=nt()+500,Lr(t,e));do try{OT();break}catch(a){bw(t,a)}while(!0);ep(),Ku.current=s,we=r,ot!==null?e=0:(gt=null,Pt=0,e=ct)}if(e!==0){if(e===2&&(r=Tf(t),r!==0&&(i=r,e=Jf(t,r))),e===1)throw n=La,Lr(t,0),Ni(t,i),Jt(t,nt()),n;if(e===6)Ni(t,i);else{if(r=t.current.alternate,!(i&30)&&!DT(r)&&(e=qu(t,i),e===2&&(s=Tf(t),s!==0&&(i=s,e=Jf(t,s))),e===1))throw n=La,Lr(t,0),Ni(t,i),Jt(t,nt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(U(345));case 2:Tr(t,Qt,si);break;case 3:if(Ni(t,i),(i&130023424)===i&&(e=gp+500-nt(),10<e)){if(Ru(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Ht(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Df(Tr.bind(null,t,Qt,si),e);break}Tr(t,Qt,si);break;case 4:if(Ni(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-Ln(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=nt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*RT(i/1960))-i,10<i){t.timeoutHandle=Df(Tr.bind(null,t,Qt,si),i);break}Tr(t,Qt,si);break;case 5:Tr(t,Qt,si);break;default:throw Error(U(329))}}}return Jt(t,nt()),t.callbackNode===n?Tw.bind(null,t):null}function Jf(t,e){var n=aa;return t.current.memoizedState.isDehydrated&&(Lr(t,e).flags|=256),t=qu(t,e),t!==2&&(e=Qt,Qt=n,e!==null&&Zf(e)),t}function Zf(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function DT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Fn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ni(t,e){for(e&=~pp,e&=~Oc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ln(e),i=1<<n;t[n]=-1,e&=~i}}function Gm(t){if(we&6)throw Error(U(327));Vs();var e=Ru(t,0);if(!(e&1))return Jt(t,nt()),null;var n=qu(t,e);if(t.tag!==0&&n===2){var i=Tf(t);i!==0&&(e=i,n=Jf(t,i))}if(n===1)throw n=La,Lr(t,0),Ni(t,e),Jt(t,nt()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tr(t,Qt,si),Jt(t,nt()),null}function mp(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(qs=nt()+500,Ac&&ur())}}function $r(t){Vi!==null&&Vi.tag===0&&!(we&6)&&Vs();var e=we;we|=1;var n=En.transition,i=Se;try{if(En.transition=null,Se=1,t)return t()}finally{Se=i,En.transition=n,we=e,!(we&6)&&ur()}}function yp(){rn=As.current,Fe(As)}function Lr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lT(n)),ot!==null)for(n=ot.return;n!==null;){var i=n;switch(Xd(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Nu();break;case 3:Qs(),Fe(Yt),Fe(zt),op();break;case 5:sp(i);break;case 4:Qs();break;case 13:Fe(Ke);break;case 19:Fe(Ke);break;case 10:tp(i.type._context);break;case 22:case 23:yp()}n=n.return}if(gt=t,ot=t=Yi(t.current,null),Pt=rn=e,ct=0,La=null,pp=Oc=Hr=0,Qt=aa=null,Cr!==null){for(e=0;e<Cr.length;e++)if(n=Cr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Cr=null}return t}function bw(t,e){do{var n=ot;try{if(ep(),pu.current=Wu,$u){for(var i=Ge.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}$u=!1}if(Ur=0,dt=ut=Ge=null,sa=!1,Da=0,dp.current=null,n===null||n.return===null){ct=1,La=e,ot=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Lm(o);if(y!==null){y.flags&=-257,Nm(y,o,a,s,e),y.mode&1&&Om(s,c,e),e=y,l=c;var _=e.updateQueue;if(_===null){var w=new Set;w.add(l),e.updateQueue=w}else _.add(l);break e}else{if(!(e&1)){Om(s,c,e),vp();break e}l=Error(U(426))}}else if(Be&&a.mode&1){var b=Lm(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Nm(b,o,a,s,e),Jd(Gs(l,a));break e}}s=l=Gs(l,a),ct!==4&&(ct=2),aa===null?aa=[s]:aa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=lw(s,l,e);Im(s,x);break e;case 1:a=l;var E=s.type,P=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Gi===null||!Gi.has(P)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=uw(s,a,e);Im(s,R);break e}}s=s.return}while(s!==null)}Iw(n)}catch(M){e=M,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function kw(){var t=Ku.current;return Ku.current=Wu,t===null?Wu:t}function vp(){(ct===0||ct===3||ct===2)&&(ct=4),gt===null||!(Hr&268435455)&&!(Oc&268435455)||Ni(gt,Pt)}function qu(t,e){var n=we;we|=2;var i=kw();(gt!==t||Pt!==e)&&(si=null,Lr(t,e));do try{MT();break}catch(r){bw(t,r)}while(!0);if(ep(),we=n,Ku.current=i,ot!==null)throw Error(U(261));return gt=null,Pt=0,ct}function MT(){for(;ot!==null;)Pw(ot)}function OT(){for(;ot!==null&&!sS();)Pw(ot)}function Pw(t){var e=Aw(t.alternate,t,rn);t.memoizedProps=t.pendingProps,e===null?Iw(t):ot=e,dp.current=null}function Iw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PT(n,e),n!==null){n.flags&=32767,ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,ot=null;return}}else if(n=kT(n,e,rn),n!==null){ot=n;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=t}while(e!==null);ct===0&&(ct=5)}function Tr(t,e,n){var i=Se,r=En.transition;try{En.transition=null,Se=1,LT(t,e,n,i)}finally{En.transition=r,Se=i}return null}function LT(t,e,n,i){do Vs();while(Vi!==null);if(we&6)throw Error(U(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(gS(t,s),t===gt&&(ot=gt=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jl||(jl=!0,Rw(Au,function(){return Vs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=En.transition,En.transition=null;var o=Se;Se=1;var a=we;we|=4,dp.current=null,CT(t,n),Ew(n,t),tT(Af),Du=!!Cf,Af=Cf=null,t.current=n,AT(n),oS(),we=a,Se=o,En.transition=s}else t.current=n;if(jl&&(jl=!1,Vi=t,Gu=r),s=t.pendingLanes,s===0&&(Gi=null),uS(n.stateNode),Jt(t,nt()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Qu)throw Qu=!1,t=Yf,Yf=null,t;return Gu&1&&t.tag!==0&&Vs(),s=t.pendingLanes,s&1?t===Xf?la++:(la=0,Xf=t):la=0,ur(),null}function Vs(){if(Vi!==null){var t=l_(Gu),e=En.transition,n=Se;try{if(En.transition=null,Se=16>t?16:t,Vi===null)var i=!1;else{if(t=Vi,Vi=null,Gu=0,we&6)throw Error(U(331));var r=we;for(we|=4,q=t.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(q=c;q!==null;){var h=q;switch(h.tag){case 0:case 11:case 15:oa(8,h,s)}var f=h.child;if(f!==null)f.return=h,q=f;else for(;q!==null;){h=q;var p=h.sibling,y=h.return;if(_w(h),h===c){q=null;break}if(p!==null){p.return=y,q=p;break}q=y}}}var _=s.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:oa(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,q=x;break e}q=s.return}}var E=t.current;for(q=E;q!==null;){o=q;var P=o.child;if(o.subtreeFlags&2064&&P!==null)P.return=o,q=P;else e:for(o=E;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Mc(9,a)}}catch(M){Xe(a,a.return,M)}if(a===o){q=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,q=R;break e}q=a.return}}if(we=r,ur(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(bc,t)}catch{}i=!0}return i}finally{Se=n,En.transition=e}}return!1}function qm(t,e,n){e=Gs(n,e),e=lw(t,e,1),t=Qi(t,e,1),e=Ht(),t!==null&&(Za(t,1,e),Jt(t,e))}function Xe(t,e,n){if(t.tag===3)qm(t,t,n);else for(;e!==null;){if(e.tag===3){qm(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Gi===null||!Gi.has(i))){t=Gs(n,t),t=uw(e,t,1),e=Qi(e,t,1),t=Ht(),e!==null&&(Za(e,1,t),Jt(e,t));break}}e=e.return}}function NT(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Ht(),t.pingedLanes|=t.suspendedLanes&n,gt===t&&(Pt&n)===n&&(ct===4||ct===3&&(Pt&130023424)===Pt&&500>nt()-gp?Lr(t,0):pp|=n),Jt(t,e)}function Cw(t,e){e===0&&(t.mode&1?(e=Al,Al<<=1,!(Al&130023424)&&(Al=4194304)):e=1);var n=Ht();t=yi(t,e),t!==null&&(Za(t,e,n),Jt(t,n))}function FT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Cw(t,n)}function VT(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(U(314))}i!==null&&i.delete(e),Cw(t,n)}var Aw;Aw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yt.current)qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qt=!1,bT(t,e,n);qt=!!(t.flags&131072)}else qt=!1,Be&&e.flags&1048576&&O_(e,zu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;mu(t,e),t=e.pendingProps;var r=$s(e,zt.current);Fs(e,n),r=lp(null,e,i,t,r,n);var s=up();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xt(i)?(s=!0,Fu(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,ip(e),r.updater=Dc,e.stateNode=r,r._reactInternals=e,zf(e,i,t,n),e=Uf(null,e,i,!0,s,n)):(e.tag=0,Be&&s&&Yd(e),Ut(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(mu(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=jT(i),t=In(i,t),r){case 0:e=Bf(null,e,i,t,n);break e;case 1:e=zm(null,e,i,t,n);break e;case 11:e=Fm(null,e,i,t,n);break e;case 14:e=Vm(null,e,i,In(i.type,t),n);break e}throw Error(U(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:In(i,r),Bf(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:In(i,r),zm(t,e,i,r,n);case 3:e:{if(dw(e),t===null)throw Error(U(387));i=e.pendingProps,s=e.memoizedState,r=s.element,j_(t,e),Uu(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Gs(Error(U(423)),e),e=jm(t,e,i,n,r);break e}else if(i!==r){r=Gs(Error(U(424)),e),e=jm(t,e,i,n,r);break e}else for(on=Ki(e.stateNode.containerInfo.firstChild),ln=e,Be=!0,Rn=null,n=V_(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ws(),i===r){e=vi(t,e,n);break e}Ut(t,e,i,n)}e=e.child}return e;case 5:return B_(e),t===null&&Nf(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Rf(i,r)?o=null:s!==null&&Rf(i,s)&&(e.flags|=32),fw(t,e),Ut(t,e,o,n),e.child;case 6:return t===null&&Nf(e),null;case 13:return pw(t,e,n);case 4:return rp(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ks(e,null,i,n):Ut(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:In(i,r),Fm(t,e,i,r,n);case 7:return Ut(t,e,e.pendingProps,n),e.child;case 8:return Ut(t,e,e.pendingProps.children,n),e.child;case 12:return Ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Ae(ju,i._currentValue),i._currentValue=o,s!==null)if(Fn(s.value,o)){if(s.children===r.children&&!Yt.current){e=vi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=hi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ff(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ff(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ut(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Fs(e,n),r=Sn(r),i=i(r),e.flags|=1,Ut(t,e,i,n),e.child;case 14:return i=e.type,r=In(i,e.pendingProps),r=In(i.type,r),Vm(t,e,i,r,n);case 15:return cw(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:In(i,r),mu(t,e),e.tag=1,Xt(i)?(t=!0,Fu(e)):t=!1,Fs(e,n),aw(e,i,r),zf(e,i,r,n),Uf(null,e,i,!0,t,n);case 19:return gw(t,e,n);case 22:return hw(t,e,n)}throw Error(U(156,e.tag))};function Rw(t,e){return r_(t,e)}function zT(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,e,n,i){return new zT(t,e,n,i)}function _p(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jT(t){if(typeof t=="function")return _p(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vd)return 11;if(t===zd)return 14}return 2}function Yi(t,e){var n=t.alternate;return n===null?(n=_n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _u(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")_p(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ws:return Nr(n.children,r,s,e);case Fd:o=8,r|=8;break;case uf:return t=_n(12,n,e,r|2),t.elementType=uf,t.lanes=s,t;case cf:return t=_n(13,n,e,r),t.elementType=cf,t.lanes=s,t;case hf:return t=_n(19,n,e,r),t.elementType=hf,t.lanes=s,t;case B0:return Lc(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z0:o=10;break e;case j0:o=9;break e;case Vd:o=11;break e;case zd:o=14;break e;case Mi:o=16,i=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=_n(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Nr(t,e,n,i){return t=_n(7,t,i,e),t.lanes=n,t}function Lc(t,e,n,i){return t=_n(22,t,i,e),t.elementType=B0,t.lanes=n,t.stateNode={isHidden:!1},t}function zh(t,e,n){return t=_n(6,t,null,e),t.lanes=n,t}function jh(t,e,n){return e=_n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BT(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wh(0),this.expirationTimes=wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wh(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function wp(t,e,n,i,r,s,o,a,l){return t=new BT(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=_n(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ip(s),t}function UT(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Dw(t){if(!t)return nr;t=t._reactInternals;e:{if(Zr(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Xt(n))return D_(t,n,e)}return e}function Mw(t,e,n,i,r,s,o,a,l){return t=wp(n,i,!0,t,r,s,o,a,l),t.context=Dw(null),n=t.current,i=Ht(),r=qi(n),s=hi(i,r),s.callback=e??null,Qi(n,s,r),t.current.lanes=r,Za(t,r,i),Jt(t,i),t}function Nc(t,e,n,i){var r=e.current,s=Ht(),o=qi(r);return n=Dw(n),e.context===null?e.context=n:e.pendingContext=n,e=hi(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Qi(r,e,o),t!==null&&(Nn(t,r,o,s),du(t,r,o)),o}function Yu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ym(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xp(t,e){Ym(t,e),(t=t.alternate)&&Ym(t,e)}function HT(){return null}var Ow=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ep(t){this._internalRoot=t}Fc.prototype.render=Ep.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Nc(t,e,null,null)};Fc.prototype.unmount=Ep.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$r(function(){Nc(null,t,null,null)}),e[mi]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var e=h_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Li.length&&e!==0&&e<Li[n].priority;n++);Li.splice(n,0,t),n===0&&d_(t)}};function Sp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xm(){}function $T(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Yu(o);s.call(c)}}var o=Mw(e,i,t,0,null,!1,!1,"",Xm);return t._reactRootContainer=o,t[mi]=o.current,Pa(t.nodeType===8?t.parentNode:t),$r(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Yu(l);a.call(c)}}var l=wp(t,0,!1,null,null,!1,!1,"",Xm);return t._reactRootContainer=l,t[mi]=l.current,Pa(t.nodeType===8?t.parentNode:t),$r(function(){Nc(e,l,n,i)}),l}function zc(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Yu(o);a.call(l)}}Nc(e,o,t,r)}else o=$T(n,e,t,r,i);return Yu(o)}u_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Go(e.pendingLanes);n!==0&&(Ud(e,n|1),Jt(e,nt()),!(we&6)&&(qs=nt()+500,ur()))}break;case 13:$r(function(){var i=yi(t,1);if(i!==null){var r=Ht();Nn(i,t,1,r)}}),xp(t,1)}};Hd=function(t){if(t.tag===13){var e=yi(t,134217728);if(e!==null){var n=Ht();Nn(e,t,134217728,n)}xp(t,134217728)}};c_=function(t){if(t.tag===13){var e=qi(t),n=yi(t,e);if(n!==null){var i=Ht();Nn(n,t,e,i)}xp(t,e)}};h_=function(){return Se};f_=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};xf=function(t,e,n){switch(e){case"input":if(pf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Cc(i);if(!r)throw Error(U(90));H0(i),pf(i,r)}}}break;case"textarea":W0(t,n);break;case"select":e=n.value,e!=null&&Ms(t,!!n.multiple,e,!1)}};J0=mp;Z0=$r;var WT={usingClientEntryPoint:!1,Events:[tl,Ts,Cc,Y0,X0,mp]},Lo={findFiberByHostInstance:Ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KT={bundleType:Lo.bundleType,version:Lo.version,rendererPackageName:Lo.rendererPackageName,rendererConfig:Lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=n_(t),t===null?null:t.stateNode},findFiberByHostInstance:Lo.findFiberByHostInstance||HT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bl.isDisabled&&Bl.supportsFiber)try{bc=Bl.inject(KT),Wn=Bl}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WT;hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sp(e))throw Error(U(200));return UT(t,e,null,n)};hn.createRoot=function(t,e){if(!Sp(t))throw Error(U(299));var n=!1,i="",r=Ow;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=wp(t,1,!1,null,null,n,!1,i,r),t[mi]=e.current,Pa(t.nodeType===8?t.parentNode:t),new Ep(e)};hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=n_(e),t=t===null?null:t.stateNode,t};hn.flushSync=function(t){return $r(t)};hn.hydrate=function(t,e,n){if(!Vc(e))throw Error(U(200));return zc(null,t,e,!0,n)};hn.hydrateRoot=function(t,e,n){if(!Sp(t))throw Error(U(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=Ow;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Mw(e,null,t,1,n??null,r,!1,s,o),t[mi]=e.current,Pa(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Fc(e)};hn.render=function(t,e,n){if(!Vc(e))throw Error(U(200));return zc(null,t,e,!1,n)};hn.unmountComponentAtNode=function(t){if(!Vc(t))throw Error(U(40));return t._reactRootContainer?($r(function(){zc(null,null,t,!1,function(){t._reactRootContainer=null,t[mi]=null})}),!0):!1};hn.unstable_batchedUpdates=mp;hn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Vc(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return zc(t,e,n,!1,i)};hn.version="18.3.1-next-f1338f8080-20240426";function Lw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lw)}catch(t){console.error(t)}}Lw(),L0.exports=hn;var Tp=L0.exports;const QT=S0(Tp),GT=E0({__proto__:null,default:QT},[Tp]);var Jm=Tp;af.createRoot=Jm.createRoot,af.hydrateRoot=Jm.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function We(){return We=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},We.apply(this,arguments)}var st;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(st||(st={}));const Zm="popstate";function qT(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Na("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Wr(r)}return XT(e,n,null,t)}function he(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ys(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YT(){return Math.random().toString(36).substr(2,8)}function ey(t,e){return{usr:t.state,key:t.key,idx:e}}function Na(t,e,n,i){return n===void 0&&(n=null),We({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cr(e):e,{state:n,key:e&&e.key||i||YT()})}function Wr(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function cr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function XT(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=st.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(We({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=st.Pop;let b=h(),x=b==null?null:b-c;c=b,l&&l({action:a,location:w.location,delta:x})}function p(b,x){a=st.Push;let E=Na(w.location,b,x);c=h()+1;let P=ey(E,c),R=w.createHref(E);try{o.pushState(P,"",R)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;r.location.assign(R)}s&&l&&l({action:a,location:w.location,delta:1})}function y(b,x){a=st.Replace;let E=Na(w.location,b,x);c=h();let P=ey(E,c),R=w.createHref(E);o.replaceState(P,"",R),s&&l&&l({action:a,location:w.location,delta:0})}function _(b){let x=r.location.origin!=="null"?r.location.origin:r.location.href,E=typeof b=="string"?b:Wr(b);return E=E.replace(/ $/,"%20"),he(x,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,x)}let w={get action(){return a},get location(){return t(r,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Zm,f),l=b,()=>{r.removeEventListener(Zm,f),l=null}},createHref(b){return e(r,b)},createURL:_,encodeLocation(b){let x=_(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:y,go(b){return o.go(b)}};return w}var je;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(je||(je={}));const JT=new Set(["lazy","caseSensitive","path","id","index","children"]);function ZT(t){return t.index===!0}function ed(t,e,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),t.map((r,s)=>{let o=[...n,s],a=typeof r.id=="string"?r.id:o.join("-");if(he(r.index!==!0||!r.children,"Cannot specify children on an index route"),he(!i[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),ZT(r)){let l=We({},r,e(r),{id:a});return i[a]=l,l}else{let l=We({},r,e(r),{id:a,children:void 0});return i[a]=l,r.children&&(l.children=ed(r.children,e,o,i)),l}})}function Rs(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?cr(e):e,r=lo(i.pathname||"/",n);if(r==null)return null;let s=Nw(t);tb(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=db(r);o=cb(s[a],l)}return o}function eb(t,e){let{route:n,pathname:i,params:r}=t;return{id:n.id,pathname:i,params:r,data:e[n.id],handle:n.handle}}function Nw(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(he(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=fi([i,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(he(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Nw(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:lb(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of Fw(s.path))r(s,o,l)}),e}function Fw(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=Fw(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function tb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ub(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const nb=/^:[\w-]+$/,ib=3,rb=2,sb=1,ob=10,ab=-2,ty=t=>t==="*";function lb(t,e){let n=t.split("/"),i=n.length;return n.some(ty)&&(i+=ab),e&&(i+=rb),n.filter(r=>!ty(r)).reduce((r,s)=>r+(nb.test(s)?ib:s===""?sb:ob),i)}function ub(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function cb(t,e){let{routesMeta:n}=t,i={},r="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=r==="/"?e:e.slice(r.length)||"/",h=hb({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!h)return null;Object.assign(i,h.params);let f=a.route;s.push({params:i,pathname:fi([r,h.pathname]),pathnameBase:mb(fi([r,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(r=fi([r,h.pathnameBase]))}return s}function hb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=fb(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,h,f)=>{let{paramName:p,isOptional:y}=h;if(p==="*"){let w=a[f]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const _=a[f];return y&&!_?c[p]=void 0:c[p]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function fb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ys(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function db(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ys(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function lo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function pb(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?cr(t):t;return{pathname:n?n.startsWith("/")?n:gb(n,e):e,search:yb(i),hash:vb(r)}}function gb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Bh(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bp(t,e){let n=Vw(t);return e?n.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function kp(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=cr(t):(r=We({},t),he(!r.pathname||!r.pathname.includes("?"),Bh("?","pathname","search",r)),he(!r.pathname||!r.pathname.includes("#"),Bh("#","pathname","hash",r)),he(!r.search||!r.search.includes("#"),Bh("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;r.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=pb(r,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const fi=t=>t.join("/").replace(/\/\/+/g,"/"),mb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Pp{constructor(e,n,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=n||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function Ip(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zw=["post","put","patch","delete"],_b=new Set(zw),wb=["get",...zw],xb=new Set(wb),Eb=new Set([301,302,303,307,308]),Sb=new Set([307,308]),Uh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Tb={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},No={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Cp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bb=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),jw="remix-router-transitions";function kb(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!n;he(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(t.mapRouteProperties)r=t.mapRouteProperties;else if(t.detectErrorBoundary){let D=t.detectErrorBoundary;r=L=>({hasErrorBoundary:D(L)})}else r=bb;let s={},o=ed(t.routes,r,void 0,s),a,l=t.basename||"/",c=t.unstable_dataStrategy||Ab,h=We({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),f=null,p=new Set,y=null,_=null,w=null,b=t.hydrationData!=null,x=Rs(o,t.history.location,l),E=null;if(x==null){let D=gn(404,{pathname:t.history.location.pathname}),{matches:L,route:V}=hy(o);x=L,E={[V.id]:D}}let P,R=x.some(D=>D.route.lazy),M=x.some(D=>D.route.loader);if(R)P=!1;else if(!M)P=!0;else if(h.v7_partialHydration){let D=t.hydrationData?t.hydrationData.loaderData:null,L=t.hydrationData?t.hydrationData.errors:null,V=H=>H.route.loader?typeof H.route.loader=="function"&&H.route.loader.hydrate===!0?!1:D&&D[H.route.id]!==void 0||L&&L[H.route.id]!==void 0:!0;if(L){let H=x.findIndex(G=>L[G.route.id]!==void 0);P=x.slice(0,H+1).every(V)}else P=x.every(V)}else P=t.hydrationData!=null;let N,m={historyAction:t.history.action,location:t.history.location,matches:x,initialized:P,navigation:Uh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||E,fetchers:new Map,blockers:new Map},v=st.Pop,T=!1,k,C=!1,A=new Map,I=null,ue=!1,le=!1,Te=[],be=[],j=new Map,X=0,ee=-1,pe=new Map,oe=new Set,me=new Map,Ue=new Map,Re=new Set,De=new Map,vt=new Map,fo=!1;function rh(){if(f=t.history.listen(D=>{let{action:L,location:V,delta:H}=D;if(fo){fo=!1;return}Ys(vt.size===0||H!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let G=us({currentLocation:m.location,nextLocation:V,historyAction:L});if(G&&H!=null){fo=!0,t.history.go(H*-1),ls(G,{state:"blocked",location:V,proceed(){ls(G,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),t.history.go(H)},reset(){let Y=new Map(m.blockers);Y.set(G,No),_t({blockers:Y})}});return}return Vn(L,V)}),n){Ub(e,A);let D=()=>Hb(e,A);e.addEventListener("pagehide",D),I=()=>e.removeEventListener("pagehide",D)}return m.initialized||Vn(st.Pop,m.location,{initialHydration:!0}),N}function is(){f&&f(),I&&I(),p.clear(),k&&k.abort(),m.fetchers.forEach((D,L)=>gr(L)),m.blockers.forEach((D,L)=>dl(L))}function rs(D){return p.add(D),()=>p.delete(D)}function _t(D,L){L===void 0&&(L={}),m=We({},m,D);let V=[],H=[];h.v7_fetcherPersist&&m.fetchers.forEach((G,Y)=>{G.state==="idle"&&(Re.has(Y)?H.push(Y):V.push(Y))}),[...p].forEach(G=>G(m,{deletedFetchers:H,unstable_viewTransitionOpts:L.viewTransitionOpts,unstable_flushSync:L.flushSync===!0})),h.v7_fetcherPersist&&(V.forEach(G=>m.fetchers.delete(G)),H.forEach(G=>gr(G)))}function Gn(D,L,V){var H,G;let{flushSync:Y}=V===void 0?{}:V,J=m.actionData!=null&&m.navigation.formMethod!=null&&An(m.navigation.formMethod)&&m.navigation.state==="loading"&&((H=D.state)==null?void 0:H._isRedirect)!==!0,Q;L.actionData?Object.keys(L.actionData).length>0?Q=L.actionData:Q=null:J?Q=m.actionData:Q=null;let ne=L.loaderData?uy(m.loaderData,L.loaderData,L.matches||[],L.errors):m.loaderData,re=m.blockers;re.size>0&&(re=new Map(re),re.forEach((te,Pe)=>re.set(Pe,No)));let lt=T===!0||m.navigation.formMethod!=null&&An(m.navigation.formMethod)&&((G=D.state)==null?void 0:G._isRedirect)!==!0;a&&(o=a,a=void 0),ue||v===st.Pop||(v===st.Push?t.history.push(D,D.state):v===st.Replace&&t.history.replace(D,D.state));let ze;if(v===st.Pop){let te=A.get(m.location.pathname);te&&te.has(D.pathname)?ze={currentLocation:m.location,nextLocation:D}:A.has(D.pathname)&&(ze={currentLocation:D,nextLocation:m.location})}else if(C){let te=A.get(m.location.pathname);te?te.add(D.pathname):(te=new Set([D.pathname]),A.set(m.location.pathname,te)),ze={currentLocation:m.location,nextLocation:D}}_t(We({},L,{actionData:Q,loaderData:ne,historyAction:v,location:D,initialized:!0,navigation:Uh,revalidation:"idle",restoreScrollPosition:hs(D,L.matches||m.matches),preventScrollReset:lt,blockers:re}),{viewTransitionOpts:ze,flushSync:Y===!0}),v=st.Pop,T=!1,C=!1,ue=!1,le=!1,Te=[],be=[]}async function ss(D,L){if(typeof D=="number"){t.history.go(D);return}let V=td(m.location,m.matches,l,h.v7_prependBasename,D,h.v7_relativeSplatPath,L==null?void 0:L.fromRouteId,L==null?void 0:L.relative),{path:H,submission:G,error:Y}=ny(h.v7_normalizeFormMethod,!1,V,L),J=m.location,Q=Na(m.location,H,L&&L.state);Q=We({},Q,t.history.encodeLocation(Q));let ne=L&&L.replace!=null?L.replace:void 0,re=st.Push;ne===!0?re=st.Replace:ne===!1||G!=null&&An(G.formMethod)&&G.formAction===m.location.pathname+m.location.search&&(re=st.Replace);let lt=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,ze=(L&&L.unstable_flushSync)===!0,te=us({currentLocation:J,nextLocation:Q,historyAction:re});if(te){ls(te,{state:"blocked",location:Q,proceed(){ls(te,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),ss(D,L)},reset(){let Pe=new Map(m.blockers);Pe.set(te,No),_t({blockers:Pe})}});return}return await Vn(re,Q,{submission:G,pendingError:Y,preventScrollReset:lt,replace:L&&L.replace,enableViewTransition:L&&L.unstable_viewTransition,flushSync:ze})}function po(){if(as(),_t({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){Vn(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}Vn(v||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function Vn(D,L,V){k&&k.abort(),k=null,v=D,ue=(V&&V.startUninterruptedRevalidation)===!0,_o(m.location,m.matches),T=(V&&V.preventScrollReset)===!0,C=(V&&V.enableViewTransition)===!0;let H=a||o,G=V&&V.overrideNavigation,Y=Rs(H,L,l),J=(V&&V.flushSync)===!0;if(!Y){let te=gn(404,{pathname:L.pathname}),{matches:Pe,route:He}=hy(H);cs(),Gn(L,{matches:Pe,loaderData:{},errors:{[He.id]:te}},{flushSync:J});return}if(m.initialized&&!le&&Nb(m.location,L)&&!(V&&V.submission&&An(V.submission.formMethod))){Gn(L,{matches:Y},{flushSync:J});return}k=new AbortController;let Q=ms(t.history,L,k.signal,V&&V.submission),ne;if(V&&V.pendingError)ne=[ua(Y).route.id,{type:je.error,error:V.pendingError}];else if(V&&V.submission&&An(V.submission.formMethod)){let te=await sh(Q,L,V.submission,Y,{replace:V.replace,flushSync:J});if(te.shortCircuited)return;ne=te.pendingActionResult,G=Hh(L,V.submission),J=!1,Q=ms(t.history,Q.url,Q.signal)}let{shortCircuited:re,loaderData:lt,errors:ze}=await oh(Q,L,Y,G,V&&V.submission,V&&V.fetcherSubmission,V&&V.replace,V&&V.initialHydration===!0,J,ne);re||(k=null,Gn(L,We({matches:Y},cy(ne),{loaderData:lt,errors:ze})))}async function sh(D,L,V,H,G){G===void 0&&(G={}),as();let Y=jb(L,V);_t({navigation:Y},{flushSync:G.flushSync===!0});let J,Q=id(H,L);if(!Q.route.action&&!Q.route.lazy)J={type:je.error,error:gn(405,{method:D.method,pathname:L.pathname,routeId:Q.route.id})};else if(J=(await qn("action",D,[Q],H))[0],D.signal.aborted)return{shortCircuited:!0};if(Dr(J)){let ne;return G&&G.replace!=null?ne=G.replace:ne=oy(J.response.headers.get("Location"),new URL(D.url),l)===m.location.pathname+m.location.search,await dr(D,J,{submission:V,replace:ne}),{shortCircuited:!0}}if(Rr(J))throw gn(400,{type:"defer-action"});if(vn(J)){let ne=ua(H,Q.route.id);return(G&&G.replace)!==!0&&(v=st.Push),{pendingActionResult:[ne.route.id,J]}}return{pendingActionResult:[Q.route.id,J]}}async function oh(D,L,V,H,G,Y,J,Q,ne,re){let lt=H||Hh(L,G),ze=G||Y||py(lt),te=a||o,[Pe,He]=iy(t.history,m,V,ze,L,h.v7_partialHydration&&Q===!0,h.unstable_skipActionErrorRevalidation,le,Te,be,Re,me,oe,te,l,re);if(cs(ce=>!(V&&V.some(wt=>wt.route.id===ce))||Pe&&Pe.some(wt=>wt.route.id===ce)),ee=++X,Pe.length===0&&He.length===0){let ce=mo();return Gn(L,We({matches:V,loaderData:{},errors:re&&vn(re[1])?{[re[0]]:re[1].error}:null},cy(re),ce?{fetchers:new Map(m.fetchers)}:{}),{flushSync:ne}),{shortCircuited:!0}}if(!ue&&(!h.v7_partialHydration||!Q)){He.forEach(wt=>{let xt=m.fetchers.get(wt.key),it=Fo(void 0,xt?xt.data:void 0);m.fetchers.set(wt.key,it)});let ce;re&&!vn(re[1])?ce={[re[0]]:re[1].data}:m.actionData&&(Object.keys(m.actionData).length===0?ce=null:ce=m.actionData),_t(We({navigation:lt},ce!==void 0?{actionData:ce}:{},He.length>0?{fetchers:new Map(m.fetchers)}:{}),{flushSync:ne})}He.forEach(ce=>{j.has(ce.key)&&zn(ce.key),ce.controller&&j.set(ce.key,ce.controller)});let Ti=()=>He.forEach(ce=>zn(ce.key));k&&k.signal.addEventListener("abort",Ti);let{loaderResults:dn,fetcherResults:bn}=await os(m.matches,V,Pe,He,D);if(D.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",Ti),He.forEach(ce=>j.delete(ce.key));let Bt=fy([...dn,...bn]);if(Bt){if(Bt.idx>=Pe.length){let ce=He[Bt.idx-Pe.length].key;oe.add(ce)}return await dr(D,Bt.result,{replace:J}),{shortCircuited:!0}}let{loaderData:Xn,errors:en}=ly(m,V,Pe,dn,re,He,bn,De);De.forEach((ce,wt)=>{ce.subscribe(xt=>{(xt||ce.done)&&De.delete(wt)})}),h.v7_partialHydration&&Q&&m.errors&&Object.entries(m.errors).filter(ce=>{let[wt]=ce;return!Pe.some(xt=>xt.route.id===wt)}).forEach(ce=>{let[wt,xt]=ce;en=Object.assign(en||{},{[wt]:xt})});let bi=mo(),ki=yo(ee),mr=bi||ki||He.length>0;return We({loaderData:Xn,errors:en},mr?{fetchers:new Map(m.fetchers)}:{})}function cl(D,L,V,H){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");j.has(D)&&zn(D);let G=(H&&H.unstable_flushSync)===!0,Y=a||o,J=td(m.location,m.matches,l,h.v7_prependBasename,V,h.v7_relativeSplatPath,L,H==null?void 0:H.relative),Q=Rs(Y,J,l);if(!Q){tt(D,L,gn(404,{pathname:J}),{flushSync:G});return}let{path:ne,submission:re,error:lt}=ny(h.v7_normalizeFormMethod,!0,J,H);if(lt){tt(D,L,lt,{flushSync:G});return}let ze=id(Q,ne);if(T=(H&&H.preventScrollReset)===!0,re&&An(re.formMethod)){go(D,L,ne,ze,Q,G,re);return}me.set(D,{routeId:L,path:ne}),hl(D,L,ne,ze,Q,G,re)}async function go(D,L,V,H,G,Y,J){if(as(),me.delete(D),!H.route.action&&!H.route.lazy){let it=gn(405,{method:J.formMethod,pathname:V,routeId:L});tt(D,L,it,{flushSync:Y});return}let Q=m.fetchers.get(D);Me(D,Bb(J,Q),{flushSync:Y});let ne=new AbortController,re=ms(t.history,V,ne.signal,J);j.set(D,ne);let lt=X,te=(await qn("action",re,[H],G))[0];if(re.signal.aborted){j.get(D)===ne&&j.delete(D);return}if(h.v7_fetcherPersist&&Re.has(D)){if(Dr(te)||vn(te)){Me(D,Di(void 0));return}}else{if(Dr(te))if(j.delete(D),ee>lt){Me(D,Di(void 0));return}else return oe.add(D),Me(D,Fo(J)),dr(re,te,{fetcherSubmission:J});if(vn(te)){tt(D,L,te.error);return}}if(Rr(te))throw gn(400,{type:"defer-action"});let Pe=m.navigation.location||m.location,He=ms(t.history,Pe,ne.signal),Ti=a||o,dn=m.navigation.state!=="idle"?Rs(Ti,m.navigation.location,l):m.matches;he(dn,"Didn't find any matches after fetcher action");let bn=++X;pe.set(D,bn);let Bt=Fo(J,te.data);m.fetchers.set(D,Bt);let[Xn,en]=iy(t.history,m,dn,J,Pe,!1,h.unstable_skipActionErrorRevalidation,le,Te,be,Re,me,oe,Ti,l,[H.route.id,te]);en.filter(it=>it.key!==D).forEach(it=>{let Jn=it.key,Pi=m.fetchers.get(Jn),Zn=Fo(void 0,Pi?Pi.data:void 0);m.fetchers.set(Jn,Zn),j.has(Jn)&&zn(Jn),it.controller&&j.set(Jn,it.controller)}),_t({fetchers:new Map(m.fetchers)});let bi=()=>en.forEach(it=>zn(it.key));ne.signal.addEventListener("abort",bi);let{loaderResults:ki,fetcherResults:mr}=await os(m.matches,dn,Xn,en,He);if(ne.signal.aborted)return;ne.signal.removeEventListener("abort",bi),pe.delete(D),j.delete(D),en.forEach(it=>j.delete(it.key));let ce=fy([...ki,...mr]);if(ce){if(ce.idx>=Xn.length){let it=en[ce.idx-Xn.length].key;oe.add(it)}return dr(He,ce.result)}let{loaderData:wt,errors:xt}=ly(m,m.matches,Xn,ki,void 0,en,mr,De);if(m.fetchers.has(D)){let it=Di(te.data);m.fetchers.set(D,it)}yo(bn),m.navigation.state==="loading"&&bn>ee?(he(v,"Expected pending action"),k&&k.abort(),Gn(m.navigation.location,{matches:dn,loaderData:wt,errors:xt,fetchers:new Map(m.fetchers)})):(_t({errors:xt,loaderData:uy(m.loaderData,wt,dn,xt),fetchers:new Map(m.fetchers)}),le=!1)}async function hl(D,L,V,H,G,Y,J){let Q=m.fetchers.get(D);Me(D,Fo(J,Q?Q.data:void 0),{flushSync:Y});let ne=new AbortController,re=ms(t.history,V,ne.signal);j.set(D,ne);let lt=X,te=(await qn("loader",re,[H],G))[0];if(Rr(te)&&(te=await $w(te,re.signal,!0)||te),j.get(D)===ne&&j.delete(D),!re.signal.aborted){if(Re.has(D)){Me(D,Di(void 0));return}if(Dr(te))if(ee>lt){Me(D,Di(void 0));return}else{oe.add(D),await dr(re,te);return}if(vn(te)){tt(D,L,te.error);return}he(!Rr(te),"Unhandled fetcher deferred data"),Me(D,Di(te.data))}}async function dr(D,L,V){let{submission:H,fetcherSubmission:G,replace:Y}=V===void 0?{}:V;L.response.headers.has("X-Remix-Revalidate")&&(le=!0);let J=L.response.headers.get("Location");he(J,"Expected a Location header on the redirect Response"),J=oy(J,new URL(D.url),l);let Q=Na(m.location,J,{_isRedirect:!0});if(n){let Pe=!1;if(L.response.headers.has("X-Remix-Reload-Document"))Pe=!0;else if(Cp.test(J)){const He=t.history.createURL(J);Pe=He.origin!==e.location.origin||lo(He.pathname,l)==null}if(Pe){Y?e.location.replace(J):e.location.assign(J);return}}k=null;let ne=Y===!0?st.Replace:st.Push,{formMethod:re,formAction:lt,formEncType:ze}=m.navigation;!H&&!G&&re&&lt&&ze&&(H=py(m.navigation));let te=H||G;if(Sb.has(L.response.status)&&te&&An(te.formMethod))await Vn(ne,Q,{submission:We({},te,{formAction:J}),preventScrollReset:T});else{let Pe=Hh(Q,H);await Vn(ne,Q,{overrideNavigation:Pe,fetcherSubmission:G,preventScrollReset:T})}}async function qn(D,L,V,H){try{let G=await Rb(c,D,L,V,H,s,r);return await Promise.all(G.map((Y,J)=>{if(Fb(Y)){let Q=Y.result;return{type:je.redirect,response:Ob(Q,L,V[J].route.id,H,l,h.v7_relativeSplatPath)}}return Mb(Y)}))}catch(G){return V.map(()=>({type:je.error,error:G}))}}async function os(D,L,V,H,G){let[Y,...J]=await Promise.all([V.length?qn("loader",G,V,L):[],...H.map(Q=>{if(Q.matches&&Q.match&&Q.controller){let ne=ms(t.history,Q.path,Q.controller.signal);return qn("loader",ne,[Q.match],Q.matches).then(re=>re[0])}else return Promise.resolve({type:je.error,error:gn(404,{pathname:Q.path})})})]);return await Promise.all([dy(D,V,Y,Y.map(()=>G.signal),!1,m.loaderData),dy(D,H.map(Q=>Q.match),J,H.map(Q=>Q.controller?Q.controller.signal:null),!0)]),{loaderResults:Y,fetcherResults:J}}function as(){le=!0,Te.push(...cs()),me.forEach((D,L)=>{j.has(L)&&(be.push(L),zn(L))})}function Me(D,L,V){V===void 0&&(V={}),m.fetchers.set(D,L),_t({fetchers:new Map(m.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function tt(D,L,V,H){H===void 0&&(H={});let G=ua(m.matches,L);gr(D),_t({errors:{[G.route.id]:V},fetchers:new Map(m.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function pr(D){return h.v7_fetcherPersist&&(Ue.set(D,(Ue.get(D)||0)+1),Re.has(D)&&Re.delete(D)),m.fetchers.get(D)||Tb}function gr(D){let L=m.fetchers.get(D);j.has(D)&&!(L&&L.state==="loading"&&pe.has(D))&&zn(D),me.delete(D),pe.delete(D),oe.delete(D),Re.delete(D),m.fetchers.delete(D)}function fl(D){if(h.v7_fetcherPersist){let L=(Ue.get(D)||0)-1;L<=0?(Ue.delete(D),Re.add(D)):Ue.set(D,L)}else gr(D);_t({fetchers:new Map(m.fetchers)})}function zn(D){let L=j.get(D);he(L,"Expected fetch controller: "+D),L.abort(),j.delete(D)}function Ei(D){for(let L of D){let V=pr(L),H=Di(V.data);m.fetchers.set(L,H)}}function mo(){let D=[],L=!1;for(let V of oe){let H=m.fetchers.get(V);he(H,"Expected fetcher: "+V),H.state==="loading"&&(oe.delete(V),D.push(V),L=!0)}return Ei(D),L}function yo(D){let L=[];for(let[V,H]of pe)if(H<D){let G=m.fetchers.get(V);he(G,"Expected fetcher: "+V),G.state==="loading"&&(zn(V),pe.delete(V),L.push(V))}return Ei(L),L.length>0}function vo(D,L){let V=m.blockers.get(D)||No;return vt.get(D)!==L&&vt.set(D,L),V}function dl(D){m.blockers.delete(D),vt.delete(D)}function ls(D,L){let V=m.blockers.get(D)||No;he(V.state==="unblocked"&&L.state==="blocked"||V.state==="blocked"&&L.state==="blocked"||V.state==="blocked"&&L.state==="proceeding"||V.state==="blocked"&&L.state==="unblocked"||V.state==="proceeding"&&L.state==="unblocked","Invalid blocker state transition: "+V.state+" -> "+L.state);let H=new Map(m.blockers);H.set(D,L),_t({blockers:H})}function us(D){let{currentLocation:L,nextLocation:V,historyAction:H}=D;if(vt.size===0)return;vt.size>1&&Ys(!1,"A router only supports one blocker at a time");let G=Array.from(vt.entries()),[Y,J]=G[G.length-1],Q=m.blockers.get(Y);if(!(Q&&Q.state==="proceeding")&&J({currentLocation:L,nextLocation:V,historyAction:H}))return Y}function cs(D){let L=[];return De.forEach((V,H)=>{(!D||D(H))&&(V.cancel(),L.push(H),De.delete(H))}),L}function pl(D,L,V){if(y=D,w=L,_=V||null,!b&&m.navigation===Uh){b=!0;let H=hs(m.location,m.matches);H!=null&&_t({restoreScrollPosition:H})}return()=>{y=null,w=null,_=null}}function Si(D,L){return _&&_(D,L.map(H=>eb(H,m.loaderData)))||D.key}function _o(D,L){if(y&&w){let V=Si(D,L);y[V]=w()}}function hs(D,L){if(y){let V=Si(D,L),H=y[V];if(typeof H=="number")return H}return null}function Yn(D){s={},a=ed(D,r,void 0,s)}return N={get basename(){return l},get future(){return h},get state(){return m},get routes(){return o},get window(){return e},initialize:rh,subscribe:rs,enableScrollRestoration:pl,navigate:ss,fetch:cl,revalidate:po,createHref:D=>t.history.createHref(D),encodeLocation:D=>t.history.encodeLocation(D),getFetcher:pr,deleteFetcher:fl,dispose:is,getBlocker:vo,deleteBlocker:dl,_internalFetchControllers:j,_internalActiveDeferreds:De,_internalSetRoutes:Yn},N}function Pb(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function td(t,e,n,i,r,s,o,a){let l,c;if(o){l=[];for(let f of e)if(l.push(f),f.route.id===o){c=f;break}}else l=e,c=e[e.length-1];let h=kp(r||".",bp(l,s),lo(t.pathname,n)||t.pathname,a==="path");return r==null&&(h.search=t.search,h.hash=t.hash),(r==null||r===""||r===".")&&c&&c.route.index&&!Ap(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i&&n!=="/"&&(h.pathname=h.pathname==="/"?n:fi([n,h.pathname])),Wr(h)}function ny(t,e,n,i){if(!i||!Pb(i))return{path:n};if(i.formMethod&&!zb(i.formMethod))return{path:n,error:gn(405,{method:i.formMethod})};let r=()=>({path:n,error:gn(400,{type:"invalid-body"})}),s=i.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=Uw(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!An(o))return r();let p=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((y,_)=>{let[w,b]=_;return""+y+w+"="+b+`
`},""):String(i.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:void 0,text:p}}}else if(i.formEncType==="application/json"){if(!An(o))return r();try{let p=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}he(typeof FormData=="function","FormData is not available in this environment");let l,c;if(i.formData)l=nd(i.formData),c=i.formData;else if(i.body instanceof FormData)l=nd(i.body),c=i.body;else if(i.body instanceof URLSearchParams)l=i.body,c=ay(l);else if(i.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(i.body),c=ay(l)}catch{return r()}let h={formMethod:o,formAction:a,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(An(h.formMethod))return{path:n,submission:h};let f=cr(n);return e&&f.search&&Ap(f.search)&&l.append("index",""),f.search="?"+l,{path:Wr(f),submission:h}}function Ib(t,e){let n=t;if(e){let i=t.findIndex(r=>r.route.id===e);i>=0&&(n=t.slice(0,i))}return n}function iy(t,e,n,i,r,s,o,a,l,c,h,f,p,y,_,w){let b=w?vn(w[1])?w[1].error:w[1].data:void 0,x=t.createURL(e.location),E=t.createURL(r),P=w&&vn(w[1])?w[0]:void 0,R=P?Ib(n,P):n,M=w?w[1].statusCode:void 0,N=o&&M&&M>=400,m=R.filter((T,k)=>{let{route:C}=T;if(C.lazy)return!0;if(C.loader==null)return!1;if(s)return typeof C.loader!="function"||C.loader.hydrate?!0:e.loaderData[C.id]===void 0&&(!e.errors||e.errors[C.id]===void 0);if(Cb(e.loaderData,e.matches[k],T)||l.some(ue=>ue===T.route.id))return!0;let A=e.matches[k],I=T;return ry(T,We({currentUrl:x,currentParams:A.params,nextUrl:E,nextParams:I.params},i,{actionResult:b,unstable_actionStatus:M,defaultShouldRevalidate:N?!1:a||x.pathname+x.search===E.pathname+E.search||x.search!==E.search||Bw(A,I)}))}),v=[];return f.forEach((T,k)=>{if(s||!n.some(le=>le.route.id===T.routeId)||h.has(k))return;let C=Rs(y,T.path,_);if(!C){v.push({key:k,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let A=e.fetchers.get(k),I=id(C,T.path),ue=!1;p.has(k)?ue=!1:c.includes(k)?ue=!0:A&&A.state!=="idle"&&A.data===void 0?ue=a:ue=ry(I,We({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:E,nextParams:n[n.length-1].params},i,{actionResult:b,unstable_actionStatus:M,defaultShouldRevalidate:N?!1:a})),ue&&v.push({key:k,routeId:T.routeId,path:T.path,matches:C,match:I,controller:new AbortController})}),[m,v]}function Cb(t,e,n){let i=!e||n.route.id!==e.route.id,r=t[n.route.id]===void 0;return i||r}function Bw(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ry(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function sy(t,e,n){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let r=n[t.id];he(r,"No route found in manifest");let s={};for(let o in i){let l=r[o]!==void 0&&o!=="hasErrorBoundary";Ys(!l,'Route "'+r.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!JT.has(o)&&(s[o]=i[o])}Object.assign(r,s),Object.assign(r,We({},e(r),{lazy:void 0}))}function Ab(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function Rb(t,e,n,i,r,s,o,a){let l=i.reduce((f,p)=>f.add(p.route.id),new Set),c=new Set,h=await t({matches:r.map(f=>{let p=l.has(f.route.id);return We({},f,{shouldLoad:p,resolve:_=>(c.add(f.route.id),p?Db(e,n,f,s,o,_,a):Promise.resolve({type:je.data,result:void 0}))})}),request:n,params:r[0].params,context:a});return r.forEach(f=>he(c.has(f.route.id),'`match.resolve()` was not called for route id "'+f.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),h.filter((f,p)=>l.has(r[p].route.id))}async function Db(t,e,n,i,r,s,o){let a,l,c=h=>{let f,p=new Promise((w,b)=>f=b);l=()=>f(),e.signal.addEventListener("abort",l);let y=w=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):h({request:e,params:n.params,context:o},...w!==void 0?[w]:[]),_;return s?_=s(w=>y(w)):_=(async()=>{try{return{type:"data",result:await y()}}catch(w){return{type:"error",result:w}}})(),Promise.race([_,p])};try{let h=n.route[t];if(n.route.lazy)if(h){let f,[p]=await Promise.all([c(h).catch(y=>{f=y}),sy(n.route,r,i)]);if(f!==void 0)throw f;a=p}else if(await sy(n.route,r,i),h=n.route[t],h)a=await c(h);else if(t==="action"){let f=new URL(e.url),p=f.pathname+f.search;throw gn(405,{method:e.method,pathname:p,routeId:n.route.id})}else return{type:je.data,result:void 0};else if(h)a=await c(h);else{let f=new URL(e.url),p=f.pathname+f.search;throw gn(404,{pathname:p})}he(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:je.error,result:h}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function Mb(t){let{result:e,type:n,status:i}=t;if(Hw(e)){let o;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(a){return{type:je.error,error:a}}return n===je.error?{type:je.error,error:new Pp(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:je.data,data:o,statusCode:e.status,headers:e.headers}}if(n===je.error)return{type:je.error,error:e,statusCode:Ip(e)?e.status:i};if(Vb(e)){var r,s;return{type:je.deferred,deferredData:e,statusCode:(r=e.init)==null?void 0:r.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:je.data,data:e,statusCode:i}}function Ob(t,e,n,i,r,s){let o=t.headers.get("Location");if(he(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Cp.test(o)){let a=i.slice(0,i.findIndex(l=>l.route.id===n)+1);o=td(new URL(e.url),a,r,!0,o,s),t.headers.set("Location",o)}return t}function oy(t,e,n){if(Cp.test(t)){let i=t,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),s=lo(r.pathname,n)!=null;if(r.origin===e.origin&&s)return r.pathname+r.search+r.hash}return t}function ms(t,e,n,i){let r=t.createURL(Uw(e)).toString(),s={signal:n};if(i&&An(i.formMethod)){let{formMethod:o,formEncType:a}=i;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(i.json)):a==="text/plain"?s.body=i.text:a==="application/x-www-form-urlencoded"&&i.formData?s.body=nd(i.formData):s.body=i.formData}return new Request(r,s)}function nd(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function ay(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function Lb(t,e,n,i,r,s){let o={},a=null,l,c=!1,h={},f=i&&vn(i[1])?i[1].error:void 0;return n.forEach((p,y)=>{let _=e[y].route.id;if(he(!Dr(p),"Cannot handle redirect results in processLoaderData"),vn(p)){let w=p.error;f!==void 0&&(w=f,f=void 0),a=a||{};{let b=ua(t,_);a[b.route.id]==null&&(a[b.route.id]=w)}o[_]=void 0,c||(c=!0,l=Ip(p.error)?p.error.status:500),p.headers&&(h[_]=p.headers)}else Rr(p)?(r.set(_,p.deferredData),o[_]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!c&&(l=p.statusCode),p.headers&&(h[_]=p.headers)):(o[_]=p.data,p.statusCode&&p.statusCode!==200&&!c&&(l=p.statusCode),p.headers&&(h[_]=p.headers))}),f!==void 0&&i&&(a={[i[0]]:f},o[i[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:h}}function ly(t,e,n,i,r,s,o,a){let{loaderData:l,errors:c}=Lb(e,n,i,r,a);for(let h=0;h<s.length;h++){let{key:f,match:p,controller:y}=s[h];he(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let _=o[h];if(!(y&&y.signal.aborted))if(vn(_)){let w=ua(t.matches,p==null?void 0:p.route.id);c&&c[w.route.id]||(c=We({},c,{[w.route.id]:_.error})),t.fetchers.delete(f)}else if(Dr(_))he(!1,"Unhandled fetcher revalidation redirect");else if(Rr(_))he(!1,"Unhandled fetcher deferred data");else{let w=Di(_.data);t.fetchers.set(f,w)}}return{loaderData:l,errors:c}}function uy(t,e,n,i){let r=We({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(r[o]=e[o]):t[o]!==void 0&&s.route.loader&&(r[o]=t[o]),i&&i.hasOwnProperty(o))break}return r}function cy(t){return t?vn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ua(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function hy(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function gn(t,e){let{pathname:n,routeId:i,method:r,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",r&&n&&i?a="You made a "+r+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+i+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",r&&n&&i?a="You made a "+r.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(a='Invalid request method "'+r.toUpperCase()+'"')),new Pp(t||500,o,new Error(a),!0)}function fy(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Dr(n))return{result:n,idx:e}}}function Uw(t){let e=typeof t=="string"?cr(t):t;return Wr(We({},e,{hash:""}))}function Nb(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Fb(t){return Hw(t.result)&&Eb.has(t.result.status)}function Rr(t){return t.type===je.deferred}function vn(t){return t.type===je.error}function Dr(t){return(t&&t.type)===je.redirect}function Vb(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Hw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function zb(t){return xb.has(t.toLowerCase())}function An(t){return _b.has(t.toLowerCase())}async function dy(t,e,n,i,r,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let c=t.find(f=>f.route.id===l.route.id),h=c!=null&&!Bw(c,l)&&(s&&s[l.route.id])!==void 0;if(Rr(a)&&(r||h)){let f=i[o];he(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await $w(a,f,r).then(p=>{p&&(n[o]=p||n[o])})}}}async function $w(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:je.data,data:t.deferredData.unwrappedData}}catch(r){return{type:je.error,error:r}}return{type:je.data,data:t.deferredData.data}}}function Ap(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function id(t,e){let n=typeof e=="string"?cr(e).search:e.search;if(t[t.length-1].route.index&&Ap(n||""))return t[t.length-1];let i=Vw(t);return i[i.length-1]}function py(t){let{formMethod:e,formAction:n,formEncType:i,text:r,formData:s,json:o}=t;if(!(!e||!n||!i)){if(r!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:e,formAction:n,formEncType:i,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:o,text:void 0}}}function Hh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function jb(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Fo(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Bb(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Di(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ub(t,e){try{let n=t.sessionStorage.getItem(jw);if(n){let i=JSON.parse(n);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(r,new Set(s||[]))}}catch{}}function Hb(t,e){if(e.size>0){let n={};for(let[i,r]of e)n[i]=[...r];try{t.sessionStorage.setItem(jw,JSON.stringify(n))}catch(i){Ys(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Xu.apply(this,arguments)}const jc=z.createContext(null),Ww=z.createContext(null),es=z.createContext(null),Rp=z.createContext(null),hr=z.createContext({outlet:null,matches:[],isDataRoute:!1}),Kw=z.createContext(null);function $b(t,e){let{relative:n}=e===void 0?{}:e;il()||he(!1);let{basename:i,navigator:r}=z.useContext(es),{hash:s,pathname:o,search:a}=Gw(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:fi([i,o])),r.createHref({pathname:l,search:a,hash:s})}function il(){return z.useContext(Rp)!=null}function Bc(){return il()||he(!1),z.useContext(Rp).location}function Qw(t){z.useContext(es).static||z.useLayoutEffect(t)}function Uc(){let{isDataRoute:t}=z.useContext(hr);return t?rk():Wb()}function Wb(){il()||he(!1);let t=z.useContext(jc),{basename:e,future:n,navigator:i}=z.useContext(es),{matches:r}=z.useContext(hr),{pathname:s}=Bc(),o=JSON.stringify(bp(r,n.v7_relativeSplatPath)),a=z.useRef(!1);return Qw(()=>{a.current=!0}),z.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let f=kp(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:fi([e,f.pathname])),(h.replace?i.replace:i.push)(f,h.state,h)},[e,i,o,s,t])}const Kb=z.createContext(null);function Qb(t){let e=z.useContext(hr).outlet;return e&&z.createElement(Kb.Provider,{value:t},e)}function Gw(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=z.useContext(es),{matches:r}=z.useContext(hr),{pathname:s}=Bc(),o=JSON.stringify(bp(r,i.v7_relativeSplatPath));return z.useMemo(()=>kp(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Gb(t,e,n,i){il()||he(!1);let{navigator:r}=z.useContext(es),{matches:s}=z.useContext(hr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Bc(),h;h=c;let f=h.pathname||"/",p=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=Rs(t,{pathname:p});return Zb(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:fi([l,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:fi([l,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,i)}function qb(){let t=ik(),e=Ip(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:r},n):null,null)}const Yb=z.createElement(qb,null);class Xb extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?z.createElement(hr.Provider,{value:this.props.routeContext},z.createElement(Kw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jb(t){let{routeContext:e,match:n,children:i}=t,r=z.useContext(jc);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(hr.Provider,{value:e},i)}function Zb(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||he(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:y}=n,_=f.route.loader&&p[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let y,_=!1,w=null,b=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||Yb,l&&(c<0&&p===0?(sk("route-fallback"),_=!0,b=null):c===p&&(_=!0,b=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),E=()=>{let P;return y?P=w:_?P=b:f.route.Component?P=z.createElement(f.route.Component,null):f.route.element?P=f.route.element:P=h,z.createElement(Jb,{match:f,routeContext:{outlet:h,matches:x,isDataRoute:n!=null},children:P})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?z.createElement(Xb,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:E(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):E()},null)}var qw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qw||{}),Ju=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ju||{});function ek(t){let e=z.useContext(jc);return e||he(!1),e}function tk(t){let e=z.useContext(Ww);return e||he(!1),e}function nk(t){let e=z.useContext(hr);return e||he(!1),e}function Yw(t){let e=nk(),n=e.matches[e.matches.length-1];return n.route.id||he(!1),n.route.id}function ik(){var t;let e=z.useContext(Kw),n=tk(Ju.UseRouteError),i=Yw(Ju.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function rk(){let{router:t}=ek(qw.UseNavigateStable),e=Yw(Ju.UseNavigateStable),n=z.useRef(!1);return Qw(()=>{n.current=!0}),z.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Xu({fromRouteId:e},s)))},[t,e])}const gy={};function sk(t,e,n){gy[t]||(gy[t]=!0)}function ok(t){return Qb(t.context)}function ak(t){let{basename:e="/",children:n=null,location:i,navigationType:r=st.Pop,navigator:s,static:o=!1,future:a}=t;il()&&he(!1);let l=e.replace(/^\/*/,"/"),c=z.useMemo(()=>({basename:l,navigator:s,static:o,future:Xu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=cr(i));let{pathname:h="/",search:f="",hash:p="",state:y=null,key:_="default"}=i,w=z.useMemo(()=>{let b=lo(h,l);return b==null?null:{location:{pathname:b,search:f,hash:p,state:y,key:_},navigationType:r}},[l,h,f,p,y,_,r]);return w==null?null:z.createElement(es.Provider,{value:c},z.createElement(Rp.Provider,{children:n,value:w}))}new Promise(()=>{});function lk(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:z.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:z.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:z.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fa(){return Fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fa.apply(this,arguments)}function uk(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function ck(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hk(t,e){return t.button===0&&(!e||e==="_self")&&!ck(t)}const fk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],dk="6";try{window.__reactRouterVersion=dk}catch{}function pk(t,e){return kb({basename:void 0,future:Fa({},void 0,{v7_prependBasename:!0}),history:qT({window:void 0}),hydrationData:gk(),routes:t,mapRouteProperties:lk,unstable_dataStrategy:void 0,window:void 0}).initialize()}function gk(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Fa({},e,{errors:mk(e.errors)})),e}function mk(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")n[i]=new Pp(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let o=new s(r.message);o.stack="",n[i]=o}catch{}}if(n[i]==null){let s=new Error(r.message);s.stack="",n[i]=s}}else n[i]=r;return n}const yk=z.createContext({isTransitioning:!1}),vk=z.createContext(new Map),_k="startTransition",my=NE[_k],wk="flushSync",yy=GT[wk];function xk(t){my?my(t):t()}function Vo(t){yy?yy(t):t()}let Ek=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function Sk(t){let{fallbackElement:e,router:n,future:i}=t,[r,s]=z.useState(n.state),[o,a]=z.useState(),[l,c]=z.useState({isTransitioning:!1}),[h,f]=z.useState(),[p,y]=z.useState(),[_,w]=z.useState(),b=z.useRef(new Map),{v7_startTransition:x}=i||{},E=z.useCallback(m=>{x?xk(m):m()},[x]),P=z.useCallback((m,v)=>{let{deletedFetchers:T,unstable_flushSync:k,unstable_viewTransitionOpts:C}=v;T.forEach(I=>b.current.delete(I)),m.fetchers.forEach((I,ue)=>{I.data!==void 0&&b.current.set(ue,I.data)});let A=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!C||A){k?Vo(()=>s(m)):E(()=>s(m));return}if(k){Vo(()=>{p&&(h&&h.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:C.currentLocation,nextLocation:C.nextLocation})});let I=n.window.document.startViewTransition(()=>{Vo(()=>s(m))});I.finished.finally(()=>{Vo(()=>{f(void 0),y(void 0),a(void 0),c({isTransitioning:!1})})}),Vo(()=>y(I));return}p?(h&&h.resolve(),p.skipTransition(),w({state:m,currentLocation:C.currentLocation,nextLocation:C.nextLocation})):(a(m),c({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}))},[n.window,p,h,b,E]);z.useLayoutEffect(()=>n.subscribe(P),[n,P]),z.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new Ek)},[l]),z.useEffect(()=>{if(h&&o&&n.window){let m=o,v=h.promise,T=n.window.document.startViewTransition(async()=>{E(()=>s(m)),await v});T.finished.finally(()=>{f(void 0),y(void 0),a(void 0),c({isTransitioning:!1})}),y(T)}},[E,o,h,n.window]),z.useEffect(()=>{h&&o&&r.location.key===o.location.key&&h.resolve()},[h,p,r.location,o]),z.useEffect(()=>{!l.isTransitioning&&_&&(a(_.state),c({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),w(void 0))},[l.isTransitioning,_]),z.useEffect(()=>{},[]);let R=z.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:m=>n.navigate(m),push:(m,v,T)=>n.navigate(m,{state:v,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(m,v,T)=>n.navigate(m,{replace:!0,state:v,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[n]),M=n.basename||"/",N=z.useMemo(()=>({router:n,navigator:R,static:!1,basename:M}),[n,R,M]);return z.createElement(z.Fragment,null,z.createElement(jc.Provider,{value:N},z.createElement(Ww.Provider,{value:r},z.createElement(vk.Provider,{value:b.current},z.createElement(yk.Provider,{value:l},z.createElement(ak,{basename:M,location:r.location,navigationType:r.historyAction,navigator:R,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},r.initialized||n.future.v7_partialHydration?z.createElement(Tk,{routes:n.routes,future:n.future,state:r}):e))))),null)}function Tk(t){let{routes:e,future:n,state:i}=t;return Gb(e,void 0,i,n)}const bk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pk=z.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,unstable_viewTransition:f}=e,p=uk(e,fk),{basename:y}=z.useContext(es),_,w=!1;if(typeof c=="string"&&kk.test(c)&&(_=c,bk))try{let P=new URL(window.location.href),R=c.startsWith("//")?new URL(P.protocol+c):new URL(c),M=lo(R.pathname,y);R.origin===P.origin&&M!=null?c=M+R.search+R.hash:w=!0}catch{}let b=$b(c,{relative:r}),x=Ik(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:r,unstable_viewTransition:f});function E(P){i&&i(P),P.defaultPrevented||x(P)}return z.createElement("a",Fa({},p,{href:_||b,onClick:w||s?i:E,ref:n,target:l}))});var vy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vy||(vy={}));var _y;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_y||(_y={}));function Ik(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Uc(),c=Bc(),h=Gw(t,{relative:o});return z.useCallback(f=>{if(hk(f,n)){f.preventDefault();let p=i!==void 0?i:Wr(c)===Wr(h);l(t,{replace:p,state:r,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,h,i,r,n,t,s,o,a])}const Ck=()=>{const t=Uc(),e="2af71b269cf04769896f82f33dfc07e1",n="https://accounts.spotify.com/authorize",i="token",[r,s]=z.useState("");z.useEffect(()=>{const a=window.location.hash;let l=window.localStorage.getItem("token");if(!l&&a){const c=a.substring(1).split("&").find(h=>h.startsWith("access_token"));c&&(l=c.split("=")[1],window.location.hash="",window.localStorage.setItem("token",l),s(l))}else l&&s(l)},[]),z.useEffect(()=>{r&&t("/home")},[r,t]),z.useEffect(()=>{const a=()=>{const f=document.createElement("div");f.classList.add("light-animation");const p=window.innerWidth*(3/5),y=Math.random()*window.innerHeight,_=Math.random()*p;f.style.backgroundColor="#FFBE17",f.style.left=`${y}px`,f.style.top=`${_}px`,document.body.appendChild(f),f.addEventListener("animationend",()=>{f.remove()}),f.classList.add("fade-out")},l=()=>{const f=document.createElement("div");f.classList.add("photo-animation");const p=window.innerWidth*(3/5),y=Math.random()*window.innerHeight,_=Math.random()*p,w=c();w?(f.style.backgroundImage=`url(${w})`,f.style.left=`${y}px`,f.style.top=`${_}px`,document.body.appendChild(f),f.addEventListener("animationend",()=>{f.remove()}),f.classList.add("fade-out")):console.error("geen fotos")},c=()=>{const f=["/images/angrySmiley.png","/images/cryingSmiley.png","/images/frowningSmiley.png","/images/grinningSmiley.png","/images/heartsSmiley.png","/images/relievedSmiley.png","/images/sleepySmiley.png","/images/wozySmiley.png","/images/zanySmiley.png","/images/zonnebrilSmiley.png"];return f.length>0?f[Math.floor(Math.random()*f.length)]:null},h=setInterval(()=>{Math.random()<.5?a():l()},500);return()=>clearInterval(h)},[]);const o=()=>{const l=encodeURIComponent("https://stemming.vercel.app"),c=`${n}?client_id=${e}&redirect_uri=${l}&response_type=${i}`;window.location.href=c};return K.jsxs("div",{className:"min-h-screen grid grid-cols-5",children:[K.jsx("div",{className:"col-span-3 bg-[#6F17FF]"}),K.jsxs("div",{className:"col-span-2 bg-white grid grid-rows-7",children:[K.jsx("div",{className:"row-span-1"}),K.jsx("div",{className:" row-span-1 flex justify-center items-center",children:K.jsx("h1",{className:"text-[74px] font-bold mb-8 text-[#3B3939] font-koulen",children:"STEMMING"})}),K.jsx("div",{className:"row-span-1 flex flex-col items-center",children:r?K.jsx("div",{children:K.jsx("p",{children:"Je bent ingelogd met Spotify"})}):K.jsxs(K.Fragment,{children:[K.jsx("button",{onClick:o,className:"py-2 px-4 bg-[#3B3939] text-white font-trispace rounded-lg shadow-md hover:shadow-xl",children:"Login met Spotify"})," ",K.jsx("p",{className:"text-[#3B3939] font-trispace text-[10px] m-2 text-center",children:"Begin nu en ervaar een gepersonaliseerde muzikale reis!"})]})}),K.jsx("div",{className:"row-span-1 font-trispace text-[15px] text-[#3B3939] flex justify-center items-center text-center px-4",children:K.jsx("p",{children:"Welkom bij Stemming, de muziek die zich afstemt op jouw gevoel! Ontdek de kracht van muziek en laat Stemming jouw dag verbeteren."})}),K.jsx("footer",{className:" flex justify-center items-center text-center text-[#3B3939] text-[9px] font-koulen",children:" 2024 Stemming. Alle rechten voorbehouden."})]})]})};/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function rl(t){return t+.5|0}const zi=(t,e,n)=>Math.max(Math.min(t,n),e);function Yo(t){return zi(rl(t*2.55),0,255)}function Xi(t){return zi(rl(t*255),0,255)}function ai(t){return zi(rl(t/2.55)/100,0,1)}function wy(t){return zi(rl(t*100),0,100)}const pn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},rd=[..."0123456789ABCDEF"],Ak=t=>rd[t&15],Rk=t=>rd[(t&240)>>4]+rd[t&15],Ul=t=>(t&240)>>4===(t&15),Dk=t=>Ul(t.r)&&Ul(t.g)&&Ul(t.b)&&Ul(t.a);function Mk(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&pn[t[1]]*17,g:255&pn[t[2]]*17,b:255&pn[t[3]]*17,a:e===5?pn[t[4]]*17:255}:(e===7||e===9)&&(n={r:pn[t[1]]<<4|pn[t[2]],g:pn[t[3]]<<4|pn[t[4]],b:pn[t[5]]<<4|pn[t[6]],a:e===9?pn[t[7]]<<4|pn[t[8]]:255})),n}const Ok=(t,e)=>t<255?e(t):"";function Lk(t){var e=Dk(t)?Ak:Rk;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Ok(t.a,e):void 0}const Nk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Xw(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Fk(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Vk(t,e,n){const i=Xw(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function zk(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function Dp(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,h;return s!==o&&(h=s-o,c=a>.5?h/(2-s-o):h/(s+o),l=zk(n,i,r,h,s),l=l*60+.5),[l|0,c||0,a]}function Mp(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Xi)}function Op(t,e,n){return Mp(Xw,t,e,n)}function jk(t,e,n){return Mp(Vk,t,e,n)}function Bk(t,e,n){return Mp(Fk,t,e,n)}function Jw(t){return(t%360+360)%360}function Uk(t){const e=Nk.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Yo(+e[5]):Xi(+e[5]));const r=Jw(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=jk(r,s,o):e[1]==="hsv"?i=Bk(r,s,o):i=Op(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function Hk(t,e){var n=Dp(t);n[0]=Jw(n[0]+e),n=Op(n),t.r=n[0],t.g=n[1],t.b=n[2]}function $k(t){if(!t)return;const e=Dp(t),n=e[0],i=wy(e[1]),r=wy(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${ai(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const xy={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ey={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Wk(){const t={},e=Object.keys(Ey),n=Object.keys(xy);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,xy[s]);s=parseInt(Ey[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Hl;function Kk(t){Hl||(Hl=Wk(),Hl.transparent=[0,0,0,0]);const e=Hl[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Qk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Gk(t){const e=Qk.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?Yo(o):zi(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Yo(i):zi(i,0,255)),r=255&(e[4]?Yo(r):zi(r,0,255)),s=255&(e[6]?Yo(s):zi(s,0,255)),{r:i,g:r,b:s,a:n}}}function qk(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ai(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const $h=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ys=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Yk(t,e,n){const i=ys(ai(t.r)),r=ys(ai(t.g)),s=ys(ai(t.b));return{r:Xi($h(i+n*(ys(ai(e.r))-i))),g:Xi($h(r+n*(ys(ai(e.g))-r))),b:Xi($h(s+n*(ys(ai(e.b))-s))),a:t.a+n*(e.a-t.a)}}function $l(t,e,n){if(t){let i=Dp(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Op(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Zw(t,e){return t&&Object.assign(e||{},t)}function Sy(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Xi(t[3]))):(e=Zw(t,{r:0,g:0,b:0,a:1}),e.a=Xi(e.a)),e}function Xk(t){return t.charAt(0)==="r"?Gk(t):Uk(t)}class Va{constructor(e){if(e instanceof Va)return e;const n=typeof e;let i;n==="object"?i=Sy(e):n==="string"&&(i=Mk(e)||Kk(e)||Xk(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Zw(this._rgb);return e&&(e.a=ai(e.a)),e}set rgb(e){this._rgb=Sy(e)}rgbString(){return this._valid?qk(this._rgb):void 0}hexString(){return this._valid?Lk(this._rgb):void 0}hslString(){return this._valid?$k(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=Yk(this._rgb,e._rgb,n)),this}clone(){return new Va(this.rgb)}alpha(e){return this._rgb.a=Xi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=rl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return $l(this._rgb,2,e),this}darken(e){return $l(this._rgb,2,-e),this}saturate(e){return $l(this._rgb,1,e),this}desaturate(e){return $l(this._rgb,1,-e),this}rotate(e){return Hk(this._rgb,e),this}}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function ni(){}const Jk=(()=>{let t=0;return()=>t++})();function Ne(t){return t===null||typeof t>"u"}function Qe(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ve(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ze(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function nn(t,e){return Ze(t)?t:e}function de(t,e){return typeof t>"u"?e:t}const Zk=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ie(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ee(t,e,n,i){let r,s,o;if(Qe(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(ve(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function Zu(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function ec(t){if(Qe(t))return t.map(ec);if(ve(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=ec(t[n[r]]);return e}return t}function e1(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function eP(t,e,n,i){if(!e1(t))return;const r=e[t],s=n[t];ve(r)&&ve(s)?za(r,s,i):e[t]=ec(s)}function za(t,e,n){const i=Qe(e)?e:[e],r=i.length;if(!ve(t))return t;n=n||{};const s=n.merger||eP;let o;for(let a=0;a<r;++a){if(o=i[a],!ve(o))continue;const l=Object.keys(o);for(let c=0,h=l.length;c<h;++c)s(l[c],t,o,n)}return t}function ca(t,e){return za(t,e,{merger:tP})}function tP(t,e,n){if(!e1(t))return;const i=e[t],r=n[t];ve(i)&&ve(r)?ca(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ec(r))}const Ty={"":t=>t,x:t=>t.x,y:t=>t.y};function nP(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function iP(t){const e=nP(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function tc(t,e){return(Ty[e]||(Ty[e]=iP(e)))(t)}function Lp(t){return t.charAt(0).toUpperCase()+t.slice(1)}const nc=t=>typeof t<"u",ir=t=>typeof t=="function",by=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function rP(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const at=Math.PI,un=2*at,sP=un+at,ic=Number.POSITIVE_INFINITY,oP=at/180,an=at/2,_r=at/4,ky=at*2/3,ji=Math.log10,Xs=Math.sign;function ha(t,e,n){return Math.abs(t-e)<n}function Py(t){const e=Math.round(t);t=ha(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(ji(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function aP(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function ja(t){return!isNaN(parseFloat(t))&&isFinite(t)}function lP(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function t1(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Bi(t){return t*(at/180)}function Np(t){return t*(180/at)}function Iy(t){if(!Ze(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function uP(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*at&&(s+=un),{angle:s,distance:r}}function sd(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function cP(t,e){return(t-e+sP)%un-at}function sn(t){return(t%un+un)%un}function n1(t,e,n,i){const r=sn(t),s=sn(e),o=sn(n),a=sn(s-r),l=sn(o-r),c=sn(r-s),h=sn(r-o);return r===s||r===o||i&&s===o||a>l&&c<h}function wn(t,e,n){return Math.max(e,Math.min(n,t))}function hP(t){return wn(t,-32768,32767)}function Ds(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Fp(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const Mr=(t,e,n,i)=>Fp(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),fP=(t,e,n)=>Fp(t,n,i=>t[i][e]>=n);function dP(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const i1=["push","pop","shift","splice","unshift"];function pP(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),i1.forEach(n=>{const i="_onData"+Lp(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function Cy(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(i1.forEach(s=>{delete t[s]}),delete t._chartjs)}function gP(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const r1=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function s1(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,r1.call(window,()=>{i=!1,t.apply(e,n)}))}}function mP(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Vp=t=>t==="start"?"left":t==="end"?"right":"center",Ot=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,yP=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function vP(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:h,minDefined:f,maxDefined:p}=o.getUserBounds();f&&(r=wn(Math.min(Mr(a,l,c).lo,n?i:Mr(e,l,o.getPixelForValue(c)).lo),0,i-1)),p?s=wn(Math.max(Mr(a,o.axis,h,!0).hi+1,n?0:Mr(e,l,o.getPixelForValue(h),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function _P(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Wl=t=>t===0||t===1,Ay=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*un/n)),Ry=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*un/n)+1,fa={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*an)+1,easeOutSine:t=>Math.sin(t*an),easeInOutSine:t=>-.5*(Math.cos(at*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Wl(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Wl(t)?t:Ay(t,.075,.3),easeOutElastic:t=>Wl(t)?t:Ry(t,.075,.3),easeInOutElastic(t){return Wl(t)?t:t<.5?.5*Ay(t*2,.1125,.45):.5+.5*Ry(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-fa.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?fa.easeInBounce(t*2)*.5:fa.easeOutBounce(t*2-1)*.5+.5};function zp(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Dy(t){return zp(t)?t:new Va(t)}function Wh(t){return zp(t)?t:new Va(t).saturate(.5).darken(.1).hexString()}const wP=["x","y","borderWidth","radius","tension"],xP=["color","borderColor","backgroundColor"];function EP(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:xP},numbers:{type:"number",properties:wP}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function SP(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const My=new Map;function TP(t,e){e=e||{};const n=t+JSON.stringify(e);let i=My.get(n);return i||(i=new Intl.NumberFormat(t,e),My.set(n,i)),i}function jp(t,e,n){return TP(e,n).format(t)}const o1={values(t){return Qe(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=bP(t,n)}const o=ji(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),jp(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(ji(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?o1.numeric.call(this,t,e,n):""}};function bP(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Hc={formatters:o1};function kP(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Hc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Kr=Object.create(null),od=Object.create(null);function da(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function Kh(t,e,n){return typeof e=="string"?za(da(t,e),n):za(da(t,""),e)}class PP{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Wh(r.backgroundColor),this.hoverBorderColor=(i,r)=>Wh(r.borderColor),this.hoverColor=(i,r)=>Wh(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Kh(this,e,n)}get(e){return da(this,e)}describe(e,n){return Kh(od,e,n)}override(e,n){return Kh(Kr,e,n)}route(e,n,i,r){const s=da(this,e),o=da(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return ve(l)?Object.assign({},c,l):de(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var et=new PP({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[EP,SP,kP]);function IP(t){return!t||Ne(t.size)||Ne(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function rc(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function CP(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,h,f,p;for(l=0;l<a;l++)if(f=n[l],f!=null&&!Qe(f))o=rc(t,r,s,o,f);else if(Qe(f))for(c=0,h=f.length;c<h;c++)p=f[c],p!=null&&!Qe(p)&&(o=rc(t,r,s,o,p));t.restore();const y=s.length/2;if(y>n.length){for(l=0;l<y;l++)delete r[s[l]];s.splice(0,y)}return o}function wr(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function Oy(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function ad(t,e,n,i){a1(t,e,n,i,null)}function a1(t,e,n,i,r){let s,o,a,l,c,h,f,p;const y=e.pointStyle,_=e.rotation,w=e.radius;let b=(_||0)*oP;if(y&&typeof y=="object"&&(s=y.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(b),t.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),y){default:r?t.ellipse(n,i,r/2,w,0,0,un):t.arc(n,i,w,0,un),t.closePath();break;case"triangle":h=r?r/2:w,t.moveTo(n+Math.sin(b)*h,i-Math.cos(b)*w),b+=ky,t.lineTo(n+Math.sin(b)*h,i-Math.cos(b)*w),b+=ky,t.lineTo(n+Math.sin(b)*h,i-Math.cos(b)*w),t.closePath();break;case"rectRounded":c=w*.516,l=w-c,o=Math.cos(b+_r)*l,f=Math.cos(b+_r)*(r?r/2-c:l),a=Math.sin(b+_r)*l,p=Math.sin(b+_r)*(r?r/2-c:l),t.arc(n-f,i-a,c,b-at,b-an),t.arc(n+p,i-o,c,b-an,b),t.arc(n+f,i+a,c,b,b+an),t.arc(n-p,i+o,c,b+an,b+at),t.closePath();break;case"rect":if(!_){l=Math.SQRT1_2*w,h=r?r/2:l,t.rect(n-h,i-l,2*h,2*l);break}b+=_r;case"rectRot":f=Math.cos(b)*(r?r/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(r?r/2:w),t.moveTo(n-f,i-a),t.lineTo(n+p,i-o),t.lineTo(n+f,i+a),t.lineTo(n-p,i+o),t.closePath();break;case"crossRot":b+=_r;case"cross":f=Math.cos(b)*(r?r/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(r?r/2:w),t.moveTo(n-f,i-a),t.lineTo(n+f,i+a),t.moveTo(n+p,i-o),t.lineTo(n-p,i+o);break;case"star":f=Math.cos(b)*(r?r/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(r?r/2:w),t.moveTo(n-f,i-a),t.lineTo(n+f,i+a),t.moveTo(n+p,i-o),t.lineTo(n-p,i+o),b+=_r,f=Math.cos(b)*(r?r/2:w),o=Math.cos(b)*w,a=Math.sin(b)*w,p=Math.sin(b)*(r?r/2:w),t.moveTo(n-f,i-a),t.lineTo(n+f,i+a),t.moveTo(n+p,i-o),t.lineTo(n-p,i+o);break;case"line":o=r?r/2:Math.cos(b)*w,a=Math.sin(b)*w,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(b)*(r?r/2:w),i+Math.sin(b)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ci(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function $c(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Wc(t){t.restore()}function AP(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function RP(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function DP(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ne(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function MP(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,h=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,h),t.lineTo(a,h),t.stroke()}}function OP(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Qr(t,e,n,i,r,s={}){const o=Qe(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,DP(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&OP(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Ne(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),MP(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function sc(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*at,at,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,at,an,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,an,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-an,!0),t.lineTo(n+o.topLeft,i)}const LP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,NP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function FP(t,e){const n=(""+t).match(LP);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const VP=t=>+t||0;function l1(t,e){const n={},i=ve(e),r=i?Object.keys(e):e,s=ve(t)?i?o=>de(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=VP(s(o));return n}function zP(t){return l1(t,{top:"y",right:"x",bottom:"y",left:"x"})}function zs(t){return l1(t,["topLeft","topRight","bottomLeft","bottomRight"])}function jt(t){const e=zP(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ht(t,e){t=t||{},e=e||et.font;let n=de(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=de(t.style,e.style);i&&!(""+i).match(NP)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:de(t.family,e.family),lineHeight:FP(de(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:de(t.weight,e.weight),string:""};return r.string=IP(r),r}function Kl(t,e,n,i){let r,s,o;for(r=0,s=t.length;r<s;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function jP(t,e,n){const{min:i,max:r}=t,s=Zk(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function fr(t,e){return Object.assign(Object.create(t),e)}function Bp(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=f1("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>Bp([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return c1(a,l,()=>GP(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Ny(a).includes(l)},ownKeys(a){return Ny(a)},set(a,l,c){const h=a._storage||(a._storage=r());return a[l]=h[l]=c,delete a._keys,!0}})}function Js(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:u1(t,i),setContext:s=>Js(t,s,n,i),override:s=>Js(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return c1(s,o,()=>UP(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function u1(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:ir(n)?n:()=>n,isIndexable:ir(i)?i:()=>i}}const BP=(t,e)=>t?t+Lp(e):e,Up=(t,e)=>ve(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function c1(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function UP(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return ir(a)&&o.isScriptable(e)&&(a=HP(e,a,t,n)),Qe(a)&&a.length&&(a=$P(e,a,t,o.isIndexable)),Up(e,a)&&(a=Js(a,r,s&&s[e],o)),a}function HP(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);return a.delete(t),Up(t,l)&&(l=Hp(r._scopes,r,t,l)),l}function $P(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(ve(e[0])){const l=e,c=r._scopes.filter(h=>h!==l);e=[];for(const h of l){const f=Hp(c,r,t,h);e.push(Js(f,s,o&&o[t],a))}}return e}function h1(t,e,n){return ir(t)?t(e,n):t}const WP=(t,e)=>t===!0?e:typeof t=="string"?tc(e,t):void 0;function KP(t,e,n,i,r){for(const s of e){const o=WP(n,s);if(o){t.add(o);const a=h1(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Hp(t,e,n,i){const r=e._rootScopes,s=h1(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=Ly(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=Ly(a,o,s,l,i),l===null)?!1:Bp(Array.from(a),[""],r,s,()=>QP(e,n,i))}function Ly(t,e,n,i,r){for(;n;)n=KP(t,e,n,i,r);return n}function QP(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Qe(r)&&ve(n)?n:r||{}}function GP(t,e,n,i){let r;for(const s of e)if(r=f1(BP(s,t),n),typeof r<"u")return Up(t,r)?Hp(n,i,t,r):r}function f1(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Ny(t){let e=t._keys;return e||(e=t._keys=qP(t._scopes)),e}function qP(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const YP=Number.EPSILON||1e-14,Zs=(t,e)=>e<t.length&&!t[e].skip&&t[e],d1=t=>t==="x"?"y":"x";function XP(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=sd(s,r),l=sd(o,s);let c=a/(a+l),h=l/(a+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const f=i*c,p=i*h;return{previous:{x:s.x-f*(o.x-r.x),y:s.y-f*(o.y-r.y)},next:{x:s.x+p*(o.x-r.x),y:s.y+p*(o.y-r.y)}}}function JP(t,e,n){const i=t.length;let r,s,o,a,l,c=Zs(t,0);for(let h=0;h<i-1;++h)if(l=c,c=Zs(t,h+1),!(!l||!c)){if(ha(e[h],0,YP)){n[h]=n[h+1]=0;continue}r=n[h]/e[h],s=n[h+1]/e[h],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[h]=r*o*e[h],n[h+1]=s*o*e[h])}}function ZP(t,e,n="x"){const i=d1(n),r=t.length;let s,o,a,l=Zs(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Zs(t,c+1),!a)continue;const h=a[n],f=a[i];o&&(s=(h-o[n])/3,a[`cp1${n}`]=h-s,a[`cp1${i}`]=f-s*e[c]),l&&(s=(l[n]-h)/3,a[`cp2${n}`]=h+s,a[`cp2${i}`]=f+s*e[c])}}function eI(t,e="x"){const n=d1(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=Zs(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Zs(t,o+1),!!l){if(c){const h=c[e]-l[e];r[o]=h!==0?(c[n]-l[n])/h:0}s[o]=a?c?Xs(r[o-1])!==Xs(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}JP(t,r,s),ZP(t,s,e)}function Ql(t,e,n){return Math.max(Math.min(t,n),e)}function tI(t,e){let n,i,r,s,o,a=ci(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&ci(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=Ql(r.cp1x,e.left,e.right),r.cp1y=Ql(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Ql(r.cp2x,e.left,e.right),r.cp2y=Ql(r.cp2y,e.top,e.bottom)))}function nI(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")eI(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=XP(c,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&tI(t,n)}function $p(){return typeof window<"u"&&typeof document<"u"}function Wp(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function oc(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Kc=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function iI(t,e){return Kc(t).getPropertyValue(e)}const rI=["top","right","bottom","left"];function Fr(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=rI[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const sI=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function oI(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(sI(r,s,t.target))a=r,l=s;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function br(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=Kc(n),s=r.boxSizing==="border-box",o=Fr(r,"padding"),a=Fr(r,"border","width"),{x:l,y:c,box:h}=oI(t,n),f=o.left+(h&&a.left),p=o.top+(h&&a.top);let{width:y,height:_}=e;return s&&(y-=o.width+a.width,_-=o.height+a.height),{x:Math.round((l-f)/y*n.width/i),y:Math.round((c-p)/_*n.height/i)}}function aI(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&Wp(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Kc(s),l=Fr(a,"border","width"),c=Fr(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=oc(a.maxWidth,s,"clientWidth"),r=oc(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||ic,maxHeight:r||ic}}const Gl=t=>Math.round(t*10)/10;function lI(t,e,n,i){const r=Kc(t),s=Fr(r,"margin"),o=oc(r.maxWidth,t,"clientWidth")||ic,a=oc(r.maxHeight,t,"clientHeight")||ic,l=aI(t,e,n);let{width:c,height:h}=l;if(r.boxSizing==="content-box"){const p=Fr(r,"border","width"),y=Fr(r,"padding");c-=y.width+p.width,h-=y.height+p.height}return c=Math.max(0,c-s.width),h=Math.max(0,i?c/i:h-s.height),c=Gl(Math.min(c,o,l.maxWidth)),h=Gl(Math.min(h,a,l.maxHeight)),c&&!h&&(h=Gl(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,c=Gl(Math.floor(h*i))),{width:c,height:h}}function Fy(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const uI=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};$p()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Vy(t,e){const n=iI(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function kr(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function cI(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function hI(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=kr(t,r,n),a=kr(r,s,n),l=kr(s,e,n),c=kr(o,a,n),h=kr(a,l,n);return kr(c,h,n)}const fI=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},dI=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function js(t,e,n){return t?fI(e,n):dI()}function p1(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function g1(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function m1(t){return t==="angle"?{between:n1,compare:cP,normalize:sn}:{between:Ds,compare:(e,n)=>e-n,normalize:e=>e}}function zy({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function pI(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=m1(i),l=e.length;let{start:c,end:h,loop:f}=t,p,y;if(f){for(c+=l,h+=l,p=0,y=l;p<y&&o(a(e[c%l][i]),r,s);++p)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:f,style:t.style}}function y1(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=m1(i),{start:h,end:f,loop:p,style:y}=pI(t,e,n),_=[];let w=!1,b=null,x,E,P;const R=()=>l(r,P,x)&&a(r,P)!==0,M=()=>a(s,x)===0||l(s,P,x),N=()=>w||R(),m=()=>!w||M();for(let v=h,T=h;v<=f;++v)E=e[v%o],!E.skip&&(x=c(E[i]),x!==P&&(w=l(x,r,s),b===null&&N()&&(b=a(x,r)===0?v:T),b!==null&&m()&&(_.push(zy({start:b,end:v,loop:p,count:o,style:y})),b=null),T=v,P=x));return b!==null&&_.push(zy({start:b,end:f,loop:p,count:o,style:y})),_}function v1(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=y1(i[r],t.points,e);s.length&&n.push(...s)}return n}function gI(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function mI(t,e,n,i){const r=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function yI(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=gI(n,r,s,i);if(i===!0)return jy(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+r:a,c=!!t._fullLoop&&o===0&&a===r-1;return jy(t,mI(n,o,l,c),n,e)}function jy(t,e,n,i){return!i||!i.setContext||!n?e:vI(t,e,n,i)}function vI(t,e,n,i){const r=t._chart.getContext(),s=By(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let h=s,f=e[0].start,p=f;function y(_,w,b,x){const E=a?-1:1;if(_!==w){for(_+=l;n[_%l].skip;)_-=E;for(;n[w%l].skip;)w+=E;_%l!==w%l&&(c.push({start:_%l,end:w%l,loop:b,style:x}),h=x,f=w%l)}}for(const _ of e){f=a?f:_.start;let w=n[f%l],b;for(p=f+1;p<=_.end;p++){const x=n[p%l];b=By(i.setContext(fr(r,{type:"segment",p0:w,p1:x,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:o}))),_I(b,h)&&y(f,p-1,_.loop,h),w=x,h=b}f<p-1&&y(f,p-1,_.loop,h)}return c}function By(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function _I(t,e){if(!e)return!1;const n=[],i=function(r,s){return zp(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class wI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=r1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ii=new wI;const Uy="transparent",xI={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=Dy(t||Uy),r=i.valid&&Dy(e||Uy);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class EI{constructor(e,n,i,r){const s=n[i];r=Kl([e.to,r,s,e.from]);const o=Kl([e.from,s,r]);this._active=!0,this._fn=e.fn||xI[e.type||typeof o],this._easing=fa[e.easing]||fa.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Kl([e.to,n,r,e.from]),this._from=Kl([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class _1{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ve(e))return;const n=Object.keys(et.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!ve(s))return;const o={};for(const a of n)o[a]=s[a];(Qe(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,r=TI(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&SI(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const h=n[c];let f=s[c];const p=i.get(c);if(f)if(p&&f.active()){f.update(p,h,a);continue}else f.cancel();if(!p||!p.duration){e[c]=h;continue}s[c]=f=new EI(p,e,c,h),r.push(f)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return ii.add(this._chart,i),!0}}function SI(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function TI(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Hy(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function bI(t,e,n){if(n===!1)return!1;const i=Hy(t,n),r=Hy(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function kI(t){let e,n,i,r;return ve(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function w1(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function $y(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=t.values[l],Ze(c)&&(s||e===0||Xs(e)===Xs(c))&&(e+=c)}return e}}function PI(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,h;for(l=0,c=o.length;l<c;++l)h=o[l],a[l]={[r]:h,[s]:t[h]};return a}function Wy(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function II(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function CI(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function AI(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Ky(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function Qy(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,h=II(s,o,i),f=e.length;let p;for(let y=0;y<f;++y){const _=e[y],{[l]:w,[c]:b}=_,x=_._stacks||(_._stacks={});p=x[c]=AI(r,h,w),p[a]=b,p._top=Ky(p,o,!0,i.type),p._bottom=Ky(p,o,!1,i.type);const E=p._visualValues||(p._visualValues={});E[a]=b}}function Qh(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function RI(t,e){return fr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function DI(t,e,n){return fr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function zo(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const Gh=t=>t==="reset"||t==="none",Gy=(t,e)=>e?t:Object.assign({},t),MI=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:w1(n,!0),values:null};class pa{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Wy(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&zo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(f,p,y,_)=>f==="x"?p:f==="r"?_:y,s=n.xAxisID=de(i.xAxisID,Qh(e,"x")),o=n.yAxisID=de(i.yAxisID,Qh(e,"y")),a=n.rAxisID=de(i.rAxisID,Qh(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,o,a),h=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Cy(this._data,this),e._stacked&&zo(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(ve(n)){const r=this._cachedMeta;this._data=PI(n,r)}else if(i!==n){if(i){Cy(i,this);const r=this._cachedMeta;zo(r),r._parsed=[]}n&&Object.isExtensible(n)&&pP(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=Wy(n.vScale,n),n.stack!==i.stack&&(r=!0,zo(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&Qy(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],h,f,p;if(this._parsing===!1)i._parsed=r,i._sorted=!0,p=r;else{Qe(r[e])?p=this.parseArrayData(i,r,e,n):ve(r[e])?p=this.parseObjectData(i,r,e,n):p=this.parsePrimitiveData(i,r,e,n);const y=()=>f[a]===null||c&&f[a]<c[a];for(h=0;h<n;++h)i._parsed[h+e]=f=p[h],l&&(y()&&(l=!1),c=f);i._sorted=l}o&&Qy(this,p)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),h=s===o,f=new Array(r);let p,y,_;for(p=0,y=r;p<y;++p)_=p+i,f[p]={[a]:h||s.parse(c[_],_),[l]:o.parse(n[_],_)};return f}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,c,h,f;for(l=0,c=r;l<c;++l)h=l+i,f=n[h],a[l]={x:s.parse(f[0],h),y:o.parse(f[1],h)};return a}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let h,f,p,y;for(h=0,f=r;h<f;++h)p=h+i,y=n[p],c[h]={x:s.parse(tc(y,a),p),y:o.parse(tc(y,l),p)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:w1(r,!0),values:n._stacks[e.axis]._visualValues};return $y(a,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=$y(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=MI(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=CI(a);let p,y;function _(){y=r[p];const w=y[a.axis];return!Ze(y[e.axis])||h>w||f<w}for(p=0;p<o&&!(!_()&&(this.updateRangeFromParsed(c,e,y,l),s));++p);if(s){for(p=o-1;p>=0;--p)if(!_()){this.updateRangeFromParsed(c,e,y,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],Ze(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=kI(de(this.options.clip,bI(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,s,a,l),h=a;h<a+l;++h){const f=r[h];f.hidden||(f.active&&c?o.push(f):f.draw(e,s))}for(h=0;h<o.length;++h)o[h].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=DI(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=RI(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&nc(i);if(a)return Gy(a,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,e),f=r?[`${e}Hover`,"hover",e,""]:[e,""],p=c.getOptionScopes(this.getDataset(),h),y=Object.keys(et.elements[e]),_=()=>this.getContext(i,r,n),w=c.resolveNamedOptions(p,y,_,f);return w.$shared&&(w.$shared=l,s[o]=Object.freeze(Gy(w,l))),w}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,n),p=h.getOptionScopes(this.getDataset(),f);l=h.createResolver(p,this.getContext(e,i,n))}const c=new _1(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Gh(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){Gh(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Gh(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&zo(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}se(pa,"defaults",{}),se(pa,"datasetElementType",null),se(pa,"dataElementType",null);class wu extends pa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=vP(n,r,o);this._drawStart=a,this._drawCount=l,_P(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,r),p=o.axis,y=a.axis,{spanGaps:_,segment:w}=this.options,b=ja(_)?_:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||r==="none",E=n+i,P=e.length;let R=n>0&&this.getParsed(n-1);for(let M=0;M<P;++M){const N=e[M],m=x?N:{};if(M<n||M>=E){m.skip=!0;continue}const v=this.getParsed(M),T=Ne(v[y]),k=m[p]=o.getPixelForValue(v[p],M),C=m[y]=s||T?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,v,l):v[y],M);m.skip=isNaN(k)||isNaN(C)||T,m.stop=M>0&&Math.abs(v[p]-R[p])>b,w&&(m.parsed=v,m.raw=c.data[M]),f&&(m.options=h||this.resolveDataElementOptions(M,N.active?"active":r)),x||this.updateElement(N,M,m,r),R=v}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}se(wu,"id","line"),se(wu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),se(wu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function xr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Kp{constructor(e){se(this,"options");this.options=e||{}}static override(e){Object.assign(Kp.prototype,e)}init(){}formats(){return xr()}parse(){return xr()}format(){return xr()}add(){return xr()}diff(){return xr()}startOf(){return xr()}endOf(){return xr()}}var OI={_date:Kp};function LI(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?fP:Mr;if(i){if(r._sharedOptions){const c=s[0],h=typeof c.getRange=="function"&&c.getRange(e);if(h){const f=l(s,e,n-h),p=l(s,e,n+h);return{lo:f.lo,hi:p.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function sl(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:h}=s[a],{lo:f,hi:p}=LI(s[a],e,o,r);for(let y=f;y<=p;++y){const _=h[y];_.skip||i(_,c,y)}}}function NI(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function qh(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||sl(t,n,e,function(a,l,c){!r&&!ci(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function FI(t,e,n,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:f}=uP(o,{x:e.x,y:e.y});n1(f,c,h)&&r.push({element:o,datasetIndex:a,index:l})}return sl(t,n,e,s),r}function VI(t,e,n,i,r,s){let o=[];const a=NI(n);let l=Number.POSITIVE_INFINITY;function c(h,f,p){const y=h.inRange(e.x,e.y,r);if(i&&!y)return;const _=h.getCenterPoint(r);if(!(!!s||t.isPointInArea(_))&&!y)return;const b=a(e,_);b<l?(o=[{element:h,datasetIndex:f,index:p}],l=b):b===l&&o.push({element:h,datasetIndex:f,index:p})}return sl(t,n,e,c),o}function Yh(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?FI(t,e,n,r):VI(t,e,n,i,r,s)}function qy(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return sl(t,n,e,(l,c,h)=>{l[o](e[n],r)&&(s.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var zI={evaluateInteractionItems:sl,modes:{index(t,e,n,i){const r=br(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?qh(t,r,s,i,o):Yh(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const h=a[0].index,f=c.data[h];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:h})}),l):[]},dataset(t,e,n,i){const r=br(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?qh(t,r,s,i,o):Yh(t,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(t,e,n,i){const r=br(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return qh(t,r,s,i,o)},nearest(t,e,n,i){const r=br(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Yh(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=br(e,t);return qy(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=br(e,t);return qy(t,r,"y",n.intersect,i)}}};const x1=["left","top","right","bottom"];function jo(t,e){return t.filter(n=>n.pos===e)}function Yy(t,e){return t.filter(n=>x1.indexOf(n.pos)===-1&&n.box.axis===e)}function Bo(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function jI(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function BI(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!x1.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function UI(t,e){const n=BI(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=h?h*r:l&&e.availableHeight)}return n}function HI(t){const e=jI(t),n=Bo(e.filter(c=>c.box.fullSize),!0),i=Bo(jo(e,"left"),!0),r=Bo(jo(e,"right")),s=Bo(jo(e,"top"),!0),o=Bo(jo(e,"bottom")),a=Yy(e,"x"),l=Yy(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:jo(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function Xy(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function E1(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function $I(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!ve(r)){n.size&&(t[r]-=n.size);const f=i[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?s.height:s.width),n.size=f.size/f.count,t[r]+=n.size}s.getPadding&&E1(o,s.getPadding());const a=Math.max(0,e.outerWidth-Xy(o,t,"left","right")),l=Math.max(0,e.outerHeight-Xy(o,t,"top","bottom")),c=a!==t.w,h=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:h}:{same:h,other:c}}function WI(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function KI(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function Xo(t,e,n,i){const r=[];let s,o,a,l,c,h;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,KI(a.horizontal,e));const{same:f,other:p}=$I(e,n,a,i);c|=f&&r.length,h=h||p,l.fullSize||r.push(a)}return c&&Xo(r,e,n,i)||h}function ql(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function Jy(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){const f=e.w*h,p=c.size||l.height;nc(c.start)&&(o=c.start),l.fullSize?ql(l,r.left,o,n.outerWidth-r.right-r.left,p):ql(l,e.left+c.placed,o,f,p),c.start=o,c.placed+=f,o=l.bottom}else{const f=e.h*h,p=c.size||l.width;nc(c.start)&&(s=c.start),l.fullSize?ql(l,s,r.top,p,n.outerHeight-r.bottom-r.top):ql(l,s,e.top+c.placed,p,f),c.start=s,c.placed+=f,s=l.right}}e.x=s,e.y=o}var xn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=jt(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=HI(t.boxes),l=a.vertical,c=a.horizontal;Ee(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const h=l.reduce((w,b)=>b.box.options&&b.box.options.display===!1?w:w+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),p=Object.assign({},r);E1(p,jt(i));const y=Object.assign({maxPadding:p,w:s,h:o,x:r.left,y:r.top},r),_=UI(l.concat(c),f);Xo(a.fullSize,y,f,_),Xo(l,y,f,_),Xo(c,y,f,_)&&Xo(l,y,f,_),WI(y),Jy(a.leftAndTop,y,f,_),y.x+=y.w,y.y+=y.h,Jy(a.rightAndBottom,y,f,_),t.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},Ee(a.chartArea,w=>{const b=w.box;Object.assign(b,t.chartArea),b.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class S1{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class QI extends S1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const xu="$chartjs",GI={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Zy=t=>t===null||t==="";function qI(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[xu]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Zy(r)){const s=Vy(t,"width");s!==void 0&&(t.width=s)}if(Zy(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=Vy(t,"height");s!==void 0&&(t.height=s)}return t}const T1=uI?{passive:!0}:!1;function YI(t,e,n){t&&t.addEventListener(e,n,T1)}function XI(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,T1)}function JI(t,e){const n=GI[t.type]||t.type,{x:i,y:r}=br(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function ac(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function ZI(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||ac(a.addedNodes,i),o=o&&!ac(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function eC(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||ac(a.removedNodes,i),o=o&&!ac(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ba=new Map;let ev=0;function b1(){const t=window.devicePixelRatio;t!==ev&&(ev=t,Ba.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function tC(t,e){Ba.size||window.addEventListener("resize",b1),Ba.set(t,e)}function nC(t){Ba.delete(t),Ba.size||window.removeEventListener("resize",b1)}function iC(t,e,n){const i=t.canvas,r=i&&Wp(i);if(!r)return;const s=s1((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||s(c,h)});return o.observe(r),tC(t,s),o}function Xh(t,e,n){n&&n.disconnect(),e==="resize"&&nC(t)}function rC(t,e,n){const i=t.canvas,r=s1(s=>{t.ctx!==null&&n(JI(s,t))},t);return YI(i,e,r),r}class sC extends S1{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(qI(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[xu])return!1;const i=n[xu].initial;["height","width"].forEach(s=>{const o=i[s];Ne(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[xu],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:ZI,detach:eC,resize:iC}[n]||rC;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:Xh,detach:Xh,resize:Xh}[n]||XI)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return lI(e,n,i,r)}isAttached(e){const n=e&&Wp(e);return!!(n&&n.isConnected)}}function oC(t){return!$p()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?QI:sC}class _i{constructor(){se(this,"x");se(this,"y");se(this,"active",!1);se(this,"options");se(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return ja(this.x)&&ja(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}se(_i,"defaults",{}),se(_i,"defaultRoutes");function aC(t,e){const n=t.options.ticks,i=lC(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?cC(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return hC(e,c,s,o/r),c;const h=uC(s,e,r);if(o>0){let f,p;const y=o>1?Math.round((l-a)/(o-1)):null;for(Yl(e,c,h,Ne(y)?0:a-y,a),f=0,p=o-1;f<p;f++)Yl(e,c,h,s[f],s[f+1]);return Yl(e,c,h,l,Ne(y)?e.length:l+y),c}return Yl(e,c,h),c}function lC(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function uC(t,e,n){const i=fC(t),r=e.length/n;if(!i)return Math.max(r,1);const s=aP(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function cC(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function hC(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function Yl(t,e,n,i,r){const s=de(i,0),o=Math.min(de(r,t.length),t.length);let a=0,l,c,h;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),h=s;h<0;)a++,h=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===h&&(e.push(t[c]),a++,h=Math.round(s+a*n))}function fC(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const dC=t=>t==="left"?"right":t==="right"?"left":t,tv=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,nv=(t,e)=>Math.min(e||t,t);function iv(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function pC(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function gC(t,e){Ee(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function Uo(t){return t.drawTicks?t.tickLength:0}function rv(t,e){if(!t.display)return 0;const n=ht(t.font,e),i=jt(t.padding);return(Qe(t.text)?t.text.length:1)*n.lineHeight+i.height}function mC(t,e){return fr(t,{scale:e,type:"scale"})}function yC(t,e,n){return fr(t,{tick:n,index:e,type:"tick"})}function vC(t,e,n){let i=Vp(t);return(n&&e!=="right"||!n&&e==="right")&&(i=dC(i)),i}function _C(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:h}=l;let f=0,p,y,_;const w=o-r,b=a-s;if(t.isHorizontal()){if(y=Ot(i,s,a),ve(n)){const x=Object.keys(n)[0],E=n[x];_=h[x].getPixelForValue(E)+w-e}else n==="center"?_=(c.bottom+c.top)/2+w-e:_=tv(t,n,e);p=a-s}else{if(ve(n)){const x=Object.keys(n)[0],E=n[x];y=h[x].getPixelForValue(E)-b+e}else n==="center"?y=(c.left+c.right)/2-b+e:y=tv(t,n,e);_=Ot(i,o,r),f=n==="left"?-an:an}return{titleX:y,titleY:_,maxWidth:p,rotation:f}}class ts extends _i{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=nn(e,Number.POSITIVE_INFINITY),n=nn(n,Number.NEGATIVE_INFINITY),i=nn(i,Number.POSITIVE_INFINITY),r=nn(r,Number.NEGATIVE_INFINITY),{min:nn(e,i),max:nn(n,r),minDefined:Ze(e),maxDefined:Ze(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:nn(n,nn(i,n)),max:nn(i,nn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ie(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=jP(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?iv(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=aC(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ie(this.options.afterUpdate,[this])}beforeSetDimensions(){Ie(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ie(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ie(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ie(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Ie(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Ie(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ie(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=nv(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),f=h.widest.width,p=h.highest.height,y=wn(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/i:y/(i-1),f+6>a&&(a=y/(i-(e.offset?.5:1)),l=this.maxHeight-Uo(e.grid)-n.padding-rv(e.title,this.chart.options.font),c=Math.sqrt(f*f+p*p),o=Np(Math.min(Math.asin(wn((h.highest.height+6)/a,-1,1)),Math.asin(wn(l/c,-1,1))-Math.asin(wn(p/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ie(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ie(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=rv(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=Uo(s)+l):(e.height=this.maxHeight,e.width=Uo(s)+l),i.display&&this.ticks.length){const{first:c,last:h,widest:f,highest:p}=this._getLabelSizes(),y=i.padding*2,_=Bi(this.labelRotation),w=Math.cos(_),b=Math.sin(_);if(a){const x=i.mirror?0:b*f.width+w*p.height;e.height=Math.min(this.maxHeight,e.height+x+y)}else{const x=i.mirror?0:w*f.width+b*p.height;e.width=Math.min(this.maxWidth,e.width+x+y)}this._calculatePadding(c,h,b,w)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,y=0;l?c?(p=r*e.width,y=i*n.height):(p=i*e.height,y=r*n.width):s==="start"?y=n.width:s==="end"?p=e.width:s!=="inner"&&(p=e.width/2,y=n.width/2),this.paddingLeft=Math.max((p-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((y-f+o)*this.width/(this.width-f),0)}else{let h=n.height/2,f=e.height/2;s==="start"?(h=0,f=e.height):s==="end"&&(h=n.height,f=0),this.paddingTop=h+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ie(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Ne(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=iv(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/nv(n,i));let c=0,h=0,f,p,y,_,w,b,x,E,P,R,M;for(f=0;f<n;f+=l){if(_=e[f].label,w=this._resolveTickFontOptions(f),r.font=b=w.string,x=s[b]=s[b]||{data:{},gc:[]},E=w.lineHeight,P=R=0,!Ne(_)&&!Qe(_))P=rc(r,x.data,x.gc,P,_),R=E;else if(Qe(_))for(p=0,y=_.length;p<y;++p)M=_[p],!Ne(M)&&!Qe(M)&&(P=rc(r,x.data,x.gc,P,M),R+=E);o.push(P),a.push(R),c=Math.max(P,c),h=Math.max(R,h)}gC(s,n);const N=o.indexOf(c),m=a.indexOf(h),v=T=>({width:o[T]||0,height:a[T]||0});return{first:v(0),last:v(n-1),widest:v(N),highest:v(m),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return hP(this._alignToPixels?wr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=yC(this.getContext(),e,i))}return this.$context||(this.$context=mC(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Bi(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),p=Uo(s),y=[],_=a.setContext(this.getContext()),w=_.display?_.width:0,b=w/2,x=function(Te){return wr(i,Te,w)};let E,P,R,M,N,m,v,T,k,C,A,I;if(o==="top")E=x(this.bottom),m=this.bottom-p,T=E-b,C=x(e.top)+b,I=e.bottom;else if(o==="bottom")E=x(this.top),C=e.top,I=x(e.bottom)-b,m=E+b,T=this.top+p;else if(o==="left")E=x(this.right),N=this.right-p,v=E-b,k=x(e.left)+b,A=e.right;else if(o==="right")E=x(this.left),k=e.left,A=x(e.right)-b,N=E+b,v=this.left+p;else if(n==="x"){if(o==="center")E=x((e.top+e.bottom)/2+.5);else if(ve(o)){const Te=Object.keys(o)[0],be=o[Te];E=x(this.chart.scales[Te].getPixelForValue(be))}C=e.top,I=e.bottom,m=E+b,T=m+p}else if(n==="y"){if(o==="center")E=x((e.left+e.right)/2);else if(ve(o)){const Te=Object.keys(o)[0],be=o[Te];E=x(this.chart.scales[Te].getPixelForValue(be))}N=E-b,v=N-p,k=e.left,A=e.right}const ue=de(r.ticks.maxTicksLimit,f),le=Math.max(1,Math.ceil(f/ue));for(P=0;P<f;P+=le){const Te=this.getContext(P),be=s.setContext(Te),j=a.setContext(Te),X=be.lineWidth,ee=be.color,pe=j.dash||[],oe=j.dashOffset,me=be.tickWidth,Ue=be.tickColor,Re=be.tickBorderDash||[],De=be.tickBorderDashOffset;R=pC(this,P,l),R!==void 0&&(M=wr(i,R,X),c?N=v=k=A=M:m=T=C=I=M,y.push({tx1:N,ty1:m,tx2:v,ty2:T,x1:k,y1:C,x2:A,y2:I,width:X,color:ee,borderDash:pe,borderDashOffset:oe,tickWidth:me,tickColor:Ue,tickBorderDash:Re,tickBorderDashOffset:De}))}return this._ticksLength=f,this._borderValue=E,y}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:f}=s,p=Uo(i.grid),y=p+h,_=f?-h:y,w=-Bi(this.labelRotation),b=[];let x,E,P,R,M,N,m,v,T,k,C,A,I="middle";if(r==="top")N=this.bottom-_,m=this._getXAxisLabelAlignment();else if(r==="bottom")N=this.top+_,m=this._getXAxisLabelAlignment();else if(r==="left"){const le=this._getYAxisLabelAlignment(p);m=le.textAlign,M=le.x}else if(r==="right"){const le=this._getYAxisLabelAlignment(p);m=le.textAlign,M=le.x}else if(n==="x"){if(r==="center")N=(e.top+e.bottom)/2+y;else if(ve(r)){const le=Object.keys(r)[0],Te=r[le];N=this.chart.scales[le].getPixelForValue(Te)+y}m=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")M=(e.left+e.right)/2-y;else if(ve(r)){const le=Object.keys(r)[0],Te=r[le];M=this.chart.scales[le].getPixelForValue(Te)}m=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(l==="start"?I="top":l==="end"&&(I="bottom"));const ue=this._getLabelSizes();for(x=0,E=a.length;x<E;++x){P=a[x],R=P.label;const le=s.setContext(this.getContext(x));v=this.getPixelForTick(x)+s.labelOffset,T=this._resolveTickFontOptions(x),k=T.lineHeight,C=Qe(R)?R.length:1;const Te=C/2,be=le.color,j=le.textStrokeColor,X=le.textStrokeWidth;let ee=m;o?(M=v,m==="inner"&&(x===E-1?ee=this.options.reverse?"left":"right":x===0?ee=this.options.reverse?"right":"left":ee="center"),r==="top"?c==="near"||w!==0?A=-C*k+k/2:c==="center"?A=-ue.highest.height/2-Te*k+k:A=-ue.highest.height+k/2:c==="near"||w!==0?A=k/2:c==="center"?A=ue.highest.height/2-Te*k:A=ue.highest.height-C*k,f&&(A*=-1),w!==0&&!le.showLabelBackdrop&&(M+=k/2*Math.sin(w))):(N=v,A=(1-C)*k/2);let pe;if(le.showLabelBackdrop){const oe=jt(le.backdropPadding),me=ue.heights[x],Ue=ue.widths[x];let Re=A-oe.top,De=0-oe.left;switch(I){case"middle":Re-=me/2;break;case"bottom":Re-=me;break}switch(m){case"center":De-=Ue/2;break;case"right":De-=Ue;break;case"inner":x===E-1?De-=Ue:x>0&&(De-=Ue/2);break}pe={left:De,top:Re,width:Ue+oe.width,height:me+oe.height,color:le.backdropColor}}b.push({label:R,font:T,textOffset:A,options:{rotation:w,color:be,strokeColor:j,strokeWidth:X,textAlign:ee,textBaseline:I,translation:[M,N],backdrop:pe}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Bi(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,h;return n==="left"?r?(h=this.right+s,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h=this.left)):n==="right"?r?(h=this.left+s,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,f,p;this.isHorizontal()?(c=wr(e,this.left,o)-o/2,h=wr(e,this.right,a)+a/2,f=p=l):(f=wr(e,this.top,o)-o/2,p=wr(e,this.bottom,a)+a/2,c=h=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,f),n.lineTo(h,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&$c(i,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,h=o.textOffset;Qr(i,c,0,h,l,a)}r&&Wc(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=ht(i.font),o=jt(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||ve(n)?(l+=o.bottom,Qe(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:h,maxWidth:f,rotation:p}=_C(this,l,n,a);Qr(e,i.text,0,0,s,{color:i.color,maxWidth:f,rotation:p,textAlign:vC(a,n,r),textBaseline:"middle",translation:[c,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=de(e.grid&&e.grid.z,-1),r=de(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ts.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ht(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Xl{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;EC(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,wC(e,o,i),this.override&&et.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in et[r]&&(delete et[r][i],this.override&&delete Kr[i])}}function wC(t,e,n){const i=za(Object.create(null),[n?et.get(n):{},et.get(e),t.defaults]);et.set(e,i),t.defaultRoutes&&xC(e,t.defaultRoutes),t.descriptors&&et.describe(e,t.descriptors)}function xC(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");et.route(s,r,l,a)})}function EC(t){return"id"in t&&"defaults"in t}class SC{constructor(){this.controllers=new Xl(pa,"datasets",!0),this.elements=new Xl(_i,"elements"),this.plugins=new Xl(Object,"plugins"),this.scales=new Xl(ts,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Ee(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const r=Lp(e);Ie(i["before"+r],[],i),n[e](i),Ie(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Hn=new SC;class TC{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[n,r,s.options];if(Ie(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Ne(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=de(i.options&&i.options.plugins,{}),s=bC(i);return r===!1&&!n?[]:PC(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function bC(t){const e={},n=[],i=Object.keys(Hn.plugins.items);for(let s=0;s<i.length;s++)n.push(Hn.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function kC(t,e){return!e&&t===!1?null:t===!0?{}:t}function PC(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=kC(i[l],r);c!==null&&s.push({plugin:a,options:IC(t.config,{plugin:a,local:n[l]},c,o)})}return s}function IC(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ld(t,e){const n=et.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function CC(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function AC(t,e){return t===e?"_index_":"_value_"}function sv(t){if(t==="x"||t==="y"||t==="r")return t}function RC(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ud(t,...e){if(sv(t))return t;for(const n of e){const i=n.axis||RC(n.position)||t.length>1&&sv(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function ov(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function DC(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return ov(t,"x",n[0])||ov(t,"y",n[0])}return{}}function MC(t,e){const n=Kr[t.type]||{scales:{}},i=e.scales||{},r=ld(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!ve(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=ud(o,a,DC(o,t),et.scales[a.type]),c=AC(l,r),h=n.scales||{};s[o]=ca(Object.create(null),[{axis:l},a,h[l],h[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||ld(a,e),h=(Kr[a]||{}).scales||{};Object.keys(h).forEach(f=>{const p=CC(f,l),y=o[p+"AxisID"]||p;s[y]=s[y]||Object.create(null),ca(s[y],[{axis:p},i[y],h[f]])})}),Object.keys(s).forEach(o=>{const a=s[o];ca(a,[et.scales[a.type],et.scale])}),s}function k1(t){const e=t.options||(t.options={});e.plugins=de(e.plugins,{}),e.scales=MC(t,e)}function P1(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function OC(t){return t=t||{},t.data=P1(t.data),k1(t),t}const av=new Map,I1=new Set;function Jl(t,e){let n=av.get(t);return n||(n=e(),av.set(t,n),I1.add(n)),n}const Ho=(t,e,n)=>{const i=tc(e,n);i!==void 0&&t.add(i)};class LC{constructor(e){this._config=OC(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=P1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),k1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Jl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Jl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Jl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Jl(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(h=>{e&&(l.add(e),h.forEach(f=>Ho(l,e,f))),h.forEach(f=>Ho(l,r,f)),h.forEach(f=>Ho(l,Kr[s]||{},f)),h.forEach(f=>Ho(l,et,f)),h.forEach(f=>Ho(l,od,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),I1.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Kr[n]||{},et.datasets[n]||{},{type:n},et,od]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=lv(this._resolverCache,e,r);let l=o;if(FC(o,n)){s.$shared=!1,i=ir(i)?i():i;const c=this.createResolver(e,i,a);l=Js(o,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=lv(this._resolverCache,e,i);return ve(n)?Js(s,n,void 0,r):s}}function lv(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:Bp(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const NC=t=>ve(t)&&Object.getOwnPropertyNames(t).some(e=>ir(t[e]));function FC(t,e){const{isScriptable:n,isIndexable:i}=u1(t);for(const r of e){const s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(ir(a)||NC(a))||o&&Qe(a))return!0}return!1}var VC="4.4.3";const zC=["top","bottom","left","right","chartArea"];function uv(t,e){return t==="top"||t==="bottom"||zC.indexOf(t)===-1&&e==="x"}function cv(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function hv(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ie(n&&n.onComplete,[t],e)}function jC(t){const e=t.chart,n=e.options.animation;Ie(n&&n.onProgress,[t],e)}function C1(t){return $p()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Eu={},fv=t=>{const e=C1(t);return Object.values(Eu).filter(n=>n.canvas===e).pop()};function BC(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function UC(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function Zl(t,e,n){return t.options.clip?t[n]:e[n]}function HC(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Zl(n,e,"left"),right:Zl(n,e,"right"),top:Zl(i,e,"top"),bottom:Zl(i,e,"bottom")}:e}var Ri;let Qc=(Ri=class{static register(...e){Hn.add(...e),dv()}static unregister(...e){Hn.remove(...e),dv()}constructor(e,n){const i=this.config=new LC(n),r=C1(e),s=fv(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||oC(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,h=l&&l.width;if(this.id=Jk(),this.ctx=a,this.canvas=l,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new TC,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mP(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Eu[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ii.listen(this,"complete",hv),ii.listen(this,"progress",jC),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return Ne(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Hn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Fy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Oy(this.canvas,this.ctx),this}stop(){return ii.stop(this),this}resize(e,n){ii.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Fy(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ie(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ee(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=ud(o,a),c=l==="r",h=l==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),Ee(s,o=>{const a=o.options,l=a.id,c=ud(l,a),h=de(a.type,o.dtype);(a.position===void 0||uv(a.position,c)!==uv(o.dposition))&&(a.position=o.dposition),r[l]=!0;let f=null;if(l in i&&i[l].type===h)f=i[l];else{const p=Hn.getScale(h);f=new p({id:l,type:h,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(a,e)}),Ee(r,(o,a)=>{o||delete i[a]}),Ee(i,o=>{xn.configure(this,o,o.options),xn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(cv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||ld(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Hn.getController(a),{datasetElementType:c,dataElementType:h}=et.datasets[a];Object.assign(l,{dataElementType:Hn.getElement(h),datasetElementType:c&&Hn.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ee(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:f}=this.getDatasetMeta(c),p=!r&&s.indexOf(f)===-1;f.buildOrUpdateElements(p),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||Ee(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(cv("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ee(this.scales,e=>{xn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!by(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;BC(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!by(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xn.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Ee(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,ir(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ii.has(this)?this.attached&&!ii.running(this)&&ii.start(this):(this.draw(),hv({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,r=!i.disabled,s=HC(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&$c(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&Wc(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return ci(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=zI.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=fr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);nc(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ii.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Oy(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Eu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Ee(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Ee(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ee(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Zu(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(h=>!c.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),o=s(n,e),a=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(e,r,i,o),l=rP(e),c=UC(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Ie(s.onHover,[e,a,this],this),l&&Ie(s.onClick,[e,a,this],this));const h=!Zu(a,r);return(h||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,h}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},se(Ri,"defaults",et),se(Ri,"instances",Eu),se(Ri,"overrides",Kr),se(Ri,"registry",Hn),se(Ri,"version",VC),se(Ri,"getChart",fv),Ri);function dv(){return Ee(Qc.instances,t=>t._plugins.invalidate())}function A1(t,e,n=e){t.lineCap=de(n.borderCapStyle,e.borderCapStyle),t.setLineDash(de(n.borderDash,e.borderDash)),t.lineDashOffset=de(n.borderDashOffset,e.borderDashOffset),t.lineJoin=de(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=de(n.borderWidth,e.borderWidth),t.strokeStyle=de(n.borderColor,e.borderColor)}function $C(t,e,n){t.lineTo(n.x,n.y)}function WC(t){return t.stepped?AP:t.tension||t.cubicInterpolationMode==="monotone"?RP:$C}function R1(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),h=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!h?i+c-l:c-l}}function KC(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=R1(r,n,i),h=WC(s);let{move:f=!0,reverse:p}=i||{},y,_,w;for(y=0;y<=c;++y)_=r[(a+(p?c-y:y))%o],!_.skip&&(f?(t.moveTo(_.x,_.y),f=!1):h(t,w,_,p,s.stepped),w=_);return l&&(_=r[(a+(p?c:0))%o],h(t,w,_,p,s.stepped)),!!l}function QC(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=R1(r,n,i),{move:l=!0,reverse:c}=i||{};let h=0,f=0,p,y,_,w,b,x;const E=R=>(o+(c?a-R:R))%s,P=()=>{w!==b&&(t.lineTo(h,b),t.lineTo(h,w),t.lineTo(h,x))};for(l&&(y=r[E(0)],t.moveTo(y.x,y.y)),p=0;p<=a;++p){if(y=r[E(p)],y.skip)continue;const R=y.x,M=y.y,N=R|0;N===_?(M<w?w=M:M>b&&(b=M),h=(f*h+R)/++f):(P(),t.lineTo(R,M),_=N,f=0,w=b=M),x=M}P()}function cd(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?QC:KC}function GC(t){return t.stepped?cI:t.tension||t.cubicInterpolationMode==="monotone"?hI:kr}function qC(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),A1(t,e.options),t.stroke(r)}function YC(t,e,n,i){const{segments:r,options:s}=e,o=cd(e);for(const a of r)A1(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const XC=typeof Path2D=="function";function JC(t,e,n,i){XC&&!e.options.segment?qC(t,e,n,i):YC(t,e,n,i)}class Ui extends _i{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;nI(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=yI(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=v1(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=GC(i);let c,h;for(c=0,h=o.length;c<h;++c){const{start:f,end:p}=o[c],y=s[f],_=s[p];if(y===_){a.push(y);continue}const w=Math.abs((r-y[n])/(_[n]-y[n])),b=l(y,_,w,i.stepped);b[n]=e[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,n,i){return cd(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=cd(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),JC(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}se(Ui,"id","line"),se(Ui,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),se(Ui,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),se(Ui,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function pv(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class Su extends _i{constructor(n){super();se(this,"parsed");se(this,"skip");se(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return pv(this,n,"x",i)}inYRange(n,i){return pv(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!ci(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,ad(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}se(Su,"id","point"),se(Su,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),se(Su,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function ZC(t,e,n){const i=t.segments,r=t.points,s=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=Qp(l,c,r);const h=hd(n,r[l],r[c],a.loop);if(!e.segments){o.push({source:a,target:h,start:r[l],end:r[c]});continue}const f=v1(e,h);for(const p of f){const y=hd(n,s[p.start],s[p.end],p.loop),_=y1(a,r,y);for(const w of _)o.push({source:w,target:p,start:{[n]:gv(h,y,"start",Math.max)},end:{[n]:gv(h,y,"end",Math.min)}})}}return o}function hd(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=sn(r),s=sn(s)),{property:t,start:r,end:s}}function eA(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=Qp(o,a,r);const l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function Qp(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function gv(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function D1(t,e){let n=[],i=!1;return Qe(t)?(i=!0,n=t):n=eA(t,e),n.length?new Ui({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function mv(t){return t&&t.fill!==!1}function tA(t,e,n){let r=t[e].fill;const s=[e];let o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Ze(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function nA(t,e,n){const i=oA(t);if(ve(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Ze(r)&&Math.floor(r)===r?iA(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function iA(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function rA(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:ve(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function sA(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:ve(t)?i=t.value:i=e.getBaseValue(),i}function oA(t){const e=t.options,n=e.fill;let i=de(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function aA(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,a=lA(e,n);a.push(D1({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let h=c.start;h<=c.end;h++)uA(r,o[h],a)}return new Ui({points:r,options:{}})}function lA(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function uA(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=cA(s,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function cA(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const h=s[c],f=o[h.start][n],p=o[h.end][n];if(Ds(r,f,p)){a=r===f,l=r===p;break}}return{first:a,last:l,point:i}}class M1{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:s,radius:o}=this;return n=n||{start:0,end:un},e.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function hA(t){const{chart:e,fill:n,line:i}=t;if(Ze(n))return fA(e,n);if(n==="stack")return aA(t);if(n==="shape")return!0;const r=dA(t);return r instanceof M1?r:D1(r,i)}function fA(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function dA(t){return(t.scale||{}).getPointPositionForValue?gA(t):pA(t)}function pA(t){const{scale:e={},fill:n}=t,i=rA(n,e);if(Ze(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function gA(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=sA(n,e,s),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,s);return new M1({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function Jh(t,e,n){const i=hA(e),{line:r,scale:s,axis:o}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:h=c,below:f=c}=l||{};i&&r.points.length&&($c(t,n),mA(t,{line:r,target:i,above:h,below:f,area:n,scale:s,axis:o}),Wc(t))}function mA(t,e){const{line:n,target:i,above:r,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&s!==r&&(yv(t,i,o.top),vv(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),yv(t,i,o.bottom)),vv(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore()}function yv(t,e,n){const{segments:i,points:r}=e;let s=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,h=r[l],f=r[Qp(l,c,r)];s?(t.moveTo(h.x,h.y),s=!1):(t.lineTo(h.x,n),t.lineTo(h.x,h.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(f.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function vv(t,e){const{line:n,target:i,property:r,color:s,scale:o}=e,a=ZC(n,i,r);for(const{source:l,target:c,start:h,end:f}of a){const{style:{backgroundColor:p=s}={}}=l,y=i!==!0;t.save(),t.fillStyle=p,yA(t,o,y&&hd(r,h,f)),t.beginPath();const _=!!n.pathSegment(t,l);let w;if(y){_?t.closePath():_v(t,i,f,r);const b=!!i.pathSegment(t,c,{move:_,reverse:!0});w=_&&b,w||_v(t,i,h,r)}t.closePath(),t.fill(w?"evenodd":"nonzero"),t.restore()}}function yA(t,e,n){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,i,a-o,r-i),t.clip())}function _v(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var vA={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Ui&&(l={visible:t.isDatasetVisible(o),index:o,fill:nA(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=tA(r,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&Jh(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;mv(s)&&Jh(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!mv(i)||n.drawTime!=="beforeDatasetDraw"||Jh(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const wv=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},_A=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class xv extends _i{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ie(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=ht(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=wv(i,s);let c,h;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(o,s,a,l)+10):(h=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=r+a;let f=e;s.textAlign="left",s.textBaseline="middle";let p=-1,y=-h;return this.legendItems.forEach((_,w)=>{const b=i+n/2+s.measureText(_.text).width;(w===0||c[c.length-1]+b+2*a>o)&&(f+=h,c[c.length-(w>0?0:1)]=0,y+=h,p++),l[w]={left:0,top:y,row:p,width:b,height:r},c[c.length-1]+=b+a}),f}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=o-e;let f=a,p=0,y=0,_=0,w=0;return this.legendItems.forEach((b,x)=>{const{itemWidth:E,itemHeight:P}=wA(i,n,s,b,r);x>0&&y+P+2*a>h&&(f+=p+a,c.push({width:p,height:y}),_+=p+a,w++,p=y=0),l[x]={left:_,top:y,col:w,width:E,height:P},p=Math.max(p,E),y+=P+a}),f+=p,c.push({width:p,height:y}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=js(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ot(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Ot(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=Ot(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Ot(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;$c(e,this),this._draw(),Wc(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=et.color,l=js(e.rtl,this.left,this.width),c=ht(o.font),{padding:h}=o,f=c.size,p=f/2;let y;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:_,boxHeight:w,itemHeight:b}=wv(o,f),x=function(N,m,v){if(isNaN(_)||_<=0||isNaN(w)||w<0)return;r.save();const T=de(v.lineWidth,1);if(r.fillStyle=de(v.fillStyle,a),r.lineCap=de(v.lineCap,"butt"),r.lineDashOffset=de(v.lineDashOffset,0),r.lineJoin=de(v.lineJoin,"miter"),r.lineWidth=T,r.strokeStyle=de(v.strokeStyle,a),r.setLineDash(de(v.lineDash,[])),o.usePointStyle){const k={radius:w*Math.SQRT2/2,pointStyle:v.pointStyle,rotation:v.rotation,borderWidth:T},C=l.xPlus(N,_/2),A=m+p;a1(r,k,C,A,o.pointStyleWidth&&_)}else{const k=m+Math.max((f-w)/2,0),C=l.leftForLtr(N,_),A=zs(v.borderRadius);r.beginPath(),Object.values(A).some(I=>I!==0)?sc(r,{x:C,y:k,w:_,h:w,radius:A}):r.rect(C,k,_,w),r.fill(),T!==0&&r.stroke()}r.restore()},E=function(N,m,v){Qr(r,v.text,N,m+b/2,c,{strikethrough:v.hidden,textAlign:l.textAlign(v.textAlign)})},P=this.isHorizontal(),R=this._computeTitleHeight();P?y={x:Ot(s,this.left+h,this.right-i[0]),y:this.top+h+R,line:0}:y={x:this.left+h,y:Ot(s,this.top+R+h,this.bottom-n[0].height),line:0},p1(this.ctx,e.textDirection);const M=b+h;this.legendItems.forEach((N,m)=>{r.strokeStyle=N.fontColor,r.fillStyle=N.fontColor;const v=r.measureText(N.text).width,T=l.textAlign(N.textAlign||(N.textAlign=o.textAlign)),k=_+p+v;let C=y.x,A=y.y;l.setWidth(this.width),P?m>0&&C+k+h>this.right&&(A=y.y+=M,y.line++,C=y.x=Ot(s,this.left+h,this.right-i[y.line])):m>0&&A+M>this.bottom&&(C=y.x=C+n[y.line].width+h,y.line++,A=y.y=Ot(s,this.top+R+h,this.bottom-n[y.line].height));const I=l.x(C);if(x(I,A,N),C=yP(T,C+_+p,P?C+k:this.right,e.rtl),E(l.x(C),A,N),P)y.x+=k+h;else if(typeof N.text!="string"){const ue=c.lineHeight;y.y+=O1(N,ue)+h}else y.y+=M}),g1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=ht(n.font),r=jt(n.padding);if(!n.display)return;const s=js(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let h,f=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),h=this.top+c,f=Ot(e.align,f,this.right-p);else{const _=this.columnSizes.reduce((w,b)=>Math.max(w,b.height),0);h=c+Ot(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const y=Ot(a,f,f+p);o.textAlign=s.textAlign(Vp(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Qr(o,n.text,y,h,i)}_computeTitleHeight(){const e=this.options.title,n=ht(e.font),i=jt(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(Ds(e,this.left,this.right)&&Ds(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Ds(e,r.left,r.left+r.width)&&Ds(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!SA(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=_A(r,i);r&&!s&&Ie(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Ie(n.onHover,[e,i,this],this)}else i&&Ie(n.onClick,[e,i,this],this)}}function wA(t,e,n,i,r){const s=xA(i,t,e,n),o=EA(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function xA(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function EA(t,e,n){let i=t;return typeof e.text!="string"&&(i=O1(e,n)),i}function O1(t,e){const n=t.text?t.text.length:0;return e*n}function SA(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var TA={id:"legend",_element:xv,start(t,e,n){const i=t.legend=new xv({ctx:t.ctx,options:n,chart:t});xn.configure(t,i,n),xn.addBox(t,i)},stop(t){xn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;xn.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),h=jt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class L1 extends _i{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Qe(i.text)?i.text.length:1;this._padding=jt(i.padding);const s=r*ht(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,h,f;return this.isHorizontal()?(h=Ot(a,i,s),f=n+e,c=s-i):(o.position==="left"?(h=i+e,f=Ot(a,r,n),l=at*-.5):(h=s-e,f=Ot(a,n,r),l=at*.5),c=r-n),{titleX:h,titleY:f,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=ht(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Qr(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Vp(n.align),textBaseline:"middle",translation:[o,a]})}}function bA(t,e){const n=new L1({ctx:t.ctx,options:e,chart:t});xn.configure(t,n,e),xn.addBox(t,n),t.titleBlock=n}var kA={id:"title",_element:L1,start(t,e,n){bA(t,n)},stop(t){const e=t.titleBlock;xn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;xn.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jo={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=sd(e,c);h<r&&(r=h,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Bn(t,e){return e&&(Qe(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ri(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function PA(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Ev(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=ht(e.bodyFont),c=ht(e.titleFont),h=ht(e.footerFont),f=s.length,p=r.length,y=i.length,_=jt(e.padding);let w=_.height,b=0,x=i.reduce((R,M)=>R+M.before.length+M.lines.length+M.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,f&&(w+=f*c.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),x){const R=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;w+=y*R+(x-y)*l.lineHeight+(x-1)*e.bodySpacing}p&&(w+=e.footerMarginTop+p*h.lineHeight+(p-1)*e.footerSpacing);let E=0;const P=function(R){b=Math.max(b,n.measureText(R).width+E)};return n.save(),n.font=c.string,Ee(t.title,P),n.font=l.string,Ee(t.beforeBody.concat(t.afterBody),P),E=e.displayColors?o+2+e.boxPadding:0,Ee(i,R=>{Ee(R.before,P),Ee(R.lines,P),Ee(R.after,P)}),E=0,n.font=h.string,Ee(t.footer,P),n.restore(),b+=_.width,{width:b,height:w}}function IA(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function CA(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function AA(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),CA(c,t,e,n)&&(c="center"),c}function Sv(t,e,n){const i=n.yAlign||e.yAlign||IA(t,n);return{xAlign:n.xAlign||e.xAlign||AA(t,e,n,i),yAlign:i}}function RA(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function DA(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function Tv(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:y}=zs(o);let _=RA(e,a);const w=DA(e,l,c);return l==="center"?a==="left"?_+=c:a==="right"&&(_-=c):a==="left"?_-=Math.max(h,p)+r:a==="right"&&(_+=Math.max(f,y)+r),{x:wn(_,0,i.width-e.width),y:wn(w,0,i.height-e.height)}}function eu(t,e,n){const i=jt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function bv(t){return Bn([],ri(t))}function MA(t,e,n){return fr(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function kv(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const N1={beforeTitle:ni,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:ni,beforeBody:ni,beforeLabel:ni,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ne(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ni,afterBody:ni,beforeFooter:ni,footer:ni,afterFooter:ni};function Kt(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?N1[e].call(n,i):r}class fd extends _i{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new _1(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=MA(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Kt(i,"beforeTitle",this,e),s=Kt(i,"title",this,e),o=Kt(i,"afterTitle",this,e);let a=[];return a=Bn(a,ri(r)),a=Bn(a,ri(s)),a=Bn(a,ri(o)),a}getBeforeBody(e,n){return bv(Kt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return Ee(e,s=>{const o={before:[],lines:[],after:[]},a=kv(i,s);Bn(o.before,ri(Kt(a,"beforeLabel",this,s))),Bn(o.lines,Kt(a,"label",this,s)),Bn(o.after,ri(Kt(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return bv(Kt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Kt(i,"beforeFooter",this,e),s=Kt(i,"footer",this,e),o=Kt(i,"afterFooter",this,e);let a=[];return a=Bn(a,ri(r)),a=Bn(a,ri(s)),a=Bn(a,ri(o)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(PA(this.chart,n[l]));return e.filter&&(a=a.filter((h,f,p)=>e.filter(h,f,p,i))),e.itemSort&&(a=a.sort((h,f)=>e.itemSort(h,f,i))),Ee(a,h=>{const f=kv(e.callbacks,h);r.push(Kt(f,"labelColor",this,h)),s.push(Kt(f,"labelPointStyle",this,h)),o.push(Kt(f,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=Jo[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Ev(this,i),c=Object.assign({},a,l),h=Sv(this.chart,i,c),f=Tv(i,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:f}=zs(a),{x:p,y}=e,{width:_,height:w}=n;let b,x,E,P,R,M;return s==="center"?(R=y+w/2,r==="left"?(b=p,x=b-o,P=R+o,M=R-o):(b=p+_,x=b+o,P=R-o,M=R+o),E=b):(r==="left"?x=p+Math.max(l,h)+o:r==="right"?x=p+_-Math.max(c,f)-o:x=this.caretX,s==="top"?(P=y,R=P-o,b=x-o,E=x+o):(P=y+w,R=P+o,b=x+o,E=x-o),M=P),{x1:b,x2:x,x3:E,y1:P,y2:R,y3:M}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=js(i.rtl,this.x,this.width);for(e.x=eu(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=ht(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,h=ht(s.bodyFont),f=eu(this,"left",s),p=r.x(f),y=l<h.lineHeight?(h.lineHeight-l)/2:0,_=n.y+y;if(s.usePointStyle){const w={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=r.leftForLtr(p,c)+c/2,x=_+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,ad(e,w,b,x),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,ad(e,w,b,x)}else{e.lineWidth=ve(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const w=r.leftForLtr(p,c),b=r.leftForLtr(r.xPlus(p,1),c-2),x=zs(o.borderRadius);Object.values(x).some(E=>E!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,sc(e,{x:w,y:_,w:c,h:l,radius:x}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),sc(e,{x:b,y:_+1,w:c-2,h:l-2,radius:x}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(w,_,c,l),e.strokeRect(w,_,c,l),e.fillStyle=o.backgroundColor,e.fillRect(b,_+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:h}=i,f=ht(i.bodyFont);let p=f.lineHeight,y=0;const _=js(i.rtl,this.x,this.width),w=function(v){n.fillText(v,_.x(e.x+y),e.y+p/2),e.y+=p+s},b=_.textAlign(o);let x,E,P,R,M,N,m;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,e.x=eu(this,b,i),n.fillStyle=i.bodyColor,Ee(this.beforeBody,w),y=a&&b!=="right"?o==="center"?c/2+h:c+2+h:0,R=0,N=r.length;R<N;++R){for(x=r[R],E=this.labelTextColors[R],n.fillStyle=E,Ee(x.before,w),P=x.lines,a&&P.length&&(this._drawColorBox(n,e,R,_,i),p=Math.max(f.lineHeight,l)),M=0,m=P.length;M<m;++M)w(P[M]),p=f.lineHeight;Ee(x.after,w)}y=0,p=f.lineHeight,Ee(this.afterBody,w),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=js(i.rtl,this.x,this.width);for(e.x=eu(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=ht(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:h}=i,{topLeft:f,topRight:p,bottomLeft:y,bottomRight:_}=zs(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+c-p,l),n.quadraticCurveTo(a+c,l,a+c,l+p),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+c,l+h-_),n.quadraticCurveTo(a+c,l+h,a+c-_,l+h),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+y,l+h),n.quadraticCurveTo(a,l+h,a,l+h-y),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Jo[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Ev(this,e),l=Object.assign({},o,this._size),c=Sv(n,e,l),h=Tv(e,l,c,n);(r._to!==h.x||s._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=jt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),p1(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),g1(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Zu(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),a=this._positionChanged(o,e),l=n||!Zu(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=Jo[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}se(fd,"positioners",Jo);var OA={id:"tooltip",_element:fd,positioners:Jo,afterInit(t,e,n){n&&(t.tooltip=new fd({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:N1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const LA=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function NA(t,e,n,i){const r=t.indexOf(e);if(r===-1)return LA(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const FA=(t,e)=>t===null?null:wn(Math.round(t),0,e);function Pv(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class dd extends ts{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Ne(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:NA(i,e,de(n,e),this._addedLabels),FA(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return Pv.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}se(dd,"id","category"),se(dd,"defaults",{ticks:{callback:Pv}});function VA(t,e){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:h,maxDigits:f,includeBounds:p}=t,y=s||1,_=h-1,{min:w,max:b}=e,x=!Ne(o),E=!Ne(a),P=!Ne(c),R=(b-w)/(f+1);let M=Py((b-w)/_/y)*y,N,m,v,T;if(M<1e-14&&!x&&!E)return[{value:w},{value:b}];T=Math.ceil(b/M)-Math.floor(w/M),T>_&&(M=Py(T*M/_/y)*y),Ne(l)||(N=Math.pow(10,l),M=Math.ceil(M*N)/N),r==="ticks"?(m=Math.floor(w/M)*M,v=Math.ceil(b/M)*M):(m=w,v=b),x&&E&&s&&lP((a-o)/s,M/1e3)?(T=Math.round(Math.min((a-o)/M,h)),M=(a-o)/T,m=o,v=a):P?(m=x?o:m,v=E?a:v,T=c-1,M=(v-m)/T):(T=(v-m)/M,ha(T,Math.round(T),M/1e3)?T=Math.round(T):T=Math.ceil(T));const k=Math.max(Iy(M),Iy(m));N=Math.pow(10,Ne(l)?k:l),m=Math.round(m*N)/N,v=Math.round(v*N)/N;let C=0;for(x&&(p&&m!==o?(n.push({value:o}),m<o&&C++,ha(Math.round((m+C*M)*N)/N,o,Iv(o,R,t))&&C++):m<o&&C++);C<T;++C){const A=Math.round((m+C*M)*N)/N;if(E&&A>a)break;n.push({value:A})}return E&&p&&v!==a?n.length&&ha(n[n.length-1].value,a,Iv(a,R,t))?n[n.length-1].value=a:n.push({value:a}):(!E||v===a)&&n.push({value:v}),n}function Iv(t,e,{horizontal:n,minRotation:i}){const r=Bi(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class lc extends ts{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ne(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){const l=Xs(r),c=Xs(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=VA(r,s);return e.bounds==="ticks"&&t1(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return jp(e,this.chart.options.locale,this.options.ticks.format)}}class pd extends lc{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ze(e)?e:0,this.max=Ze(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Bi(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}se(pd,"id","linear"),se(pd,"defaults",{ticks:{callback:Hc.formatters.numeric}});const Ua=t=>Math.floor(ji(t)),Er=(t,e)=>Math.pow(10,Ua(t)+e);function Cv(t){return t/Math.pow(10,Ua(t))===1}function Av(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function zA(t,e){const n=e-t;let i=Ua(n);for(;Av(t,e,i)>10;)i++;for(;Av(t,e,i)<10;)i--;return Math.min(i,Ua(t))}function jA(t,{min:e,max:n}){e=nn(t.min,e);const i=[],r=Ua(e);let s=zA(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((e-l)*o)/o,h=Math.floor((e-l)/a/10)*a*10;let f=Math.floor((c-h)/Math.pow(10,s)),p=nn(t.min,Math.round((l+h+f*Math.pow(10,s))*o)/o);for(;p<n;)i.push({value:p,major:Cv(p),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(s++,f=2,o=s>=0?1:o),p=Math.round((l+h+f*Math.pow(10,s))*o)/o;const y=nn(t.max,p);return i.push({value:y,major:Cv(y),significand:f}),i}class Rv extends ts{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=lc.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Ze(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ze(e)?Math.max(0,e):null,this.max=Ze(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ze(this._userMin)&&(this.min=e===Er(this.min,0)?Er(this.min,-1):Er(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=a=>i=e?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s(Er(i,-1)),o(Er(r,1)))),i<=0&&s(Er(r,-1)),r<=0&&o(Er(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=jA(n,this);return e.bounds==="ticks"&&t1(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":jp(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ji(e),this._valueRange=ji(this.max)-ji(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ji(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}se(Rv,"id","logarithmic"),se(Rv,"defaults",{ticks:{callback:Hc.formatters.logarithmic,major:{enabled:!0}}});function gd(t){const e=t.ticks;if(e.display&&t.display){const n=jt(e.backdropPadding);return de(e.font&&e.font.size,et.font.size)+n.height}return 0}function BA(t,e,n){return n=Qe(n)?n:[n],{w:CP(t,e.string,n),h:n.length*e.lineHeight}}function Dv(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function UA(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?at/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));r[l]=c.padding;const h=t.getPointPosition(l,t.drawingArea+r[l],a),f=ht(c.font),p=BA(t.ctx,f,t._pointLabels[l]);i[l]=p;const y=sn(t.getIndexAngle(l)+a),_=Math.round(Np(y)),w=Dv(_,h.x,p.w,0,180),b=Dv(_,h.y,p.h,90,270);HA(n,e,y,w,b)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=KA(t,i,r)}function HA(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function $A(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,i+r+o,s),c=Math.round(Np(sn(l.angle+an))),h=qA(l.y,a.h,c),f=QA(c),p=GA(l.x,a.w,f);return{visible:!0,x:l.x,y:h,textAlign:f,left:p,top:h,right:p+a.w,bottom:h+a.h}}function WA(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:s}=t;return!(ci({x:n,y:i},e)||ci({x:n,y:s},e)||ci({x:r,y:i},e)||ci({x:r,y:s},e))}function KA(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:gd(s)/2,additionalAngle:o?at/r:0};let c;for(let h=0;h<r;h++){l.padding=n[h],l.size=e[h];const f=$A(t,h,l);i.push(f),a==="auto"&&(f.visible=WA(f,c),f.visible&&(c=f))}return i}function QA(t){return t===0||t===180?"center":t<180?"left":"right"}function GA(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function qA(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function YA(t,e,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=e;if(!Ne(a)){const l=zs(e.borderRadius),c=jt(e.backdropPadding);t.fillStyle=a;const h=i-c.left,f=r-c.top,p=s-i+c.width,y=o-r+c.height;Object.values(l).some(_=>_!==0)?(t.beginPath(),sc(t,{x:h,y:f,w:p,h:y,radius:l}),t.fill()):t.fillRect(h,f,p,y)}}function XA(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const s=t._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(t.getPointLabelContext(r));YA(n,o,s);const a=ht(o.font),{x:l,y:c,textAlign:h}=s;Qr(n,t._pointLabels[r],l,c+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}function F1(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,un);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function JA(t,e,n,i,r){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),F1(t,n,o,i),s.closePath(),s.stroke(),s.restore())}function ZA(t,e,n){return fr(t,{label:n,index:e,type:"pointLabel"})}class tu extends lc{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=jt(gd(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Ze(e)&&!isNaN(e)?e:0,this.max=Ze(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/gd(this.options))}generateTickLabels(e){lc.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const r=Ie(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?UA(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){const n=un/(this._pointLabels.length||1),i=this.options.startAngle||0;return sn(e*n+Bi(i))}getDistanceFromCenterForValue(e){if(Ne(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Ne(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return ZA(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const r=this.getIndexAngle(e)-an+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),F1(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&XA(this,o),r.display&&this.ticks.forEach((h,f)=>{if(f!==0||f===0&&this.min<0){l=this.getDistanceFromCenterForValue(h.value);const p=this.getContext(f),y=r.setContext(p),_=s.setContext(p);JA(this,y,l,o,_)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const h=i.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:p}=h;!p||!f||(e.lineWidth=p,e.strokeStyle=f,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),h=ht(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=h.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const f=jt(c.backdropPadding);e.fillRect(-o/2-f.left,-s-h.size/2-f.top,o+f.width,h.size+f.height)}Qr(e,a.label,0,-s,h,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}se(tu,"id","radialLinear"),se(tu,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Hc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),se(tu,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),se(tu,"descriptors",{angleLines:{_fallback:"grid"}});const Gc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Gt=Object.keys(Gc);function Mv(t,e){return t-e}function Ov(t,e){if(Ne(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Ze(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(ja(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function Lv(t,e,n,i){const r=Gt.length;for(let s=Gt.indexOf(t);s<r-1;++s){const o=Gc[Gt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Gt[s]}return Gt[r-1]}function eR(t,e,n,i,r){for(let s=Gt.length-1;s>=Gt.indexOf(n);s--){const o=Gt[s];if(Gc[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Gt[n?Gt.indexOf(n):0]}function tR(t){for(let e=Gt.indexOf(t)+1,n=Gt.length;e<n;++e)if(Gc[Gt[e]].common)return Gt[e]}function Nv(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=Fp(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function nR(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function Fv(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:nR(t,i,r,n)}class uc extends ts{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new OI._date(e.adapters.date);r.init(n),ca(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Ov(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Ze(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=Ze(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=dP(r,s,o);return this._unit=n.unit||(i.autoSkip?Lv(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):eR(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:tR(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),Fv(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=wn(n,0,o),i=wn(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||Lv(s.minUnit,n,i,this._getLabelCapacity(n)),a=de(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=ja(l)||l===!0,h={};let f=n,p,y;if(c&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const _=r.ticks.source==="data"&&this.getDataTimestamps();for(p=f,y=0;p<i;p=+e.add(p,a,o),y++)Nv(h,p,_);return(p===i||r.bounds==="ticks"||y===1)&&Nv(h,p,_),Object.keys(h).sort(Mv).map(w=>+w)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return Ie(o,[e,n,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&a[l],f=c&&a[c],p=i[n],y=c&&f&&p&&p.major;return this._adapter.format(e,r||(y?f:h))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Bi(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,Fv(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(Ov(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return gP(e.sort(Mv))}}se(uc,"id","time"),se(uc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function nu(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=Mr(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=Mr(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class Vv extends uc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=nu(n,this.min),this._tableRange=nu(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,a,l,c,h;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)h=r[o+1],l=r[o-1],c=r[o],Math.round((h+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(nu(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return nu(this._table,i*this._tableRange+this._minPos,!0)}}se(Vv,"id","timeseries"),se(Vv,"defaults",uc.defaults);const V1="label";function zv(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function iR(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function z1(t,e){t.labels=e}function j1(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V1;const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function rR(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V1;const n={labels:[],datasets:[]};return z1(n,t.labels),j1(n,t.datasets,e),n}function sR(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:h,updateMode:f,...p}=t,y=z.useRef(null),_=z.useRef(),w=()=>{y.current&&(_.current=new Qc(y.current,{type:o,data:rR(a,s),options:l&&{...l},plugins:c}),zv(e,_.current))},b=()=>{zv(e,null),_.current&&(_.current.destroy(),_.current=null)};return z.useEffect(()=>{!r&&_.current&&l&&iR(_.current,l)},[r,l]),z.useEffect(()=>{!r&&_.current&&z1(_.current.config.data,a.labels)},[r,a.labels]),z.useEffect(()=>{!r&&_.current&&a.datasets&&j1(_.current.config.data,a.datasets,s)},[r,a.datasets]),z.useEffect(()=>{_.current&&(r?(b(),setTimeout(w)):_.current.update(f))},[r,l,a.labels,a.datasets,f]),z.useEffect(()=>{_.current&&(b(),setTimeout(w))},[o]),z.useEffect(()=>(w(),()=>b()),[]),Tc.createElement("canvas",Object.assign({ref:y,role:"img",height:n,width:i},p),h)}const oR=z.forwardRef(sR);function aR(t,e){return Qc.register(e),z.forwardRef((n,i)=>Tc.createElement(oR,Object.assign({},n,{ref:i,type:t})))}const lR=aR("line",wu);Qc.register(dd,pd,Su,Ui,kA,OA,TA,vA);const uR=t=>{const[e,n]=z.useState([]);return z.useEffect(()=>{const i=t.map(r=>{const s=new Image;return s.src=r,s});n(i)},[t]),e},cR=["/images/cryingSmiley.png","/images/angrySmiley.png","/images/frowningSmiley.png","/images/wozySmiley.png","/images/sleepySmiley.png","/images/relievedSmiley.png","/images/heartsSmiley.png","/images/zonnebrilSmiley.png","/images/grinningSmiley.png","/images/zanySmiley.png"],hR=()=>{const t=Uc(),e=z.useRef(null),n=uR(cR),i=()=>{window.localStorage.removeItem("token"),t("/")},r=()=>{t("/stemming")};function s(h){const f=["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],p=[];for(let y=0;y<h;y++){const _=new Date;_.setDate(_.getDate()-y);const w=f[_.getDay()];p.push(w)}return p.reverse()}const a={labels:s(7),datasets:[{label:"oelalal",data:[0,1,2,3,4,5,6,7,8,9],fill:!1,borderColor:"#FFBE17",backgroundColor:"#FFBE17",tension:.1}]},l={id:"drawImagePlugin",afterDraw:h=>{const f=h.ctx,p=h.scales.y;n.forEach((y,_)=>{if(!y.complete){console.error(`Afbeelding ${_} is niet geladen.`);return}const w=p.getPixelForValue(_),b=p.left-40;console.log(`Tekenen afbeelding ${_} op (${b}, ${w})`),f.drawImage(y,b,w-15,30,30)})}},c={plugins:{drawImagePlugin:{}},scales:{y:{ticks:{callback:function(){return""}}}}};return K.jsxs("div",{className:"h-screen bg-white flex flex-col justify-between relative",children:[K.jsxs("div",{className:"flex justify-center items-center h-1/2",children:[K.jsx("div",{className:"font-koulen text-[74px] text-[#3B3939]",children:K.jsx("h1",{children:"Stemming"})}),K.jsx("div",{className:"absolute top-4 right-4",children:K.jsx("button",{onClick:i,className:"bg-[#3B3939] text-white font-bold py-2 px-4 rounded hover:bg-[#343334]",children:"Logout"})})]}),K.jsx("div",{className:"flex flex-1 p-4",children:K.jsx("div",{className:"w-full md:w-1/2",children:K.jsx("div",{className:"relative h-64 md:h-96",children:K.jsx(lR,{ref:e,data:a,options:c,plugins:[l]})})})}),K.jsx("div",{className:"waves",children:K.jsxs("svg",{className:"parallax",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 24 150 40",preserveAspectRatio:"none",shapeRendering:"auto",children:[K.jsx("defs",{children:K.jsx("path",{id:"gentle-wave",d:"M-160 44c30 0 58-18 88-18s58 18 88 18 58-18 88-18 58 18 88 18v44h-352z"})}),K.jsxs("g",{className:"parallax",children:[K.jsx("use",{xlinkHref:"#gentle-wave",x:"48",y:"0",fill:"rgba(111, 23, 255, 0.7)"}),K.jsx("use",{xlinkHref:"#gentle-wave",x:"48",y:"3",fill:"rgba(111, 23, 255, 0.5)"}),K.jsx("use",{xlinkHref:"#gentle-wave",x:"48",y:"5",fill:"rgba(111, 23, 255, 0.3)"}),K.jsx("use",{xlinkHref:"#gentle-wave",x:"48",y:"7",fill:"#6F17FF"}),K.jsx("use",{xlinkHref:"#gentle-wave",x:"48",y:"3",fill:"#6F17FF"})]})]})}),K.jsx("div",{className:"relative",children:K.jsx("img",{src:"/images/boat.png",alt:"Boot",className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-20 h-auto cursor-pointer",onClick:r})})]})};var jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},fR=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},U1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,y=c&63;l||(y=64,o||(p=64)),i.push(n[h],n[f],n[p],n[y])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(B1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||f==null)throw new dR;const p=s<<2|a>>4;if(i.push(p),c!==64){const y=a<<4&240|c>>2;if(i.push(y),f!==64){const _=c<<6&192|f;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pR=function(t){const e=B1(t);return U1.encodeByteArray(e,!0)},cc=function(t){return pR(t).replace(/\./g,"")},gR=function(t){try{return U1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=()=>mR().__FIREBASE_DEFAULTS__,vR=()=>{if(typeof process>"u"||typeof jv>"u")return;const t=jv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_R=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gR(t[1]);return e&&JSON.parse(e)},Gp=()=>{try{return yR()||vR()||_R()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wR=t=>{var e,n;return(n=(e=Gp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xR=t=>{const e=wR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},H1=()=>{var t;return(t=Gp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cc(JSON.stringify(n)),cc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bR(){var t;const e=(t=Gp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kR(){return!bR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PR(){try{return typeof indexedDB=="object"}catch{return!1}}function IR(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="FirebaseError";class uo extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=CR,Object.setPrototypeOf(this,uo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$1.prototype.create)}}class $1{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?AR(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new uo(r,a,i)}}function AR(t,e){return t.replace(RR,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const RR=/\{\$([^}]+)}/g;function md(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Bv(s)&&Bv(o)){if(!md(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Bv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(t){return t&&t._delegate?t._delegate:t}class $a{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new ER;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OR(e))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Pr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pr){return this.instances.has(e)}getOptions(e=Pr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:MR(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Pr){return this.component?this.component.multipleInstances?e:Pr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MR(t){return t===Pr?void 0:t}function OR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const NR={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},FR=_e.INFO,VR={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},zR=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=VR[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W1{constructor(e){this.name=e,this._logLevel=FR,this._logHandler=zR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const jR=(t,e)=>e.some(n=>t instanceof n);let Uv,Hv;function BR(){return Uv||(Uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UR(){return Hv||(Hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K1=new WeakMap,yd=new WeakMap,Q1=new WeakMap,Zh=new WeakMap,qp=new WeakMap;function HR(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ji(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&K1.set(n,t)}).catch(()=>{}),qp.set(e,t),e}function $R(t){if(yd.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yd.set(t,e)}let vd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Q1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WR(t){vd=t(vd)}function KR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(ef(this),e,...n);return Q1.set(i,e.sort?e.sort():[e]),Ji(i)}:UR().includes(t)?function(...e){return t.apply(ef(this),e),Ji(K1.get(this))}:function(...e){return Ji(t.apply(ef(this),e))}}function QR(t){return typeof t=="function"?KR(t):(t instanceof IDBTransaction&&$R(t),jR(t,BR())?new Proxy(t,vd):t)}function Ji(t){if(t instanceof IDBRequest)return HR(t);if(Zh.has(t))return Zh.get(t);const e=QR(t);return e!==t&&(Zh.set(t,e),qp.set(e,t)),e}const ef=t=>qp.get(t);function GR(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=Ji(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Ji(o.result),l.oldVersion,l.newVersion,Ji(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const qR=["get","getKey","getAll","getAllKeys","count"],YR=["put","add","delete","clear"],tf=new Map;function $v(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tf.get(e))return tf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=YR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||qR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return tf.set(e,s),s}WR(t=>({...t,get:(e,n,i)=>$v(e,n)||t.get(e,n,i),has:(e,n)=>!!$v(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function JR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _d="@firebase/app",Wv="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new W1("@firebase/app"),ZR="@firebase/app-compat",e2="@firebase/analytics-compat",t2="@firebase/analytics",n2="@firebase/app-check-compat",i2="@firebase/app-check",r2="@firebase/auth",s2="@firebase/auth-compat",o2="@firebase/database",a2="@firebase/database-compat",l2="@firebase/functions",u2="@firebase/functions-compat",c2="@firebase/installations",h2="@firebase/installations-compat",f2="@firebase/messaging",d2="@firebase/messaging-compat",p2="@firebase/performance",g2="@firebase/performance-compat",m2="@firebase/remote-config",y2="@firebase/remote-config-compat",v2="@firebase/storage",_2="@firebase/storage-compat",w2="@firebase/firestore",x2="@firebase/vertexai-preview",E2="@firebase/firestore-compat",S2="firebase",T2="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="[DEFAULT]",b2={[_d]:"fire-core",[ZR]:"fire-core-compat",[t2]:"fire-analytics",[e2]:"fire-analytics-compat",[i2]:"fire-app-check",[n2]:"fire-app-check-compat",[r2]:"fire-auth",[s2]:"fire-auth-compat",[o2]:"fire-rtdb",[a2]:"fire-rtdb-compat",[l2]:"fire-fn",[u2]:"fire-fn-compat",[c2]:"fire-iid",[h2]:"fire-iid-compat",[f2]:"fire-fcm",[d2]:"fire-fcm-compat",[p2]:"fire-perf",[g2]:"fire-perf-compat",[m2]:"fire-rc",[y2]:"fire-rc-compat",[v2]:"fire-gcs",[_2]:"fire-gcs-compat",[w2]:"fire-fst",[E2]:"fire-fst-compat",[x2]:"fire-vertex","fire-js":"fire-js",[S2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Map,k2=new Map,xd=new Map;function Kv(t,e){try{t.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fc(t){const e=t.name;if(xd.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;xd.set(e,t);for(const n of hc.values())Kv(n,t);for(const n of k2.values())Kv(n,t);return!0}function P2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new $1("app","Firebase",I2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new $a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=T2;function G1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:wd,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Zi.create("bad-app-name",{appName:String(r)});if(n||(n=H1()),!n)throw Zi.create("no-options");const s=hc.get(r);if(s){if(md(n,s.options)&&md(i,s.config))return s;throw Zi.create("duplicate-app",{appName:r})}const o=new LR(r);for(const l of xd.values())o.addComponent(l);const a=new C2(n,i,o);return hc.set(r,a),a}function R2(t=wd){const e=hc.get(t);if(!e&&t===wd&&H1())return G1();if(!e)throw Zi.create("no-app",{appName:t});return e}function Bs(t,e,n){var i;let r=(i=b2[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(a.join(" "));return}fc(new $a(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="firebase-heartbeat-database",M2=1,Wa="firebase-heartbeat-store";let nf=null;function q1(){return nf||(nf=GR(D2,M2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zi.create("idb-open",{originalErrorMessage:t.message})})),nf}async function O2(t){try{const n=(await q1()).transaction(Wa),i=await n.objectStore(Wa).get(Y1(t));return await n.done,i}catch(e){if(e instanceof uo)Gr.warn(e.message);else{const n=Zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(n.message)}}}async function Qv(t,e){try{const i=(await q1()).transaction(Wa,"readwrite");await i.objectStore(Wa).put(e,Y1(t)),await i.done}catch(n){if(n instanceof uo)Gr.warn(n.message);else{const i=Zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gr.warn(i.message)}}}function Y1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=1024,N2=30*24*60*60*1e3;class F2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new z2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Gv();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=N2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gv(),{heartbeatsToSend:i,unsentEntries:r}=V2(this._heartbeatsCache.heartbeats),s=cc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Gv(){return new Date().toISOString().substring(0,10)}function V2(t,e=L2){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),qv(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),qv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class z2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PR()?IR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await O2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Qv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Qv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function qv(t){return cc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t){fc(new $a("platform-logger",e=>new XR(e),"PRIVATE")),fc(new $a("heartbeat",e=>new F2(e),"PRIVATE")),Bs(_d,Wv,t),Bs(_d,Wv,"esm2017"),Bs("fire-js","")}j2("");var B2="firebase",U2="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bs(B2,U2,"app");var Yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(m,v){function T(){}T.prototype=v.prototype,m.D=v.prototype,m.prototype=new T,m.prototype.constructor=m,m.C=function(k,C,A){for(var I=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)I[ue-2]=arguments[ue];return v.prototype[C].apply(k,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(m,v,T){T||(T=0);var k=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)k[C]=v.charCodeAt(T++)|v.charCodeAt(T++)<<8|v.charCodeAt(T++)<<16|v.charCodeAt(T++)<<24;else for(C=0;16>C;++C)k[C]=v[T++]|v[T++]<<8|v[T++]<<16|v[T++]<<24;v=m.g[0],T=m.g[1],C=m.g[2];var A=m.g[3],I=v+(A^T&(C^A))+k[0]+3614090360&4294967295;v=T+(I<<7&4294967295|I>>>25),I=A+(C^v&(T^C))+k[1]+3905402710&4294967295,A=v+(I<<12&4294967295|I>>>20),I=C+(T^A&(v^T))+k[2]+606105819&4294967295,C=A+(I<<17&4294967295|I>>>15),I=T+(v^C&(A^v))+k[3]+3250441966&4294967295,T=C+(I<<22&4294967295|I>>>10),I=v+(A^T&(C^A))+k[4]+4118548399&4294967295,v=T+(I<<7&4294967295|I>>>25),I=A+(C^v&(T^C))+k[5]+1200080426&4294967295,A=v+(I<<12&4294967295|I>>>20),I=C+(T^A&(v^T))+k[6]+2821735955&4294967295,C=A+(I<<17&4294967295|I>>>15),I=T+(v^C&(A^v))+k[7]+4249261313&4294967295,T=C+(I<<22&4294967295|I>>>10),I=v+(A^T&(C^A))+k[8]+1770035416&4294967295,v=T+(I<<7&4294967295|I>>>25),I=A+(C^v&(T^C))+k[9]+2336552879&4294967295,A=v+(I<<12&4294967295|I>>>20),I=C+(T^A&(v^T))+k[10]+4294925233&4294967295,C=A+(I<<17&4294967295|I>>>15),I=T+(v^C&(A^v))+k[11]+2304563134&4294967295,T=C+(I<<22&4294967295|I>>>10),I=v+(A^T&(C^A))+k[12]+1804603682&4294967295,v=T+(I<<7&4294967295|I>>>25),I=A+(C^v&(T^C))+k[13]+4254626195&4294967295,A=v+(I<<12&4294967295|I>>>20),I=C+(T^A&(v^T))+k[14]+2792965006&4294967295,C=A+(I<<17&4294967295|I>>>15),I=T+(v^C&(A^v))+k[15]+1236535329&4294967295,T=C+(I<<22&4294967295|I>>>10),I=v+(C^A&(T^C))+k[1]+4129170786&4294967295,v=T+(I<<5&4294967295|I>>>27),I=A+(T^C&(v^T))+k[6]+3225465664&4294967295,A=v+(I<<9&4294967295|I>>>23),I=C+(v^T&(A^v))+k[11]+643717713&4294967295,C=A+(I<<14&4294967295|I>>>18),I=T+(A^v&(C^A))+k[0]+3921069994&4294967295,T=C+(I<<20&4294967295|I>>>12),I=v+(C^A&(T^C))+k[5]+3593408605&4294967295,v=T+(I<<5&4294967295|I>>>27),I=A+(T^C&(v^T))+k[10]+38016083&4294967295,A=v+(I<<9&4294967295|I>>>23),I=C+(v^T&(A^v))+k[15]+3634488961&4294967295,C=A+(I<<14&4294967295|I>>>18),I=T+(A^v&(C^A))+k[4]+3889429448&4294967295,T=C+(I<<20&4294967295|I>>>12),I=v+(C^A&(T^C))+k[9]+568446438&4294967295,v=T+(I<<5&4294967295|I>>>27),I=A+(T^C&(v^T))+k[14]+3275163606&4294967295,A=v+(I<<9&4294967295|I>>>23),I=C+(v^T&(A^v))+k[3]+4107603335&4294967295,C=A+(I<<14&4294967295|I>>>18),I=T+(A^v&(C^A))+k[8]+1163531501&4294967295,T=C+(I<<20&4294967295|I>>>12),I=v+(C^A&(T^C))+k[13]+2850285829&4294967295,v=T+(I<<5&4294967295|I>>>27),I=A+(T^C&(v^T))+k[2]+4243563512&4294967295,A=v+(I<<9&4294967295|I>>>23),I=C+(v^T&(A^v))+k[7]+1735328473&4294967295,C=A+(I<<14&4294967295|I>>>18),I=T+(A^v&(C^A))+k[12]+2368359562&4294967295,T=C+(I<<20&4294967295|I>>>12),I=v+(T^C^A)+k[5]+4294588738&4294967295,v=T+(I<<4&4294967295|I>>>28),I=A+(v^T^C)+k[8]+2272392833&4294967295,A=v+(I<<11&4294967295|I>>>21),I=C+(A^v^T)+k[11]+1839030562&4294967295,C=A+(I<<16&4294967295|I>>>16),I=T+(C^A^v)+k[14]+4259657740&4294967295,T=C+(I<<23&4294967295|I>>>9),I=v+(T^C^A)+k[1]+2763975236&4294967295,v=T+(I<<4&4294967295|I>>>28),I=A+(v^T^C)+k[4]+1272893353&4294967295,A=v+(I<<11&4294967295|I>>>21),I=C+(A^v^T)+k[7]+4139469664&4294967295,C=A+(I<<16&4294967295|I>>>16),I=T+(C^A^v)+k[10]+3200236656&4294967295,T=C+(I<<23&4294967295|I>>>9),I=v+(T^C^A)+k[13]+681279174&4294967295,v=T+(I<<4&4294967295|I>>>28),I=A+(v^T^C)+k[0]+3936430074&4294967295,A=v+(I<<11&4294967295|I>>>21),I=C+(A^v^T)+k[3]+3572445317&4294967295,C=A+(I<<16&4294967295|I>>>16),I=T+(C^A^v)+k[6]+76029189&4294967295,T=C+(I<<23&4294967295|I>>>9),I=v+(T^C^A)+k[9]+3654602809&4294967295,v=T+(I<<4&4294967295|I>>>28),I=A+(v^T^C)+k[12]+3873151461&4294967295,A=v+(I<<11&4294967295|I>>>21),I=C+(A^v^T)+k[15]+530742520&4294967295,C=A+(I<<16&4294967295|I>>>16),I=T+(C^A^v)+k[2]+3299628645&4294967295,T=C+(I<<23&4294967295|I>>>9),I=v+(C^(T|~A))+k[0]+4096336452&4294967295,v=T+(I<<6&4294967295|I>>>26),I=A+(T^(v|~C))+k[7]+1126891415&4294967295,A=v+(I<<10&4294967295|I>>>22),I=C+(v^(A|~T))+k[14]+2878612391&4294967295,C=A+(I<<15&4294967295|I>>>17),I=T+(A^(C|~v))+k[5]+4237533241&4294967295,T=C+(I<<21&4294967295|I>>>11),I=v+(C^(T|~A))+k[12]+1700485571&4294967295,v=T+(I<<6&4294967295|I>>>26),I=A+(T^(v|~C))+k[3]+2399980690&4294967295,A=v+(I<<10&4294967295|I>>>22),I=C+(v^(A|~T))+k[10]+4293915773&4294967295,C=A+(I<<15&4294967295|I>>>17),I=T+(A^(C|~v))+k[1]+2240044497&4294967295,T=C+(I<<21&4294967295|I>>>11),I=v+(C^(T|~A))+k[8]+1873313359&4294967295,v=T+(I<<6&4294967295|I>>>26),I=A+(T^(v|~C))+k[15]+4264355552&4294967295,A=v+(I<<10&4294967295|I>>>22),I=C+(v^(A|~T))+k[6]+2734768916&4294967295,C=A+(I<<15&4294967295|I>>>17),I=T+(A^(C|~v))+k[13]+1309151649&4294967295,T=C+(I<<21&4294967295|I>>>11),I=v+(C^(T|~A))+k[4]+4149444226&4294967295,v=T+(I<<6&4294967295|I>>>26),I=A+(T^(v|~C))+k[11]+3174756917&4294967295,A=v+(I<<10&4294967295|I>>>22),I=C+(v^(A|~T))+k[2]+718787259&4294967295,C=A+(I<<15&4294967295|I>>>17),I=T+(A^(C|~v))+k[9]+3951481745&4294967295,m.g[0]=m.g[0]+v&4294967295,m.g[1]=m.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,m.g[2]=m.g[2]+C&4294967295,m.g[3]=m.g[3]+A&4294967295}i.prototype.u=function(m,v){v===void 0&&(v=m.length);for(var T=v-this.blockSize,k=this.B,C=this.h,A=0;A<v;){if(C==0)for(;A<=T;)r(this,m,A),A+=this.blockSize;if(typeof m=="string"){for(;A<v;)if(k[C++]=m.charCodeAt(A++),C==this.blockSize){r(this,k),C=0;break}}else for(;A<v;)if(k[C++]=m[A++],C==this.blockSize){r(this,k),C=0;break}}this.h=C,this.o+=v},i.prototype.v=function(){var m=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);m[0]=128;for(var v=1;v<m.length-8;++v)m[v]=0;var T=8*this.o;for(v=m.length-8;v<m.length;++v)m[v]=T&255,T/=256;for(this.u(m),m=Array(16),v=T=0;4>v;++v)for(var k=0;32>k;k+=8)m[T++]=this.g[v]>>>k&255;return m};function s(m,v){var T=a;return Object.prototype.hasOwnProperty.call(T,m)?T[m]:T[m]=v(m)}function o(m,v){this.h=v;for(var T=[],k=!0,C=m.length-1;0<=C;C--){var A=m[C]|0;k&&A==v||(T[C]=A,k=!1)}this.g=T}var a={};function l(m){return-128<=m&&128>m?s(m,function(v){return new o([v|0],0>v?-1:0)}):new o([m|0],0>m?-1:0)}function c(m){if(isNaN(m)||!isFinite(m))return f;if(0>m)return b(c(-m));for(var v=[],T=1,k=0;m>=T;k++)v[k]=m/T|0,T*=4294967296;return new o(v,0)}function h(m,v){if(m.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(m.charAt(0)=="-")return b(h(m.substring(1),v));if(0<=m.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(v,8)),k=f,C=0;C<m.length;C+=8){var A=Math.min(8,m.length-C),I=parseInt(m.substring(C,C+A),v);8>A?(A=c(Math.pow(v,A)),k=k.j(A).add(c(I))):(k=k.j(T),k=k.add(c(I)))}return k}var f=l(0),p=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-b(this).m();for(var m=0,v=1,T=0;T<this.g.length;T++){var k=this.i(T);m+=(0<=k?k:4294967296+k)*v,v*=4294967296}return m},t.toString=function(m){if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(_(this))return"0";if(w(this))return"-"+b(this).toString(m);for(var v=c(Math.pow(m,6)),T=this,k="";;){var C=R(T,v).g;T=x(T,C.j(v));var A=((0<T.g.length?T.g[0]:T.h)>>>0).toString(m);if(T=C,_(T))return A+k;for(;6>A.length;)A="0"+A;k=A+k}},t.i=function(m){return 0>m?0:m<this.g.length?this.g[m]:this.h};function _(m){if(m.h!=0)return!1;for(var v=0;v<m.g.length;v++)if(m.g[v]!=0)return!1;return!0}function w(m){return m.h==-1}t.l=function(m){return m=x(this,m),w(m)?-1:_(m)?0:1};function b(m){for(var v=m.g.length,T=[],k=0;k<v;k++)T[k]=~m.g[k];return new o(T,~m.h).add(p)}t.abs=function(){return w(this)?b(this):this},t.add=function(m){for(var v=Math.max(this.g.length,m.g.length),T=[],k=0,C=0;C<=v;C++){var A=k+(this.i(C)&65535)+(m.i(C)&65535),I=(A>>>16)+(this.i(C)>>>16)+(m.i(C)>>>16);k=I>>>16,A&=65535,I&=65535,T[C]=I<<16|A}return new o(T,T[T.length-1]&-2147483648?-1:0)};function x(m,v){return m.add(b(v))}t.j=function(m){if(_(this)||_(m))return f;if(w(this))return w(m)?b(this).j(b(m)):b(b(this).j(m));if(w(m))return b(this.j(b(m)));if(0>this.l(y)&&0>m.l(y))return c(this.m()*m.m());for(var v=this.g.length+m.g.length,T=[],k=0;k<2*v;k++)T[k]=0;for(k=0;k<this.g.length;k++)for(var C=0;C<m.g.length;C++){var A=this.i(k)>>>16,I=this.i(k)&65535,ue=m.i(C)>>>16,le=m.i(C)&65535;T[2*k+2*C]+=I*le,E(T,2*k+2*C),T[2*k+2*C+1]+=A*le,E(T,2*k+2*C+1),T[2*k+2*C+1]+=I*ue,E(T,2*k+2*C+1),T[2*k+2*C+2]+=A*ue,E(T,2*k+2*C+2)}for(k=0;k<v;k++)T[k]=T[2*k+1]<<16|T[2*k];for(k=v;k<2*v;k++)T[k]=0;return new o(T,0)};function E(m,v){for(;(m[v]&65535)!=m[v];)m[v+1]+=m[v]>>>16,m[v]&=65535,v++}function P(m,v){this.g=m,this.h=v}function R(m,v){if(_(v))throw Error("division by zero");if(_(m))return new P(f,f);if(w(m))return v=R(b(m),v),new P(b(v.g),b(v.h));if(w(v))return v=R(m,b(v)),new P(b(v.g),v.h);if(30<m.g.length){if(w(m)||w(v))throw Error("slowDivide_ only works with positive integers.");for(var T=p,k=v;0>=k.l(m);)T=M(T),k=M(k);var C=N(T,1),A=N(k,1);for(k=N(k,2),T=N(T,2);!_(k);){var I=A.add(k);0>=I.l(m)&&(C=C.add(T),A=I),k=N(k,1),T=N(T,1)}return v=x(m,C.j(v)),new P(C,v)}for(C=f;0<=m.l(v);){for(T=Math.max(1,Math.floor(m.m()/v.m())),k=Math.ceil(Math.log(T)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),A=c(T),I=A.j(v);w(I)||0<I.l(m);)T-=k,A=c(T),I=A.j(v);_(A)&&(A=p),C=C.add(A),m=x(m,I)}return new P(C,m)}t.A=function(m){return R(this,m).h},t.and=function(m){for(var v=Math.max(this.g.length,m.g.length),T=[],k=0;k<v;k++)T[k]=this.i(k)&m.i(k);return new o(T,this.h&m.h)},t.or=function(m){for(var v=Math.max(this.g.length,m.g.length),T=[],k=0;k<v;k++)T[k]=this.i(k)|m.i(k);return new o(T,this.h|m.h)},t.xor=function(m){for(var v=Math.max(this.g.length,m.g.length),T=[],k=0;k<v;k++)T[k]=this.i(k)^m.i(k);return new o(T,this.h^m.h)};function M(m){for(var v=m.g.length+1,T=[],k=0;k<v;k++)T[k]=m.i(k)<<1|m.i(k-1)>>>31;return new o(T,m.h)}function N(m,v){var T=v>>5;v%=32;for(var k=m.g.length-T,C=[],A=0;A<k;A++)C[A]=0<v?m.i(A+T)>>>v|m.i(A+T+1)<<32-v:m.i(A+T);return new o(C,m.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,X1=o}).apply(typeof Yv<"u"?Yv:typeof self<"u"?self:typeof window<"u"?window:{});var iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J1,Z1,Zo,ex,Tu,Ed,tx,nx,ix;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,g){return u==Array.prototype||u==Object.prototype||(u[d]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof iu=="object"&&iu];for(var d=0;d<u.length;++d){var g=u[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var i=n(this);function r(u,d){if(d)e:{var g=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var O=u[S];if(!(O in g))break e;g=g[O]}u=u[u.length-1],S=g[u],d=d(S),d!=S&&d!=null&&e(g,u,{configurable:!0,writable:!0,value:d})}}function s(u,d){u instanceof String&&(u+="");var g=0,S=!1,O={next:function(){if(!S&&g<u.length){var F=g++;return{value:d(F,u[F]),done:!1}}return S=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}r("Array.prototype.values",function(u){return u||function(){return s(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function c(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function h(u,d,g){return u.call.apply(u.bind,arguments)}function f(u,d,g){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,S),u.apply(d,O)}}return function(){return u.apply(d,arguments)}}function p(u,d,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function y(u,d){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function _(u,d){function g(){}g.prototype=d.prototype,u.aa=d.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(S,O,F){for(var W=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)W[ke-2]=arguments[ke];return d.prototype[O].apply(S,W)}}function w(u){const d=u.length;if(0<d){const g=Array(d);for(let S=0;S<d;S++)g[S]=u[S];return g}return[]}function b(u,d){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(l(S)){const O=u.length||0,F=S.length||0;u.length=O+F;for(let W=0;W<F;W++)u[O+W]=S[W]}else u.push(S)}}class x{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function E(u){return/^[\s\xa0]*$/.test(u)}function P(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var M=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function N(u,d,g){for(const S in u)d.call(g,u[S],S,u)}function m(u,d){for(const g in u)d.call(void 0,u[g],g,u)}function v(u){const d={};for(const g in u)d[g]=u[g];return d}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,d){let g,S;for(let O=1;O<arguments.length;O++){S=arguments[O];for(g in S)u[g]=S[g];for(let F=0;F<T.length;F++)g=T[F],Object.prototype.hasOwnProperty.call(S,g)&&(u[g]=S[g])}}function C(u){var d=1;u=u.split(":");const g=[];for(;0<d&&u.length;)g.push(u.shift()),d--;return u.length&&g.push(u.join(":")),g}function A(u){a.setTimeout(()=>{throw u},0)}function I(){var u=X;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class ue{constructor(){this.h=this.g=null}add(d,g){const S=le.get();S.set(d,g),this.h?this.h.next=S:this.g=S,this.h=S}}var le=new x(()=>new Te,u=>u.reset());class Te{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let be,j=!1,X=new ue,ee=()=>{const u=a.Promise.resolve(void 0);be=()=>{u.then(pe)}};var pe=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(g){A(g)}var d=le;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}j=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ue=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,d),a.removeEventListener("test",g,d)}catch{}return u}();function Re(u,d){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(M){e:{try{R(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else g=="mouseover"?d=u.fromElement:g=="mouseout"&&(d=u.toElement);this.relatedTarget=d,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Re.aa.h.call(this)}}_(Re,me);var De={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),fo=0;function rh(u,d,g,S,O){this.listener=u,this.proxy=null,this.src=d,this.type=g,this.capture=!!S,this.ha=O,this.key=++fo,this.da=this.fa=!1}function is(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function rs(u){this.src=u,this.g={},this.h=0}rs.prototype.add=function(u,d,g,S,O){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var W=Gn(u,d,S,O);return-1<W?(d=u[W],g||(d.fa=!1)):(d=new rh(d,this.src,F,!!S,O),d.fa=g,u.push(d)),d};function _t(u,d){var g=d.type;if(g in u.g){var S=u.g[g],O=Array.prototype.indexOf.call(S,d,void 0),F;(F=0<=O)&&Array.prototype.splice.call(S,O,1),F&&(is(d),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Gn(u,d,g,S){for(var O=0;O<u.length;++O){var F=u[O];if(!F.da&&F.listener==d&&F.capture==!!g&&F.ha==S)return O}return-1}var ss="closure_lm_"+(1e6*Math.random()|0),po={};function Vn(u,d,g,S,O){if(Array.isArray(d)){for(var F=0;F<d.length;F++)Vn(u,d[F],g,S,O);return null}return g=as(g),u&&u[vt]?u.K(d,g,c(S)?!!S.capture:!!S,O):sh(u,d,g,!1,S,O)}function sh(u,d,g,S,O,F){if(!d)throw Error("Invalid event type");var W=c(O)?!!O.capture:!!O,ke=qn(u);if(ke||(u[ss]=ke=new rs(u)),g=ke.add(d,g,S,W,F),g.proxy)return g;if(S=oh(),g.proxy=S,S.src=u,S.listener=g,u.addEventListener)Ue||(O=W),O===void 0&&(O=!1),u.addEventListener(d.toString(),S,O);else if(u.attachEvent)u.attachEvent(hl(d.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function oh(){function u(g){return d.call(u.src,u.listener,g)}const d=dr;return u}function cl(u,d,g,S,O){if(Array.isArray(d))for(var F=0;F<d.length;F++)cl(u,d[F],g,S,O);else S=c(S)?!!S.capture:!!S,g=as(g),u&&u[vt]?(u=u.i,d=String(d).toString(),d in u.g&&(F=u.g[d],g=Gn(F,g,S,O),-1<g&&(is(F[g]),Array.prototype.splice.call(F,g,1),F.length==0&&(delete u.g[d],u.h--)))):u&&(u=qn(u))&&(d=u.g[d.toString()],u=-1,d&&(u=Gn(d,g,S,O)),(g=-1<u?d[u]:null)&&go(g))}function go(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[vt])_t(d.i,u);else{var g=u.type,S=u.proxy;d.removeEventListener?d.removeEventListener(g,S,u.capture):d.detachEvent?d.detachEvent(hl(g),S):d.addListener&&d.removeListener&&d.removeListener(S),(g=qn(d))?(_t(g,u),g.h==0&&(g.src=null,d[ss]=null)):is(u)}}}function hl(u){return u in po?po[u]:po[u]="on"+u}function dr(u,d){if(u.da)u=!0;else{d=new Re(d,this);var g=u.listener,S=u.ha||u.src;u.fa&&go(u),u=g.call(S,d)}return u}function qn(u){return u=u[ss],u instanceof rs?u:null}var os="__closure_events_fn_"+(1e9*Math.random()>>>0);function as(u){return typeof u=="function"?u:(u[os]||(u[os]=function(d){return u.handleEvent(d)}),u[os])}function Me(){oe.call(this),this.i=new rs(this),this.M=this,this.F=null}_(Me,oe),Me.prototype[vt]=!0,Me.prototype.removeEventListener=function(u,d,g,S){cl(this,u,d,g,S)};function tt(u,d){var g,S=u.F;if(S)for(g=[];S;S=S.F)g.push(S);if(u=u.M,S=d.type||d,typeof d=="string")d=new me(d,u);else if(d instanceof me)d.target=d.target||u;else{var O=d;d=new me(S,u),k(d,O)}if(O=!0,g)for(var F=g.length-1;0<=F;F--){var W=d.g=g[F];O=pr(W,S,!0,d)&&O}if(W=d.g=u,O=pr(W,S,!0,d)&&O,O=pr(W,S,!1,d)&&O,g)for(F=0;F<g.length;F++)W=d.g=g[F],O=pr(W,S,!1,d)&&O}Me.prototype.N=function(){if(Me.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var g=u.g[d],S=0;S<g.length;S++)is(g[S]);delete u.g[d],u.h--}}this.F=null},Me.prototype.K=function(u,d,g,S){return this.i.add(String(u),d,!1,g,S)},Me.prototype.L=function(u,d,g,S){return this.i.add(String(u),d,!0,g,S)};function pr(u,d,g,S){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,F=0;F<d.length;++F){var W=d[F];if(W&&!W.da&&W.capture==g){var ke=W.listener,Et=W.ha||W.src;W.fa&&_t(u.i,W),O=ke.call(Et,S)!==!1&&O}}return O&&!S.defaultPrevented}function gr(u,d,g){if(typeof u=="function")g&&(u=p(u,g));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(u,d||0)}function fl(u){u.g=gr(()=>{u.g=null,u.i&&(u.i=!1,fl(u))},u.l);const d=u.h;u.h=null,u.m.apply(null,d)}class zn extends oe{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:fl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(u){oe.call(this),this.h=u,this.g={}}_(Ei,oe);var mo=[];function yo(u){N(u.g,function(d,g){this.g.hasOwnProperty(g)&&go(d)},u),u.g={}}Ei.prototype.N=function(){Ei.aa.N.call(this),yo(this)},Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vo=a.JSON.stringify,dl=a.JSON.parse,ls=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function us(){}us.prototype.h=null;function cs(u){return u.h||(u.h=u.i())}function pl(){}var Si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _o(){me.call(this,"d")}_(_o,me);function hs(){me.call(this,"c")}_(hs,me);var Yn={},D=null;function L(){return D=D||new Me}Yn.La="serverreachability";function V(u){me.call(this,Yn.La,u)}_(V,me);function H(u){const d=L();tt(d,new V(d))}Yn.STAT_EVENT="statevent";function G(u,d){me.call(this,Yn.STAT_EVENT,u),this.stat=d}_(G,me);function Y(u){const d=L();tt(d,new G(d,u))}Yn.Ma="timingevent";function J(u,d){me.call(this,Yn.Ma,u),this.size=d}_(J,me);function Q(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},d)}function ne(){this.g=!0}ne.prototype.xa=function(){this.g=!1};function re(u,d,g,S,O,F){u.info(function(){if(u.g)if(F)for(var W="",ke=F.split("&"),Et=0;Et<ke.length;Et++){var xe=ke[Et].split("=");if(1<xe.length){var Ct=xe[0];xe=xe[1];var At=Ct.split("_");W=2<=At.length&&At[1]=="type"?W+(Ct+"="+xe+"&"):W+(Ct+"=redacted&")}}else W=null;else W=F;return"XMLHTTP REQ ("+S+") [attempt "+O+"]: "+d+`
`+g+`
`+W})}function lt(u,d,g,S,O,F,W){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+O+"]: "+d+`
`+g+`
`+F+" "+W})}function ze(u,d,g,S){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+Pe(u,g)+(S?" "+S:"")})}function te(u,d){u.info(function(){return"TIMEOUT: "+d})}ne.prototype.info=function(){};function Pe(u,d){if(!u.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var S=g[u];if(!(2>S.length)){var O=S[1];if(Array.isArray(O)&&!(1>O.length)){var F=O[0];if(F!="noop"&&F!="stop"&&F!="close")for(var W=1;W<O.length;W++)O[W]=""}}}}return vo(g)}catch{return d}}var He={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ti={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dn;function bn(){}_(bn,us),bn.prototype.g=function(){return new XMLHttpRequest},bn.prototype.i=function(){return{}},dn=new bn;function Bt(u,d,g,S){this.j=u,this.i=d,this.l=g,this.R=S||1,this.U=new Ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var en={},bi={};function ki(u,d,g){u.L=1,u.v=yl(ei(d)),u.m=g,u.P=!0,mr(u,null)}function mr(u,d){u.F=Date.now(),xt(u),u.A=ei(u.v);var g=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Eg(g.i,"t",S),u.C=0,g=u.j.J,u.h=new Xn,u.g=jg(u.j,g?d:null,!u.m),0<u.O&&(u.M=new zn(p(u.Y,u,u.g),u.O)),d=u.U,g=u.g,S=u.ca;var O="readystatechange";Array.isArray(O)||(O&&(mo[0]=O.toString()),O=mo);for(var F=0;F<O.length;F++){var W=Vn(g,O[F],S||d.handleEvent,!1,d.h||d);if(!W)break;d.g[W.key]=W}d=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),H(),re(u.i,u.u,u.A,u.l,u.R,u.m)}Bt.prototype.ca=function(u){u=u.target;const d=this.M;d&&ti(u)==3?d.j():this.Y(u)},Bt.prototype.Y=function(u){try{if(u==this.g)e:{const At=ti(this.g);var d=this.g.Ba();const ps=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Cg(this.g)))){this.J||At!=4||d==7||(d==8||0>=ps?H(3):H(2)),Jn(this);var g=this.g.Z();this.X=g;t:if(ce(this)){var S=Cg(this.g);u="";var O=S.length,F=ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zn(this),Pi(this);var W="";break t}this.h.i=new a.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,u+=this.h.i.decode(S[d],{stream:!(F&&d==O-1)});S.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,lt(this.i,this.u,this.A,this.l,this.R,At,g),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,Et=this.g;if((ke=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(ke)){var xe=ke;break t}}xe=null}if(g=xe)ze(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ah(this,g);else{this.o=!1,this.s=3,Y(12),Zn(this),Pi(this);break e}}if(this.P){g=!0;let kn;for(;!this.J&&this.C<W.length;)if(kn=wt(this,W),kn==bi){At==4&&(this.s=4,Y(14),g=!1),ze(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==en){this.s=4,Y(15),ze(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else ze(this.i,this.l,kn,null),ah(this,kn);if(ce(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||W.length!=0||this.h.h||(this.s=1,Y(16),g=!1),this.o=this.o&&g,!g)ze(this.i,this.l,W,"[Invalid Chunked Response]"),Zn(this),Pi(this);else if(0<W.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),dh(Ct),Ct.M=!0,Y(11))}}else ze(this.i,this.l,W,null),ah(this,W);At==4&&Zn(this),this.o&&!this.J&&(At==4?Ng(this.j,this):(this.o=!1,xt(this)))}else yE(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,Y(12)):(this.s=0,Y(13)),Zn(this),Pi(this)}}}catch{}finally{}};function ce(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function wt(u,d){var g=u.C,S=d.indexOf(`
`,g);return S==-1?bi:(g=Number(d.substring(g,S)),isNaN(g)?en:(S+=1,S+g>d.length?bi:(d=d.slice(S,S+g),u.C=S+g,d)))}Bt.prototype.cancel=function(){this.J=!0,Zn(this)};function xt(u){u.S=Date.now()+u.I,it(u,u.I)}function it(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Q(p(u.ba,u),d)}function Jn(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Bt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(te(this.i,this.A),this.L!=2&&(H(),Y(17)),Zn(this),this.s=2,Pi(this)):it(this,this.S-u)};function Pi(u){u.j.G==0||u.J||Ng(u.j,u)}function Zn(u){Jn(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,yo(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function ah(u,d){try{var g=u.j;if(g.G!=0&&(g.g==u||lh(g.h,u))){if(!u.K&&lh(g.h,u)&&g.G==3){try{var S=g.Da.g.parse(d)}catch{S=null}if(Array.isArray(S)&&S.length==3){var O=S;if(O[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)El(g),wl(g);else break e;fh(g),Y(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=Q(p(g.Za,g),6e3));if(1>=dg(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else vr(g,11)}else if((u.K||g.g==u)&&El(g),!E(d))for(O=g.Da.g.parse(d),d=0;d<O.length;d++){let xe=O[d];if(g.T=xe[0],xe=xe[1],g.G==2)if(xe[0]=="c"){g.K=xe[1],g.ia=xe[2];const Ct=xe[3];Ct!=null&&(g.la=Ct,g.j.info("VER="+g.la));const At=xe[4];At!=null&&(g.Aa=At,g.j.info("SVER="+g.Aa));const ps=xe[5];ps!=null&&typeof ps=="number"&&0<ps&&(S=1.5*ps,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const kn=u.g;if(kn){const Tl=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tl){var F=S.h;F.g||Tl.indexOf("spdy")==-1&&Tl.indexOf("quic")==-1&&Tl.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(uh(F,F.h),F.h=null))}if(S.D){const ph=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;ph&&(S.ya=ph,Oe(S.I,S.D,ph))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var W=u;if(S.qa=zg(S,S.J?S.ia:null,S.W),W.K){pg(S.h,W);var ke=W,Et=S.L;Et&&(ke.I=Et),ke.B&&(Jn(ke),xt(ke)),S.g=W}else Og(S);0<g.i.length&&xl(g)}else xe[0]!="stop"&&xe[0]!="close"||vr(g,7);else g.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?vr(g,7):hh(g):xe[0]!="noop"&&g.l&&g.l.ta(xe),g.v=0)}}H(4)}catch{}}var tE=class{constructor(u,d){this.g=u,this.map=d}};function hg(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fg(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function dg(u){return u.h?1:u.g?u.g.size:0}function lh(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function uh(u,d){u.g?u.g.add(d):u.h=d}function pg(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}hg.prototype.cancel=function(){if(this.i=gg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function gg(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(const g of u.g.values())d=d.concat(g.D);return d}return w(u.i)}function nE(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var d=[],g=u.length,S=0;S<g;S++)d.push(u[S]);return d}d=[],g=0;for(S in u)d[g++]=u[S];return d}function iE(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var d=[];u=u.length;for(var g=0;g<u;g++)d.push(g);return d}d=[],g=0;for(const S in u)d[g++]=S;return d}}}function mg(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var g=iE(u),S=nE(u),O=S.length,F=0;F<O;F++)d.call(void 0,S[F],g&&g[F],u)}var yg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rE(u,d){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var S=u[g].indexOf("="),O=null;if(0<=S){var F=u[g].substring(0,S);O=u[g].substring(S+1)}else F=u[g];d(F,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function yr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof yr){this.h=u.h,gl(this,u.j),this.o=u.o,this.g=u.g,ml(this,u.s),this.l=u.l;var d=u.i,g=new Eo;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),vg(this,g),this.m=u.m}else u&&(d=String(u).match(yg))?(this.h=!1,gl(this,d[1]||"",!0),this.o=wo(d[2]||""),this.g=wo(d[3]||"",!0),ml(this,d[4]),this.l=wo(d[5]||"",!0),vg(this,d[6]||"",!0),this.m=wo(d[7]||"")):(this.h=!1,this.i=new Eo(null,this.h))}yr.prototype.toString=function(){var u=[],d=this.j;d&&u.push(xo(d,_g,!0),":");var g=this.g;return(g||d=="file")&&(u.push("//"),(d=this.o)&&u.push(xo(d,_g,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(xo(g,g.charAt(0)=="/"?aE:oE,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",xo(g,uE)),u.join("")};function ei(u){return new yr(u)}function gl(u,d,g){u.j=g?wo(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function ml(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function vg(u,d,g){d instanceof Eo?(u.i=d,cE(u.i,u.h)):(g||(d=xo(d,lE)),u.i=new Eo(d,u.h))}function Oe(u,d,g){u.i.set(d,g)}function yl(u){return Oe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function wo(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function xo(u,d,g){return typeof u=="string"?(u=encodeURI(u).replace(d,sE),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sE(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _g=/[#\/\?@]/g,oE=/[#\?:]/g,aE=/[#\?]/g,lE=/[#\?@]/g,uE=/#/g;function Eo(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function Ii(u){u.g||(u.g=new Map,u.h=0,u.i&&rE(u.i,function(d,g){u.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}t=Eo.prototype,t.add=function(u,d){Ii(this),this.i=null,u=fs(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(d),this.h+=1,this};function wg(u,d){Ii(u),d=fs(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function xg(u,d){return Ii(u),d=fs(u,d),u.g.has(d)}t.forEach=function(u,d){Ii(this),this.g.forEach(function(g,S){g.forEach(function(O){u.call(d,O,S,this)},this)},this)},t.na=function(){Ii(this);const u=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let S=0;S<d.length;S++){const O=u[S];for(let F=0;F<O.length;F++)g.push(d[S])}return g},t.V=function(u){Ii(this);let d=[];if(typeof u=="string")xg(this,u)&&(d=d.concat(this.g.get(fs(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)d=d.concat(u[g])}return d},t.set=function(u,d){return Ii(this),this.i=null,u=fs(this,u),xg(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},t.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function Eg(u,d,g){wg(u,d),0<g.length&&(u.i=null,u.g.set(fs(u,d),w(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var S=d[g];const F=encodeURIComponent(String(S)),W=this.V(S);for(S=0;S<W.length;S++){var O=F;W[S]!==""&&(O+="="+encodeURIComponent(String(W[S]))),u.push(O)}}return this.i=u.join("&")};function fs(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function cE(u,d){d&&!u.j&&(Ii(u),u.i=null,u.g.forEach(function(g,S){var O=S.toLowerCase();S!=O&&(wg(this,S),Eg(this,O,g))},u)),u.j=d}function hE(u,d){const g=new ne;if(a.Image){const S=new Image;S.onload=y(Ci,g,"TestLoadImage: loaded",!0,d,S),S.onerror=y(Ci,g,"TestLoadImage: error",!1,d,S),S.onabort=y(Ci,g,"TestLoadImage: abort",!1,d,S),S.ontimeout=y(Ci,g,"TestLoadImage: timeout",!1,d,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else d(!1)}function fE(u,d){const g=new ne,S=new AbortController,O=setTimeout(()=>{S.abort(),Ci(g,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:S.signal}).then(F=>{clearTimeout(O),F.ok?Ci(g,"TestPingServer: ok",!0,d):Ci(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),Ci(g,"TestPingServer: error",!1,d)})}function Ci(u,d,g,S,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),S(g)}catch{}}function dE(){this.g=new ls}function pE(u,d,g){const S=g||"";try{mg(u,function(O,F){let W=O;c(O)&&(W=vo(O)),d.push(S+F+"="+encodeURIComponent(W))})}catch(O){throw d.push(S+"type="+encodeURIComponent("_badmap")),O}}function So(u){this.l=u.Ub||null,this.j=u.eb||!1}_(So,us),So.prototype.g=function(){return new vl(this.l,this.j)},So.prototype.i=function(u){return function(){return u}}({});function vl(u,d){Me.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(vl,Me),t=vl.prototype,t.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,bo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,To(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,bo(this)),this.g&&(this.readyState=3,bo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sg(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sg(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?To(this):bo(this),this.readyState==3&&Sg(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,To(this))},t.Qa=function(u){this.g&&(this.response=u,To(this))},t.ga=function(){this.g&&To(this)};function To(u){u.readyState=4,u.l=null,u.j=null,u.v=null,bo(u)}t.setRequestHeader=function(u,d){this.u.append(u,d)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=d.next();return u.join(`\r
`)};function bo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Tg(u){let d="";return N(u,function(g,S){d+=S,d+=":",d+=g,d+=`\r
`}),d}function ch(u,d,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=Tg(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Oe(u,d,g))}function Ye(u){Me.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Ye,Me);var gE=/^https?$/i,mE=["POST","PUT"];t=Ye.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,d,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dn.g(),this.v=this.o?cs(this.o):cs(dn),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(F){bg(this,F);return}if(u=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var O in S)g.set(O,S[O]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())g.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(F=>F.toLowerCase()=="content-type"),O=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(mE,d,void 0))||S||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,W]of g)this.g.setRequestHeader(F,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ig(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){bg(this,F)}};function bg(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,kg(u),_l(u)}function kg(u){u.A||(u.A=!0,tt(u,"complete"),tt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,tt(this,"complete"),tt(this,"abort"),_l(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_l(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Pg(this):this.bb())},t.bb=function(){Pg(this)};function Pg(u){if(u.h&&typeof o<"u"&&(!u.v[1]||ti(u)!=4||u.Z()!=2)){if(u.u&&ti(u)==4)gr(u.Ea,0,u);else if(tt(u,"readystatechange"),ti(u)==4){u.h=!1;try{const W=u.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var S;if(S=W===0){var O=String(u.D).match(yg)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),S=!gE.test(O?O.toLowerCase():"")}g=S}if(g)tt(u,"complete"),tt(u,"success");else{u.m=6;try{var F=2<ti(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",kg(u)}}finally{_l(u)}}}}function _l(u,d){if(u.g){Ig(u);const g=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||tt(u,"ready");try{g.onreadystatechange=S}catch{}}}function Ig(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),dl(d)}};function Cg(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function yE(u){const d={};u=(u.g&&2<=ti(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(E(u[S]))continue;var g=C(u[S]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const F=d[O]||[];d[O]=F,F.push(g)}m(d,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ko(u,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||d}function Ag(u){this.Aa=0,this.i=[],this.j=new ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ko("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ko("baseRetryDelayMs",5e3,u),this.cb=ko("retryDelaySeedMs",1e4,u),this.Wa=ko("forwardChannelMaxRetries",2,u),this.wa=ko("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new hg(u&&u.concurrentRequestLimit),this.Da=new dE,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ag.prototype,t.la=8,t.G=1,t.connect=function(u,d,g,S){Y(0),this.W=u,this.H=d||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=zg(this,null,this.W),xl(this)};function hh(u){if(Rg(u),u.G==3){var d=u.U++,g=ei(u.I);if(Oe(g,"SID",u.K),Oe(g,"RID",d),Oe(g,"TYPE","terminate"),Po(u,g),d=new Bt(u,u.j,d),d.L=2,d.v=yl(ei(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=d.v,g=!0),g||(d.g=jg(d.j,null),d.g.ea(d.v)),d.F=Date.now(),xt(d)}Vg(u)}function wl(u){u.g&&(dh(u),u.g.cancel(),u.g=null)}function Rg(u){wl(u),u.u&&(a.clearTimeout(u.u),u.u=null),El(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function xl(u){if(!fg(u.h)&&!u.s){u.s=!0;var d=u.Ga;be||ee(),j||(be(),j=!0),X.add(d,u),u.B=0}}function vE(u,d){return dg(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Q(p(u.Ga,u,d),Fg(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const O=new Bt(this,this.j,u);let F=this.o;if(this.S&&(F?(F=v(F),k(F,this.S)):F=this.S),this.m!==null||this.O||(O.H=F,F=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(d+=S,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Mg(this,O,d),g=ei(this.I),Oe(g,"RID",u),Oe(g,"CVER",22),this.D&&Oe(g,"X-HTTP-Session-Id",this.D),Po(this,g),F&&(this.O?d="headers="+encodeURIComponent(String(Tg(F)))+"&"+d:this.m&&ch(g,this.m,F)),uh(this.h,O),this.Ua&&Oe(g,"TYPE","init"),this.P?(Oe(g,"$req",d),Oe(g,"SID","null"),O.T=!0,ki(O,g,null)):ki(O,g,d),this.G=2}}else this.G==3&&(u?Dg(this,u):this.i.length==0||fg(this.h)||Dg(this))};function Dg(u,d){var g;d?g=d.l:g=u.U++;const S=ei(u.I);Oe(S,"SID",u.K),Oe(S,"RID",g),Oe(S,"AID",u.T),Po(u,S),u.m&&u.o&&ch(S,u.m,u.o),g=new Bt(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),d&&(u.i=d.D.concat(u.i)),d=Mg(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),uh(u.h,g),ki(g,S,d)}function Po(u,d){u.H&&N(u.H,function(g,S){Oe(d,S,g)}),u.l&&mg({},function(g,S){Oe(d,S,g)})}function Mg(u,d,g){g=Math.min(u.i.length,g);var S=u.l?p(u.l.Na,u.l,u):null;e:{var O=u.i;let F=-1;for(;;){const W=["count="+g];F==-1?0<g?(F=O[0].g,W.push("ofs="+F)):F=0:W.push("ofs="+F);let ke=!0;for(let Et=0;Et<g;Et++){let xe=O[Et].g;const Ct=O[Et].map;if(xe-=F,0>xe)F=Math.max(0,O[Et].g-100),ke=!1;else try{pE(Ct,W,"req"+xe+"_")}catch{S&&S(Ct)}}if(ke){S=W.join("&");break e}}}return u=u.i.splice(0,g),d.D=u,S}function Og(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;be||ee(),j||(be(),j=!0),X.add(d,u),u.v=0}}function fh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Q(p(u.Fa,u),Fg(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Lg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Q(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Y(10),wl(this),Lg(this))};function dh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Lg(u){u.g=new Bt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=ei(u.qa);Oe(d,"RID","rpc"),Oe(d,"SID",u.K),Oe(d,"AID",u.T),Oe(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&Oe(d,"TO",u.ja),Oe(d,"TYPE","xmlhttp"),Po(u,d),u.m&&u.o&&ch(d,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=yl(ei(d)),g.m=null,g.P=!0,mr(g,u)}t.Za=function(){this.C!=null&&(this.C=null,wl(this),fh(this),Y(19))};function El(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Ng(u,d){var g=null;if(u.g==d){El(u),dh(u),u.g=null;var S=2}else if(lh(u.h,d))g=d.D,pg(u.h,d),S=1;else return;if(u.G!=0){if(d.o)if(S==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var O=u.B;S=L(),tt(S,new J(S,g)),xl(u)}else Og(u);else if(O=d.s,O==3||O==0&&0<d.X||!(S==1&&vE(u,d)||S==2&&fh(u)))switch(g&&0<g.length&&(d=u.h,d.i=d.i.concat(g)),O){case 1:vr(u,5);break;case 4:vr(u,10);break;case 3:vr(u,6);break;default:vr(u,2)}}}function Fg(u,d){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*d}function vr(u,d){if(u.j.info("Error code "+d),d==2){var g=p(u.fb,u),S=u.Xa;const O=!S;S=new yr(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||gl(S,"https"),yl(S),O?hE(S.toString(),g):fE(S.toString(),g)}else Y(2);u.G=0,u.l&&u.l.sa(d),Vg(u),Rg(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Y(2)):(this.j.info("Failed to ping google.com"),Y(1))};function Vg(u){if(u.G=0,u.ka=[],u.l){const d=gg(u.h);(d.length!=0||u.i.length!=0)&&(b(u.ka,d),b(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function zg(u,d,g){var S=g instanceof yr?ei(g):new yr(g);if(S.g!="")d&&(S.g=d+"."+S.g),ml(S,S.s);else{var O=a.location;S=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var F=new yr(null);S&&gl(F,S),d&&(F.g=d),O&&ml(F,O),g&&(F.l=g),S=F}return g=u.D,d=u.ya,g&&d&&Oe(S,g,d),Oe(S,"VER",u.la),Po(u,S),S}function jg(u,d,g){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new Ye(new So({eb:g})):new Ye(u.pa),d.Ha(u.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bg(){}t=Bg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sl(){}Sl.prototype.g=function(u,d){return new tn(u,d)};function tn(u,d){Me.call(this),this.g=new Ag(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!E(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!E(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new ds(this)}_(tn,Me),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){hh(this.g)},tn.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=vo(u),u=g);d.i.push(new tE(d.Ya++,u)),d.G==3&&xl(d)},tn.prototype.N=function(){this.g.l=null,delete this.j,hh(this.g),delete this.g,tn.aa.N.call(this)};function Ug(u){_o.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){e:{for(const g in d){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}_(Ug,_o);function Hg(){hs.call(this),this.status=1}_(Hg,hs);function ds(u){this.g=u}_(ds,Bg),ds.prototype.ua=function(){tt(this.g,"a")},ds.prototype.ta=function(u){tt(this.g,new Ug(u))},ds.prototype.sa=function(u){tt(this.g,new Hg)},ds.prototype.ra=function(){tt(this.g,"b")},Sl.prototype.createWebChannel=Sl.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,ix=function(){return new Sl},nx=function(){return L()},tx=Yn,Ed={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},He.NO_ERROR=0,He.TIMEOUT=8,He.HTTP_ERROR=6,Tu=He,Ti.COMPLETE="complete",ex=Ti,pl.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",Me.prototype.listen=Me.prototype.K,Zo=pl,Z1=So,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,J1=Ye}).apply(typeof iu<"u"?iu:typeof self<"u"?self:typeof window<"u"?window:{});const Xv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new W1("@firebase/firestore");function $o(){return qr.logLevel}function Z(t,...e){if(qr.logLevel<=_e.DEBUG){const n=e.map(Yp);qr.debug(`Firestore (${co}): ${t}`,...n)}}function Yr(t,...e){if(qr.logLevel<=_e.ERROR){const n=e.map(Yp);qr.error(`Firestore (${co}): ${t}`,...n)}}function dc(t,...e){if(qr.logLevel<=_e.WARN){const n=e.map(Yp);qr.warn(`Firestore (${co}): ${t}`,...n)}}function Yp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: `+t;throw Yr(e),new Error(e)}function yt(t,e){t||ge()}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends uo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class $2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class W2{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vr,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(yt(typeof i.accessToken=="string"),new rx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string"),new Lt(e)}}class K2{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Q2{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new K2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yt(typeof n.token=="string"),this.R=n.token,new G2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=Y2(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function Ce(t,e){return t<e?-1:t>e?1:0}function eo(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new mt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new $e(e)}static min(){return new $e(new mt(0,0))}static max(){return new $e(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n,i){n===void 0?n=0:n>e.length&&ge(),i===void 0?i=e.length-n:i>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Ka.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ka?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Je extends Ka{construct(e,n,i){return new Je(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ie($.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const X2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends Ka{construct(e,n,i){return new kt(e,n,i)}static isValidIdentifier(e){return X2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kt(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new ie($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new ie($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ie($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new ie($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Je.fromString(e))}static fromName(e){return new ae(Je.fromString(e).popFirst(5))}static empty(){return new ae(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Je(e.slice()))}}function J2(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=$e.fromTimestamp(i===1e9?new mt(n+1,0):new mt(n,i));return new rr(r,ae.empty(),e)}function Z2(t){return new rr(t.readTime,t.key,-1)}class rr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new rr($e.min(),ae.empty(),-1)}static max(){return new rr($e.max(),ae.empty(),-1)}}function eD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==tD)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,i)=>{n(e)})}static reject(e){return new B((n,i)=>{i(e)})}static waitFor(e){return new B((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=B.resolve(!1);for(const i of e)n=n.next(r=>r?B.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new B((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&i(o)},h=>r(h))}})}static doWhile(e,n){return new B((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function iD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ax.oe=-1;function Xp(t){return t==null}function pc(t){return t===0&&1/t==-1/0}function rD(t){return typeof t=="number"&&Number.isInteger(t)&&!pc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ol(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){this.comparator=e,this.root=n||Tt.EMPTY}insert(e,n){return new Zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new Zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ru(this.root,e,this.comparator,!0)}}class ru{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??Tt.RED,this.left=r??Tt.EMPTY,this.right=s??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new Tt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Tt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,i,r,s){return this}insert(e,n,i){return new Tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new Zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zv(this.data.getIterator())}getIteratorFrom(e){return new Zv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class Zv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new On([])}unionWith(e){let n=new Vt(kt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return eo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sD("Invalid base64 string: "+s):s}}(e);return new wi(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new wi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wi.EMPTY_BYTE_STRING=new wi("");const oD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(t){if(yt(!!t),typeof t=="string"){let e=0;const n=oD.exec(t);if(yt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qa(t){return typeof t=="string"?wi.fromBase64String(t):wi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ux(t){const e=t.mapValue.fields.__previous_value__;return Jp(e)?ux(e):e}function gc(t){const e=Xr(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,i,r,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class mc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new mc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof mc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function to(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jp(t)?4:lD(t)?9007199254740991:10:ge()}function Qn(t,e){if(t===e)return!0;const n=to(t);if(n!==to(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gc(t).isEqual(gc(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Xr(r.timestampValue),a=Xr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Qa(r.bytesValue).isEqual(Qa(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return bt(r.geoPointValue.latitude)===bt(s.geoPointValue.latitude)&&bt(r.geoPointValue.longitude)===bt(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return bt(r.integerValue)===bt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=bt(r.doubleValue),a=bt(s.doubleValue);return o===a?pc(o)===pc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return eo(t.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(Jv(o)!==Jv(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Qn(o[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function Ga(t,e){return(t.values||[]).find(n=>Qn(n,e))!==void 0}function no(t,e){if(t===e)return 0;const n=to(t),i=to(e);if(n!==i)return Ce(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=bt(s.integerValue||s.doubleValue),l=bt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return e0(t.timestampValue,e.timestampValue);case 4:return e0(gc(t),gc(e));case 5:return Ce(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Qa(s),l=Qa(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=Ce(a[c],l[c]);if(h!==0)return h}return Ce(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ce(bt(s.latitude),bt(o.latitude));return a!==0?a:Ce(bt(s.longitude),bt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const h=no(a[c],l[c]);if(h)return h}return Ce(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===su.mapValue&&o===su.mapValue)return 0;if(s===su.mapValue)return 1;if(o===su.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=Ce(l[f],h[f]);if(p!==0)return p;const y=no(a[l[f]],c[h[f]]);if(y!==0)return y}return Ce(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ge()}}function e0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=Xr(t),i=Xr(e),r=Ce(n.seconds,i.seconds);return r!==0?r:Ce(n.nanos,i.nanos)}function io(t){return Sd(t)}function Sd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Xr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Sd(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${Sd(n.fields[o])}`;return r+"}"}(t.mapValue):ge()}function Td(t){return!!t&&"integerValue"in t}function Zp(t){return!!t&&"arrayValue"in t}function bu(t){return!!t&&"mapValue"in t}function ga(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ol(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=ga(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ga(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!bu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ga(n)}setAll(e){let n=kt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=ga(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());bu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];bu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){ol(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Mn(ga(this.value))}}function cx(t){const e=[];return ol(t.fields,(n,i)=>{const r=new kt([n]);if(bu(i)){const s=cx(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Dn(e,0,$e.min(),$e.min(),$e.min(),Mn.empty(),0)}static newFoundDocument(e,n,i,r){return new Dn(e,1,n,$e.min(),i,r,0)}static newNoDocument(e,n){return new Dn(e,2,n,$e.min(),$e.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,$e.min(),$e.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n){this.position=e,this.inclusive=n}}function t0(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=ae.comparator(ae.fromName(o.referenceValue),n.key):i=no(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function n0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n="asc"){this.field=e,this.dir=n}}function uD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{}class pt extends hx{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new hD(e,n,i):n==="array-contains"?new pD(e,i):n==="in"?new gD(e,i):n==="not-in"?new mD(e,i):n==="array-contains-any"?new yD(e,i):new pt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new fD(e,i):new dD(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(no(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends hx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new sr(e,n)}matches(e){return fx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fx(t){return t.op==="and"}function dx(t){return cD(t)&&fx(t)}function cD(t){for(const e of t.filters)if(e instanceof sr)return!1;return!0}function bd(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+io(t.value);if(dx(t))return t.filters.map(e=>bd(e)).join(",");{const e=t.filters.map(n=>bd(n)).join(",");return`${t.op}(${e})`}}function px(t,e){return t instanceof pt?function(i,r){return r instanceof pt&&i.op===r.op&&i.field.isEqual(r.field)&&Qn(i.value,r.value)}(t,e):t instanceof sr?function(i,r){return r instanceof sr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&px(o,r.filters[a]),!0):!1}(t,e):void ge()}function gx(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(t):t instanceof sr?function(n){return n.op.toString()+" {"+n.getFilters().map(gx).join(" ,")+"}"}(t):"Filter"}class hD extends pt{constructor(e,n,i){super(e,n,i),this.key=ae.fromName(i.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class fD extends pt{constructor(e,n){super(e,"in",n),this.keys=mx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dD extends pt{constructor(e,n){super(e,"not-in",n),this.keys=mx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ae.fromName(i.referenceValue))}class pD extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zp(n)&&Ga(n.arrayValue,this.value)}}class gD extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ga(this.value.arrayValue,n)}}class mD extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ga(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ga(this.value.arrayValue,n)}}class yD extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ga(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function i0(t,e=null,n=[],i=[],r=null,s=null,o=null){return new vD(t,e,n,i,r,s,o)}function eg(t){const e=Ve(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>bd(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Xp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>io(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>io(i)).join(",")),e.ue=n}return e.ue}function tg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!px(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n0(t.startAt,e.startAt)&&n0(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _D(t,e,n,i,r,s,o,a){return new Yc(t,e,n,i,r,s,o,a)}function wD(t){return new Yc(t)}function r0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xD(t){return t.collectionGroup!==null}function ma(t){const e=Ve(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Vt(kt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new vc(s,i))}),n.has(kt.keyField().canonicalString())||e.ce.push(new vc(kt.keyField(),i))}return e.ce}function zr(t){const e=Ve(t);return e.le||(e.le=ED(e,ma(t))),e.le}function ED(t,e){if(t.limitType==="F")return i0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new vc(r.field,s)});const n=t.endAt?new yc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new yc(t.startAt.position,t.startAt.inclusive):null;return i0(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function kd(t,e,n){return new Yc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yx(t,e){return tg(zr(t),zr(e))&&t.limitType===e.limitType}function vx(t){return`${eg(zr(t))}|lt:${t.limitType}`}function Wo(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>gx(r)).join(", ")}]`),Xp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>io(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>io(r)).join(",")),`Target(${i})`}(zr(t))}; limitType=${t.limitType})`}function ng(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):ae.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of ma(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const c=t0(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,ma(i),r)||i.endAt&&!function(o,a,l){const c=t0(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,ma(i),r))}(t,e)}function SD(t){return(e,n)=>{let i=!1;for(const r of ma(t)){const s=TD(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function TD(t,e,n){const i=t.field.isKeyField()?ae.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?no(l,c):ge()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ol(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return lx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new Zt(ae.comparator);function _c(){return bD}const _x=new Zt(ae.comparator);function ou(...t){let e=_x;for(const n of t)e=e.insert(n.key,n);return e}function wx(t){let e=_x;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Or(){return ya()}function xx(){return ya()}function ya(){return new ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const kD=new Zt(ae.comparator),PD=new Vt(ae.comparator);function Ft(...t){let e=PD;for(const n of t)e=e.add(n);return e}const ID=new Vt(Ce);function CD(){return ID}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pc(e)?"-0":e}}function Sx(t){return{integerValue:""+t}}function AD(t,e){return rD(e)?Sx(e):Ex(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this._=void 0}}function RD(t,e,n){return t instanceof wc?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Jp(s)&&(s=ux(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof qa?bx(t,e):t instanceof Ya?kx(t,e):function(r,s){const o=Tx(r,s),a=s0(o)+s0(r.Pe);return Td(o)&&Td(r.Pe)?Sx(a):Ex(r.serializer,a)}(t,e)}function DD(t,e,n){return t instanceof qa?bx(t,e):t instanceof Ya?kx(t,e):n}function Tx(t,e){return t instanceof xc?function(i){return Td(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class wc extends Xc{}class qa extends Xc{constructor(e){super(),this.elements=e}}function bx(t,e){const n=Px(e);for(const i of t.elements)n.some(r=>Qn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Ya extends Xc{constructor(e){super(),this.elements=e}}function kx(t,e){let n=Px(e);for(const i of t.elements)n=n.filter(r=>!Qn(r,i));return{arrayValue:{values:n}}}class xc extends Xc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function s0(t){return bt(t.integerValue||t.doubleValue)}function Px(t){return Zp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function MD(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof qa&&r instanceof qa||i instanceof Ya&&r instanceof Ya?eo(i.elements,r.elements,Qn):i instanceof xc&&r instanceof xc?Qn(i.Pe,r.Pe):i instanceof wc&&r instanceof wc}(t.transform,e.transform)}class OD{constructor(e,n){this.version=e,this.transformResults=n}}class di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ku(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jc{}function Ix(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ax(t.key,di.none()):new al(t.key,t.data,di.none());{const n=t.data,i=Mn.empty();let r=new Vt(kt.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new ns(t.key,i,new On(r.toArray()),di.none())}}function LD(t,e,n){t instanceof al?function(r,s,o){const a=r.value.clone(),l=a0(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ns?function(r,s,o){if(!ku(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=a0(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Cx(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function va(t,e,n,i){return t instanceof al?function(s,o,a,l){if(!ku(s.precondition,o))return a;const c=s.value.clone(),h=l0(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof ns?function(s,o,a,l){if(!ku(s.precondition,o))return a;const c=l0(s.fieldTransforms,l,o),h=o.data;return h.setAll(Cx(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(s,o,a){return ku(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function ND(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=Tx(i.transform,r||null);s!=null&&(n===null&&(n=Mn.empty()),n.set(i.field,s))}return n||null}function o0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&eo(i,r,(s,o)=>MD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class al extends Jc{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ns extends Jc{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Cx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function a0(t,e,n){const i=new Map;yt(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,DD(o,a,n[r]))}return i}function l0(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,RD(s,o,e))}return i}class Ax extends Jc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FD extends Jc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&LD(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=va(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=va(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=xx();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=Ix(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument($e.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ft())}isEqual(e){return this.batchId===e.batchId&&eo(this.mutations,e.mutations,(n,i)=>o0(n,i))&&eo(this.baseMutations,e.baseMutations,(n,i)=>o0(n,i))}}class ig{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){yt(e.mutations.length===i.length);let r=function(){return kD}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new ig(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,ye;function jD(t){switch(t){default:return ge();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function BD(t){if(t===void 0)return Yr("GRPC error has no .code"),$.UNKNOWN;switch(t){case rt.OK:return $.OK;case rt.CANCELLED:return $.CANCELLED;case rt.UNKNOWN:return $.UNKNOWN;case rt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case rt.INTERNAL:return $.INTERNAL;case rt.UNAVAILABLE:return $.UNAVAILABLE;case rt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case rt.NOT_FOUND:return $.NOT_FOUND;case rt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case rt.ABORTED:return $.ABORTED;case rt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case rt.DATA_LOSS:return $.DATA_LOSS;default:return ge()}}(ye=rt||(rt={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new X1([4294967295,4294967295],0);class UD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $D(t,e){return Pd(t,e.toTimestamp())}function Us(t){return yt(!!t),$e.fromTimestamp(function(n){const i=Xr(n);return new mt(i.seconds,i.nanos)}(t))}function Rx(t,e){return Id(t,e).canonicalString()}function Id(t,e){const n=function(r){return new Je(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WD(t){const e=Je.fromString(t);return yt(ZD(e)),e}function Cd(t,e){return Rx(t.databaseId,e.path)}function KD(t){const e=WD(t);return e.length===4?Je.emptyPath():GD(e)}function QD(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GD(t){return yt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function u0(t,e,n){return{name:Cd(t,e),fields:n.value.mapValue.fields}}function qD(t,e){let n;if(e instanceof al)n={update:u0(t,e.key,e.value)};else if(e instanceof Ax)n={delete:Cd(t,e.key)};else if(e instanceof ns)n={update:u0(t,e.key,e.data),updateMask:JD(e.fieldMask)};else{if(!(e instanceof FD))return ge();n={verify:Cd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof wc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ya)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ge()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:$D(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(t,e.precondition)),n}function YD(t,e){return t&&t.length>0?(yt(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Us(r.updateTime):Us(s);return o.isEqual($e.min())&&(o=Us(s)),new OD(o,r.transformResults||[])}(n,e))):[]}function XD(t){let e=KD(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){yt(i===1);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const p=Dx(f);return p instanceof sr&&dx(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(_){return new vc(vs(_.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Xp(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,y=f.values||[];return new yc(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,y=f.values||[];return new yc(y,p)}(n.endAt)),_D(e,r,o,s,a,"F",l,c)}function Dx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=vs(n.unaryFilter.field);return pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=vs(n.unaryFilter.field);return pt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=vs(n.unaryFilter.field);return pt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=vs(n.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return pt.create(vs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sr.create(n.compositeFilter.filters.map(i=>Dx(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function vs(t){return kt.fromServerFormat(t.fieldPath)}function JD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.ct=e}}function tM(t){const e=XD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this._n=new iM}addToCollectionParentIndex(e,n){return this._n.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(rr.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(rr.min())}updateCollectionGroup(e,n,i){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class iM{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Vt(Je.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Vt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ro(0)}static Ln(){return new ro(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.changes=new ho(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?B.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&va(i.mutation,r,On.empty(),mt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ft()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ft()){const r=Or();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=ou();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=Or();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ft()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=_c();const o=ya(),a=function(){return ya()}();return n.forEach((l,c)=>{const h=i.get(c.key);r.has(c.key)&&(h===void 0||h.mutation instanceof ns)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),va(h.mutation,c,h.mutation.getFieldMask(),mt.now())):o.set(c.key,On.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new sM(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const i=ya();let r=new Zt((o,a)=>o-a),s=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=i.get(l)||On.empty();h=a.applyToLocalView(c,h),i.set(l,h);const f=(r.get(a.batchId)||Ft()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,f=xx();h.forEach(p=>{if(!s.has(p)){const y=Ix(n.get(p),i.get(p));y!==null&&f.set(p,y),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return B.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):B.resolve(Or());let a=-1,l=s;return o.next(c=>B.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ft())).next(h=>({batchId:a,changes:wx(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(i=>{let r=ou();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=ou();return this.indexManager.getCollectionParents(e,s).next(a=>B.forEach(a,l=>{const c=function(f,p){return new Yc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Dn.newInvalidDocument(h)))});let a=ou();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&va(h.mutation,c,On.empty(),mt.now()),ng(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return B.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Us(r.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:tM(r.bundledQuery),readTime:Us(r.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.overlays=new Zt(ae.comparator),this.hr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Or();return B.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),B.resolve()}getOverlaysForCollection(e,n,i){const r=Or(),s=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return B.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Zt((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let h=s.get(c.largestBatchId);h===null&&(h=Or(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Or(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=r)););return B.resolve(a)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new zD(n,i));let s=this.hr.get(n);s===void 0&&(s=Ft(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.Pr=new Vt(ft.Ir),this.Tr=new Vt(ft.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const i=new ft(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new ft(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){const n=new ae(new Je([])),i=new ft(n,e),r=new ft(n,e+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ae(new Je([])),i=new ft(n,e),r=new ft(n,e+1);let s=Ft();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ft(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class ft{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ae.comparator(e.key,n.key)||Ce(e.pr,n.pr)}static Er(e,n){return Ce(e.pr,n.pr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Vt(ft.Ir)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new VD(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.wr=this.wr.add(new ft(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.br(i),s=r<0?0:r;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new ft(n,0),r=new ft(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{const a=this.Sr(o.pr);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Vt(Ce);return n.forEach(r=>{const s=new ft(r,0),o=new ft(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),B.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;ae.isDocumentKey(s)||(s=s.child(""));const o=new ft(new ae(s),0);let a=new Vt(Ce);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.pr)),!0)},o),B.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(i=>{const r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){yt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return B.forEach(n.mutations,r=>{const s=new ft(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){const i=new ft(n,0),r=this.wr.firstAfterOrEqual(i);return B.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.vr=e,this.docs=function(){return new Zt(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return B.resolve(i?i.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let i=_c();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Dn.newInvalidDocument(r))}),B.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=_c();const o=n.path,a=new ae(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||eD(Z2(h),i)<=0||(r.has(h.key)||ng(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,i,r){ge()}Fr(e,n){return B.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new hM(this)}getSize(e){return B.resolve(this.size)}}class hM extends rM{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),B.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.persistence=e,this.Mr=new ho(n=>eg(n),tg),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.Or=0,this.Nr=new rg,this.targetCount=0,this.Lr=ro.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),B.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ro(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.qn(n),B.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),B.waitFor(s).next(()=>r)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const i=this.Mr.get(n)||null;return B.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),B.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Nr.gr(n);return B.resolve(i)}containsKey(e,n){return B.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this.Br={},this.overlays={},this.kr=new ax(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new fM(this),this.indexManager=new nM,this.remoteDocumentCache=function(r){return new cM(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new eM(n),this.$r=new aM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new uM(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){Z("MemoryPersistence","Starting transaction:",e);const r=new pM(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,n){return B.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class pM extends nD{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.zr=new rg,this.jr=null}static Hr(e){return new sg(e)}get Jr(){if(this.jr)return this.jr;throw ge()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),B.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),B.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Jr,i=>{const r=ae.fromPath(i);return this.Yr(e,r).next(s=>{s||n.removeEntry(r,$e.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return B.or([()=>B.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=Ft(),r=Ft();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new og(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return kR()?8:iD(TR())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new gM;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?($o()<=_e.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",Wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),B.resolve()):($o()<=_e.DEBUG&&Z("QueryEngine","Query:",Wo(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?($o()<=_e.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",Wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(n))):B.resolve())}ji(e,n){if(r0(n))return B.resolve(null);let i=zr(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=kd(n,null,"F"),i=zr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=Ft(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,kd(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,i,r){return r0(n)||r.isEqual($e.min())?B.resolve(null):this.zi.getDocuments(e,i).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,i,r)?B.resolve(null):($o()<=_e.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Wo(n)),this.es(e,o,n,J2(r,-1)).next(a=>a))})}Zi(e,n){let i=new Vt(SD(e));return n.forEach((r,s)=>{ng(e,s)&&(i=i.add(s))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,n,i){return $o()<=_e.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Wo(n)),this.zi.getDocumentsMatchingQuery(e,n,rr.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new Zt(Ce),this.rs=new ho(s=>eg(s),tg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oM(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function vM(t,e,n,i){return new yM(t,e,n,i)}async function Mx(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=Ft();for(const c of r){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(i,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function _M(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const f=c.batch,p=f.keys();let y=B.resolve();return p.forEach(_=>{y=y.next(()=>h.getEntry(l,_)).next(w=>{const b=c.docVersions.get(_);yt(b!==null),w.version.compareTo(b)<0&&(f.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),h.addEntry(w)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Ft();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function wM(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function xM(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}class c0{constructor(){this.activeTargetIds=CD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EM{constructor(){this.no=new c0,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new c0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au=null;function rf(){return au===null?au=function(){return 268435456+Math.round(2147483648*Math.random())}():au++,"0x"+au.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class kM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+n.host,this.So=`projects/${r}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(n,i,r,s,o){const a=rf(),l=this.vo(n,i.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,l,c,r).then(h=>(Z("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw dc("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}xo(n,i,r,s,o,a){return this.Co(n,i,r,s,o)}Fo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+co}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}vo(n,i){const r=TM[n];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,i,r){const s=rf();return new Promise((o,a)=>{const l=new J1;l.setWithCredentials(!0),l.listenOnce(ex.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Tu.NO_ERROR:const h=l.getResponseJson();Z(Mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Tu.TIMEOUT:Z(Mt,`RPC '${e}' ${s} timed out`),a(new ie($.DEADLINE_EXCEEDED,"Request time out"));break;case Tu.HTTP_ERROR:const f=l.getStatus();if(Z(Mt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const _=function(b){const x=b.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(x)>=0?x:$.UNKNOWN}(y.status);a(new ie(_,y.message))}else a(new ie($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ie($.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{Z(Mt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(r);Z(Mt,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",c,i,15)})}Oo(e,n,i){const r=rf(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ix(),a=nx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new Z1({})),this.Fo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=s.join("");Z(Mt,`Creating RPC '${e}' stream ${r}: ${h}`,l);const f=o.createWebChannel(h,l);let p=!1,y=!1;const _=new bM({lo:b=>{y?Z(Mt,`Not sending because RPC '${e}' stream ${r} is closed:`,b):(p||(Z(Mt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),p=!0),Z(Mt,`RPC '${e}' stream ${r} sending:`,b),f.send(b))},ho:()=>f.close()}),w=(b,x,E)=>{b.listen(x,P=>{try{E(P)}catch(R){setTimeout(()=>{throw R},0)}})};return w(f,Zo.EventType.OPEN,()=>{y||(Z(Mt,`RPC '${e}' stream ${r} transport opened.`),_.mo())}),w(f,Zo.EventType.CLOSE,()=>{y||(y=!0,Z(Mt,`RPC '${e}' stream ${r} transport closed`),_.po())}),w(f,Zo.EventType.ERROR,b=>{y||(y=!0,dc(Mt,`RPC '${e}' stream ${r} transport errored:`,b),_.po(new ie($.UNAVAILABLE,"The operation could not be completed")))}),w(f,Zo.EventType.MESSAGE,b=>{var x;if(!y){const E=b.data[0];yt(!!E);const P=E,R=P.error||((x=P[0])===null||x===void 0?void 0:x.error);if(R){Z(Mt,`RPC '${e}' stream ${r} received error:`,R);const M=R.status;let N=function(T){const k=rt[T];if(k!==void 0)return BD(k)}(M),m=R.message;N===void 0&&(N=$.INTERNAL,m="Unknown error status: "+M+" with message "+R.message),y=!0,_.po(new ie(N,m)),f.close()}else Z(Mt,`RPC '${e}' stream ${r} received:`,E),_.yo(E)}}),w(a,tx.STAT_EVENT,b=>{b.stat===Ed.PROXY?Z(Mt,`RPC '${e}' stream ${r} detected buffering proxy`):b.stat===Ed.NOPROXY&&Z(Mt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{_.fo()},0),_}}function sf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t){return new UD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n,i=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=i,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,n-i);r>0&&Z("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n,i,r,s,o,a,l){this.oi=e,this.Go=i,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Ox(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===n&&this.u_(i,r)},i=>{e(()=>{const r=new ie($.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(e,n){const i=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IM extends PM{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=YD(e.writeResults,e.commitTime),i=Us(e.commitTime);return this.listener.A_(i,n)}return yt(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=QD(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>qD(this.serializer,i))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,Id(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie($.UNKNOWN,s.toString())})}xo(e,n,i,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,Id(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie($.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class AM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Yr(n),this.y_=!1):Z("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{i.enqueueAndForget(async()=>{ul(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ve(l);c.M_.add(4),await ll(c),c.N_.set("Unknown"),c.M_.delete(4),await eh(c)}(this))})}),this.N_=new AM(i,r)}}async function eh(t){if(ul(t))for(const e of t.x_)await e(!0)}async function ll(t){for(const e of t.x_)await e(!1)}function ul(t){return Ve(t).M_.size===0}async function Lx(t,e,n){if(!qc(e))throw e;t.M_.add(1),await ll(t),t.N_.set("Offline"),n||(n=()=>wM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await eh(t)})}function Nx(t,e){return e().catch(n=>Lx(t,n,e))}async function th(t){const e=Ve(t),n=or(e);let i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;DM(e);)try{const r=await xM(e.localStore,i);if(r===null){e.v_.length===0&&n.n_();break}i=r.batchId,MM(e,r)}catch(r){await Lx(e,r)}Fx(e)&&Vx(e)}function DM(t){return ul(t)&&t.v_.length<10}function MM(t,e){t.v_.push(e);const n=or(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function Fx(t){return ul(t)&&!or(t).Zo()&&t.v_.length>0}function Vx(t){or(t).start()}async function OM(t){or(t).V_()}async function LM(t){const e=or(t);for(const n of t.v_)e.d_(n.mutations)}async function NM(t,e,n){const i=t.v_.shift(),r=ig.from(i,e,n);await Nx(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await th(t)}async function FM(t,e){e&&or(t).E_&&await async function(i,r){if(function(o){return jD(o)&&o!==$.ABORTED}(r.code)){const s=i.v_.shift();or(i).t_(),await Nx(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await th(i)}}(t,e),Fx(t)&&Vx(t)}async function f0(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const i=ul(n);n.M_.add(3),await ll(n),i&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await eh(n)}async function VM(t,e){const n=Ve(t);e?(n.M_.delete(2),await eh(n)):e||(n.M_.add(2),await ll(n),n.N_.set("Unknown"))}function or(t){return t.k_||(t.k_=function(n,i,r){const s=Ve(n);return s.f_(),new IM(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:OM.bind(null,t),Ao:FM.bind(null,t),R_:LM.bind(null,t),A_:NM.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await th(t)):(await t.k_.stop(),t.v_.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new ag(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zx(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),qc(t))return new ie($.UNAVAILABLE,`${e}: ${t}`);throw t}class zM{constructor(){this.queries=new ho(e=>vx(e),yx),this.onlineState="Unknown",this.z_=new Set}}function jM(t){t.z_.forEach(e=>{e.next()})}var d0,p0;(p0=d0||(d0={})).J_="default",p0.Cache="cache";class BM{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new ho(a=>vx(a),yx),this.Da=new Map,this.Ca=new Set,this.va=new Zt(ae.comparator),this.Fa=new Map,this.Ma=new rg,this.xa={},this.Oa=new Map,this.Na=ro.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function UM(t,e,n){const i=KM(t);try{const r=await function(o,a){const l=Ve(o),c=mt.now(),h=a.reduce((y,_)=>y.add(_.key),Ft());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let _=_c(),w=Ft();return l.os.getEntries(y,h).next(b=>{_=b,_.forEach((x,E)=>{E.isValidDocument()||(w=w.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,_)).next(b=>{f=b;const x=[];for(const E of a){const P=ND(E,f.get(E.key).overlayedDocument);P!=null&&x.push(new ns(E.key,P,cx(P.value.mapValue),di.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,x,a)}).next(b=>{p=b;const x=b.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(y,b.batchId,x)})}).then(()=>({batchId:p.batchId,changes:wx(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.xa[o.currentUser.toKey()];c||(c=new Zt(Ce)),c=c.insert(a,l),o.xa[o.currentUser.toKey()]=c}(i,r.batchId,n),await nh(i,r.changes),await th(i.remoteStore)}catch(r){const s=zx(r,"Failed to persist write");n.reject(s)}}function g0(t,e,n){const i=Ve(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=Ve(o);l.onlineState=a;let c=!1;l.queries.forEach((h,f)=>{for(const p of f.U_)p.j_(a)&&(c=!0)}),c&&jM(l)}(i.eventManager,e),r.length&&i.Sa.h_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function HM(t,e){const n=Ve(t),i=e.batch.batchId;try{const r=await _M(n.localStore,e);Bx(n,i,null),jx(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await nh(n,r)}catch(r){await ox(r)}}async function $M(t,e,n){const i=Ve(t);try{const r=await function(o,a){const l=Ve(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(yt(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(i.localStore,e);Bx(i,e,n),jx(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await nh(i,r)}catch(r){await ox(r)}}function jx(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function Bx(t,e,n){const i=Ve(t);let r=i.xa[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}async function nh(t,e,n){const i=Ve(t),r=[],s=[],o=[];i.ba.isEmpty()||(i.ba.forEach((a,l)=>{o.push(i.Ba(l,e,n).then(c=>{if((c||n)&&i.isPrimaryClient){const h=c&&!c.fromCache;i.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){r.push(c);const h=og.Ki(l.targetId,c);s.push(h)}}))}),await Promise.all(o),i.Sa.h_(r),await async function(l,c){const h=Ve(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(c,p=>B.forEach(p.qi,y=>h.persistence.referenceDelegate.addReference(f,p.targetId,y)).next(()=>B.forEach(p.Qi,y=>h.persistence.referenceDelegate.removeReference(f,p.targetId,y)))))}catch(f){if(!qc(f))throw f;Z("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const y=h.ns.get(p),_=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(_);h.ns=h.ns.insert(p,w)}}}(i.localStore,s))}async function WM(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const i=await Mx(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new ie($.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await nh(n,i.us)}}function KM(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$M.bind(null,e),e}class m0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Zc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return vM(this.persistence,new mM,e.initialUser,this.serializer)}createPersistence(e){return new dM(sg.Hr,this.serializer)}createSharedClientState(e){return new EM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class QM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>g0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=WM.bind(null,this.syncEngine),await VM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zM}()}createDatastore(e){const n=Zc(e.databaseInfo.databaseId),i=function(s){return new kM(s)}(e.databaseInfo);return function(s,o,a,l){return new CM(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new RM(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>g0(this.syncEngine,n,0),function(){return h0.D()?new h0:new SM}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,h){const f=new BM(r,s,o,a,l,c);return h&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(i){const r=Ve(i);Z("RemoteStore","RemoteStore shutting down."),r.M_.add(5),await ll(r),r.O_.shutdown(),r.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Lt.UNAUTHENTICATED,this.clientId=sx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{Z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(Z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=zx(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function of(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await Mx(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function y0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YM(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>f0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>f0(e.remoteStore,r)),t._onlineComponents=e}function qM(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function YM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await of(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!qM(n))throw n;dc("Error using user provided cache. Falling back to memory cache: "+n),await of(t,new m0)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await of(t,new m0);return t._offlineComponents}async function XM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await y0(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await y0(t,new QM))),t._onlineComponents}function JM(t){return XM(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t,e,n){if(!n)throw new ie($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZM(t,e,n,i){if(e===!0&&i===!0)throw new ie($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _0(t){if(!ae.isDocumentKey(t))throw new ie($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function w0(t){if(ae.isDocumentKey(t))throw new ie($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function $x(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lg(t);throw new ie($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ie($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ux((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ih{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ie($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x0(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new H2;switch(i.type){case"firstParty":return new Q2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ie($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=v0.get(n);i&&(Z("ComponentProvider","Removing Datastore"),v0.delete(n),i.terminate())}(this),Promise.resolve()}}function eO(t,e,n,i={}){var r;const s=(t=$x(t,ih))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&dc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Lt.MOCK_USER;else{a=SR(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new ie($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Lt(c)}t._authCredentials=new $2(new rx(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ug(this.firestore,e,this._query)}}class pi{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new er(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pi(this.firestore,e,this._key)}}class er extends ug{constructor(e,n,i){super(e,n,wD(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pi(this.firestore,null,new ae(e))}withConverter(e){return new er(this.firestore,e,this._path)}}function tO(t,e,...n){if(t=Ha(t),Hx("collection","path",e),t instanceof ih){const i=Je.fromString(e,...n);return w0(i),new er(t,null,i)}{if(!(t instanceof pi||t instanceof er))throw new ie($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Je.fromString(e,...n));return w0(i),new er(t.firestore,null,i)}}function nO(t,e,...n){if(t=Ha(t),arguments.length===1&&(e=sx.newId()),Hx("doc","path",e),t instanceof ih){const i=Je.fromString(e,...n);return _0(i),new pi(t,null,new ae(i))}{if(!(t instanceof pi||t instanceof er))throw new ie($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Je.fromString(e,...n));return _0(i),new pi(t.firestore,t instanceof er?t.converter:null,new ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Ox(this,"async_queue_retry"),this.hu=()=>{const n=sf();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=sf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=sf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Vr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!qc(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Yr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const r=ag.createAndSchedule(this,e,n,i,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&ge()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Wx extends ih{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new iO}(),this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Kx(this),this._firestoreClient.terminate()}}function rO(t,e){const n=typeof t=="object"?t:R2(),i=typeof t=="string"?t:"(default)",r=P2(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=xR("firestore");s&&eO(r,...s)}return r}function sO(t){return t._firestoreClient||Kx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Kx(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,c,h){return new aD(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Ux(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new GM(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xa(wi.fromBase64String(e))}catch(n){throw new ie($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xa(wi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=/^__.*__$/;class aO{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new al(e,this.data,n,this.fieldTransforms)}}function Yx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class cg{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new cg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Ec(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(Yx(this.fu)&&oO.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class lO{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Zc(e)}Fu(e,n,i,r=!1){return new cg({fu:e,methodName:n,vu:i,path:kt.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uO(t){const e=t._freezeSettings(),n=Zc(t._databaseId);return new lO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cO(t,e,n,i,r,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,r);eE("Data must be an object, but it was:",o,i);const a=Jx(i,o);let l,c;if(s.merge)l=new On(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const p=hO(e,f,n);if(!o.contains(p))throw new ie($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);pO(h,p)||h.push(p)}l=new On(h),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new aO(new Mn(a),l,c)}function Xx(t,e){if(Zx(t=Ha(t)))return eE("Unsupported field value:",e,t),Jx(t,e);if(t instanceof Gx)return function(i,r){if(!Yx(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=Xx(a,r.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Ha(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return AD(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=mt.fromDate(i);return{timestampValue:Pd(r.serializer,s)}}if(i instanceof mt){const s=new mt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Pd(r.serializer,s)}}if(i instanceof qx)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xa)return{bytesValue:HD(r.serializer,i._byteString)};if(i instanceof pi){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Rx(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${lg(i)}`)}(t,e)}function Jx(t,e){const n={};return lx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ol(t,(i,r)=>{const s=Xx(r,e.pu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function Zx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof qx||t instanceof Xa||t instanceof pi||t instanceof Gx)}function eE(t,e,n){if(!Zx(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=lg(n);throw i==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function hO(t,e,n){if((e=Ha(e))instanceof Qx)return e._internalPath;if(typeof e=="string")return dO(t,e);throw Ec("Field path arguments must be of type string or ",t,!1,void 0,n)}const fO=new RegExp("[~\\*/\\[\\]]");function dO(t,e,n){if(e.search(fO)>=0)throw Ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qx(...e.split("."))._internalPath}catch{throw Ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ec(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new ie($.INVALID_ARGUMENT,a+t+l)}function pO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t,e,n){let i;return i=t?t.toFirestore(e):e,i}function mO(t,e){const n=$x(t.firestore,Wx),i=nO(t),r=gO(t.converter,e);return yO(n,[cO(uO(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,di.exists(!1))]).then(()=>i)}function yO(t,e){return function(i,r){const s=new Vr;return i.asyncQueue.enqueueAndForget(async()=>UM(await JM(i),r,s)),s.promise}(sO(t),e)}(function(e,n=!0){(function(r){co=r})(A2),fc(new $a("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Wx(new W2(i.getProvider("auth-internal")),new q2(i.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ie($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(c.options.projectId,h)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Bs(Xv,"4.6.3",e),Bs(Xv,"4.6.3","esm2017")})();const vO={apiKey:"AIzaSyB1vn7sEDa5mj3c5ctWV7hsOeiX0A0HWO8",authDomain:"stemming-e4a6e.firebaseapp.com",projectId:"stemming-e4a6e",storageBucket:"stemming-e4a6e.appspot.com",messagingSenderId:"16411106869",appId:"1:16411106869:web:4a8e205f1c775acbb39b7c",measurementId:"G-RJ295FQMVS"},_O=G1(vO),wO=rO(_O),xO=["/images/cryingSmiley.png","/images/angrySmiley.png","/images/frowningSmiley.png","/images/wozySmiley.png","/images/sleepySmiley.png","/images/relievedSmiley.png","/images/heartsSmiley.png","/images/zonnebrilSmiley.png","/images/grinningSmiley.png","/images/zanySmiley.png"],EO=()=>{const t=Uc(),[e,n]=z.useState(null),[i,r]=z.useState(!1),s=()=>{window.localStorage.removeItem("token"),t("/")},o=()=>{t("/home")},a=f=>{n(f)},l=()=>{e?r(!0):alert("Selecteer eerst een stemming.")},c=async()=>{try{const f=await mO(tO(wO,"stemmingen"),{image:e,timestamp:new Date});console.log("Document toegevoegd met ID: ",f.id),alert("Stemming succesvol opgeslagen!"),n(null),r(!1)}catch(f){console.error("Error adding document: ",f),alert("Er is een fout opgetreden bij het opslaan van de stemming.")}},h=()=>{r(!1)};return K.jsxs("div",{className:"h-screen bg-white flex flex-col justify-between relative",children:[K.jsxs("div",{className:"flex flex-col items-center pt-10",children:[K.jsx("div",{className:"font-koulen text-[74px] text-[#3B3939] mb-4",children:K.jsx("h1",{children:"Stemming"})}),K.jsx("div",{className:"absolute top-4 right-4",children:K.jsx("button",{onClick:s,className:"bg-[#3B3939] text-white font-koulen py-2 px-4 rounded hover:bg-[#343334]",children:"Logout"})}),K.jsx("div",{className:"w-full p-8 text-[15px] text-[#3B3939]  mx-auto text-center mt-4 font-trispace",children:K.jsx("p",{children:"Muziek heeft een betoverend effect op onze emoties. Het heeft de kracht om ons op te vrolijken, te kalmeren, te troosten of zelfs nostalgisch te maken. Een vrolijk deuntje kan ons meteen energie geven en ons humeur verbeteren, terwijl een rustige melodie ons kan helpen ontspannen na een stressvolle dag."})})]}),K.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-4",children:xO.map((f,p)=>K.jsx("img",{src:f,alt:`emoji-${p}`,className:`w-16 h-16 cursor-pointer ${e===f?"border-4 rounded border-[#FFBE17]":""}`,onClick:()=>a(f)},p))}),K.jsx("button",{onClick:l,className:"py-2 px-4 bg-[#FFBE17] font-koulen text-[20px] text-white rounded self-center mb-2",children:"Versturen"}),i&&K.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:K.jsxs("div",{className:"bg-white p-10 rounded shadow-lg",children:[K.jsx("h2",{className:"text-[20px] font-trispace mb-4 text-center text-[#3B3939]",children:"Bevestig je keuze, deze kan hierna niet meer worden aangepast."}),K.jsxs("div",{className:"flex justify-between",children:[K.jsx("button",{onClick:c,className:"py-2 px-4 bg-[#6F17FF] text-[25px] text-white font-koulen rounded",children:"Bevestigen"}),K.jsx("button",{onClick:h,className:"py-2 px-4 bg-[#FFBE17] text-[25px] text-white font-koulen rounded",children:"Annuleren"})]})]})}),K.jsx("div",{className:"waves",children:K.jsxs("svg",{className:"parallax",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 24 150 40",preserveAspectRatio:"none",shapeRendering:"auto",children:[K.jsx("defs",{children:K.jsx("path",{id:"gentle-wave",d:"M-160 44c30 0 58-18 88-18s58 18 88 18 58-18 88-18 58 18 88 18v44h-352z"})}),K.jsxs("g",{className:"parallax",children:[K.jsx("use",{xlinkHref:"#gentle-wave",x:"48",y:"0",fill:"rgba(111, 23, 255, 0.7)"}),K.jsx("use",{xlinkHref:"#gentle-wave",x:"48",y:"3",fill:"rgba(111, 23, 255, 0.5)"}),K.jsx("use",{xlinkHref:"#gentle-wave",x:"48",y:"5",fill:"rgba(111, 23, 255, 0.3)"}),K.jsx("use",{xlinkHref:"#gentle-wave",x:"48",y:"7",fill:"#6F17FF"}),K.jsx("use",{xlinkHref:"#gentle-wave",x:"48",y:"3",fill:"#6F17FF"})]})]})}),K.jsx("div",{className:"relative",children:K.jsx("img",{src:"/images/boat.png",alt:"Boot",className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-20 h-auto cursor-pointer",onClick:o})})]})},SO=()=>K.jsx("div",{children:K.jsx(ok,{})}),TO=()=>K.jsxs(K.Fragment,{children:[K.jsx("h2",{children:"OH NO!!!!!!!!!!! U DROPPED UR SILLY LITTLE HAT!"}),K.jsx(Pk,{to:"/",children:"hihi"})]}),bO=pk([{element:K.jsx(SO,{}),errorElement:K.jsx(TO,{}),children:[{path:"/",element:K.jsx(Ck,{})},{path:"/home",element:K.jsx(hR,{})},{path:"/stemming",element:K.jsx(EO,{})}]}]);af.createRoot(document.getElementById("root")).render(K.jsx(Tc.StrictMode,{children:K.jsx(Sk,{router:bO})}));
